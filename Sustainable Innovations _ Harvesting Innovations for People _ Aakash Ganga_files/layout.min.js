"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};define("layout/util/dataPreparationsForAnchors",["lodash","coreUtils","experiment"],function(e,t,i){function n(){return{flat:{},sortingY:{},minHeight:{},shrinkableContainer:{},ignoreOriginalValue:{},noHeightChange:{},containerHeightMargin:{},currentHeight:{},currentY:{},heightDiff:{},topDiff:{},locked:{},valueForFirstLockedAnchor:{}}}function o(e){return"Document"===e.type||"wysiwyg.viewer.components.PagesContainer"===e.componentType}function r(e,t,i){var n=e.id;e.layout&&e.layout.rotationInDegrees&&(t.noHeightChange[n]=!0),i.shrinkableContainer[n]?t.shrinkableContainer[n]=!0:o(e,i)&&(t.ignoreOriginalValue[n]=!0)}function a(e,i,n){return t.boundingLayout.getBoundingHeight({height:e,width:i,rotationInDegrees:n})}function s(e,i,n,o){return t.boundingLayout.getBoundingY({y:e,height:i,width:n,rotationInDegrees:o})}function u(e,t,n){var o,r=e.id,u=e.layout?e.layout.rotationInDegrees:0,c=n.height[r];o=i.isOpen("sv_partialReLayout")||i.isOpen("layout_verbs_with_anchors")?n.top[r]:n.top&&void 0!==n.top[r]?n.top[r]:e.layout&&e.layout.y||0,t.currentHeight[e.id]=u?a(c,n.width[r],u):c,t.heightDiff[r]=t.currentHeight[e.id]-c,t.currentY[r]=u?s(o,c,n.width[r],u):o,t.topDiff[r]=o-t.currentY[r]}function c(i,n,o,a,s,d){if(e.has(o.height,i.id)){r(i,n,o),u(i,n,o),n.minHeight[i.id]=l(i,n),n.currentHeight[i.id]=Math.max(n.currentHeight[i.id],n.minHeight[i.id]),n.collapsed[i.id]&&(n.currentHeight[i.id]=0),n.flat[i.id]=i;var h=n.currentY[i.id],g=a+h-s,p=n.currentHeight[i.id];if(n.sortingY[i.id]=g,n.valueForFirstLockedAnchor[i.id]={pusherId:null,value:-Number.MAX_VALUE},!n.collapsed[i.id]){var m=t.dataUtils.getChildrenData(i,d);e.forEach(m,function(e){c(e,n,o,g,p||5e3,d)})}}}function l(e,t){var i=e.id;return i&&!d(i)?Math.max(t.minHeight[i]||0,5):t.minHeight[i]||0}function d(t){return t&&e.includes(C,t)}function h(e,t,i,n){c(e,t,i,0,0,n)}function g(e,t,i){return{distance:i,type:e,targetComponent:t,locked:!0,notEnforcingMinValue:!0}}function p(t,i,n,o){var r=t;return t.$cloned||(r=e.clone(r),r.layout=e.clone(r.layout),r.layout.anchors=e.clone(r.layout.anchors),r.$cloned=!0),r.layout.anchors.push(g("TOP_TOP",i,n),g("BOTTOM_BOTTOM",i,o)),r}function m(t){e.forEach(t,function(i,n){if(i.layout&&i.layout.anchors){var o=e.filter(i.layout.anchors,{type:"LOCK_BOTTOM"});e.isEmpty(o)||(e.forEach(o,function(e){t[n]=p(t[n],e.targetComponent,e.topToTop,e.distance),t[e.targetComponent]=p(t[e.targetComponent],n,-1*e.topToTop,-1*e.distance)}),e.remove(t[n].layout.anchors,{type:"LOCK_BOTTOM"}))}})}function f(t){return"wysiwyg.viewer.components.PopupContainer"===e.get(t,"components[0].componentType")}function y(t,i,o){var r=n();r.containerHeightMargin=i.containerHeightMargin||{},r.minHeight=e.clone(i.minHeight||{}),r.collapsed=e.clone(i.collapsed||{}),r.injectedAnchors=i.injectedAnchors||{},r.__isPopup=f(t),h(t,r,i,o),m(r.flat);var a=e.sortBy(e.keys(r.flat),function(e){return r.sortingY[e]});return delete r.sortingY,{structureData:r,sortedIds:a}}function w(t,i){e.forEach(i.flat,function(e,n){t.height[n]=i.currentHeight[n]-i.heightDiff[n],t.top[n]=i.currentY[n]+i.topDiff[n]})}function v(i,n,o,r){if(!e.has(i.height,r.id))return 0;n=n||0,n+=i.top[r.id];var a=t.dataUtils.getChildrenData(r,o);return a=e.reject(a,{layout:{fixedPosition:!0}}),Math.max(n+i.height[r.id],Math.max.apply(null,e.map(a,e.partial(v,i,n,o))))}var C=["WIX_ADS"];return{getDataForAnchorsAndSort:y,fixMeasureMap:w,maxMeasureMapHeight:v}}),define("layout/util/anchors",["lodash","layout/util/dataPreparationsForAnchors"],function(e,t){function i(e,t,i,n){return t!==i&&(n.dirty[e]=!0,n.changedCompsMap[e]=n.flat[e]),n.dirty[e]}function n(t,i,n,o){var r=n[o.targetComponent],a=n[i];o.notEnforcingMinValue&&!e.isEmpty(a)&&(o.notEnforcingMinValue=!1),r[i]=t;var s=Math.max.apply(null,e.values(r));return o.notEnforcingMinValue&&delete r[i],s}function o(e,t,i,n,o){var r=e.targetComponent,a=t.valueForFirstLockedAnchor[r];a&&(e.locked||null===o?(a.pusherId&&(i[r]={},i[r][a.pusherId]=a.value),delete t.valueForFirstLockedAnchor[r]):(a.pusherId=n,a.value=Math.max(o,a.value)))}function r(e){return e%1}function a(e,t){return t-=r(t-e)}function s(t,i){return e.has(t.currentHeight,i)}function u(e,t,i,n){var o;return n.shrinkableContainer[i]?o=t:e.locked?o=t+e.distance:(o=t+10,n.ignoreOriginalValue[i]||(o=Math.max(o,e.originalValue))),o}function c(t,i,n,o){var r=t;return e.isNumber(o.minHeight[i])&&t<o.minHeight[i]&&(r=o.minHeight[i],n.notEnforcingMinValue&&(n.notEnforcingMinValue=!1,o.dirty[i]=!0,o.changedCompsMap[i]=o.flat[i])),r}function l(e,t,i){return"masterPage"===e?[]:i.injectedAnchors[e]||t[e]||[]}function d(t,i,n,o,r,a){function s(t){var s=l(t,o,n),c=Number.MAX_VALUE;return!n.dirty[t]||r&&!p[t]||e.forEach(s,function(e){if(m[e.type]&&n.flat[e.targetComponent]&&(!r||p[e.targetComponent])){e.targetComponent===a&&(u=!0);var o=m[e.type](t,e,n)?i[e.targetComponent]:Number.MAX_VALUE;c=Math.min(o,c)}}),n.dirty[t]=!1,c}for(var u=!1,c=t.length,d=0;d<c;){var h=s(t[d]);d=Math.min(d+1,h)}return u}function h(i,n,o,r,a,s,u,c){var l=t.getDataForAnchorsAndSort(i,n,r),h=l.structureData,p=l.sortedIds,m=e.invert(p);h.dirty={},h.toTopAnchorsY={},h.toBottomAnchorsHeight={},h.locked=s,h.changedCompsMap=h.flat,h.ignoreBottomBottom=!!c,e.forEach(h.flat,function(e,t){h.dirty[t]=!0,h.toTopAnchorsY[t]={},h.toBottomAnchorsHeight[t]={}}),u&&(h.changedCompsMap=e.pick(h.flat,e.keys(u)));var f=d(p,m,h,o,a,i.id);return t.fixMeasureMap(n,h),!f&&e.includes(g,i.type)&&(n.height[i.id]=t.maxMeasureMapHeight(n,0,r,i),h.changedCompsMap[i.id]=h.flat[i.id]),h.changedCompsMap}var g=["Page","Document"],p={SITE_FOOTER:!0,SITE_HEADER:!0,SITE_PAGES:!0,PAGES_CONTAINER:!0,masterPage:!0,SITE_BACKGROUND:!0},m={};return m.TOP_TOP=function(t,r,u){var c=r.targetComponent;if(!s(u,c)||!s(u,t))return!1;if(e.has(u.locked,c))return!1;var l=u.currentY[c],d=u.currentY[t]+r.distance;return o(r,u,u.toTopAnchorsY,t,null),d=n(d,t,u.toTopAnchorsY,r),d=a(l,d),u.currentY[c]=d,i(c,l,d,u)},m.BOTTOM_TOP=function(t,r,u){var c=r.targetComponent;if(!s(u,c)||!s(u,t))return!1;if(e.has(u.locked,c))return!1;var l=u.currentY[c],d=u.currentHeight[t]+u.currentY[t],h=null;return r.locked?d+=r.distance:(h=d+10,d=u.valueForFirstLockedAnchor[c]?Math.max(d+10,r.originalValue):h),d=Math.max(d,u.currentY[t]+u.currentHeight[t]/2),o(r,u,u.toTopAnchorsY,t,h),d=n(d,t,u.toTopAnchorsY,r),d=a(l,d),u.currentY[c]=d,i(c,l,d,u)},m.BOTTOM_PARENT=function(t,o,r){var a=o.targetComponent;if(!s(r,a)||!s(r,t))return!1;if(e.has(r.locked,a))return!1;if(r.flat[a].layout&&r.flat[a].layout.rotationInDegrees)return!1;var l=r.currentHeight[a],d=r.currentHeight[t]+r.currentY[t],h=r.containerHeightMargin[a]||0,g=u(o,d+h,a,r);return g=c(g,a,o,r),g=n(g,t,r.toBottomAnchorsHeight,o),r.currentHeight[a]=g,i(a,l,g,r)},m.BOTTOM_BOTTOM=function(t,o,r){if(r.ignoreBottomBottom)return!1;var a=o.targetComponent;if(!s(r,a)||!s(r,t))return!1;if(e.has(r.locked,a))return!1;if(r.flat[a].layout&&r.flat[a].layout.rotationInDegrees)return!1;var l=r.currentHeight[a],d=r.currentHeight[t]+r.currentY[t],h=r.currentY[a],g=u(o,d-h,a,r);return g=c(g,a,o,r),g=n(g,t,r.toBottomAnchorsHeight,o),r.currentHeight[a]=g,i(a,l,g,r)},{enforceAnchors:h,HARD_WIRED_COMPS:p}}),define("layout/util/reduceDistancesAlgorithm/sortByAnchors",["lodash"],function(e){function t(t,i){var n=e.reduce(t,function(t,n){var o=i[n.id];return e.forEach(o,function(e){t[e.targetComponent]=!0}),t},{});return e.filter(t,function(e){return!n[e.id]})}function i(t,i){return e.has(t,i)}function n(n,o){function r(t,n){if(i(a,t)){var s=e.max([a[t],n+1]);a[t]=s;var u=e.map(o[t],"targetComponent");e.forEach(u,function(e){r(e,s)})}}var a=e.reduce(n,function(e,t){return e[t.id]=0,e},{}),s=t(n,o);return e.forEach(s,function(e){r(e.id,0)}),e.sortBy(n,function(e){return a[e.id]})}return n}),define("layout/util/reduceDistancesAlgorithm/anchorsTypes",[],function(){return{TOP_TOP:"TOP_TOP",BOTTOM_TOP:"BOTTOM_TOP",BOTTOM_PARENT:"BOTTOM_PARENT"}}),define("layout/util/reduceDistancesAlgorithm/createAnchorsDataManager",["lodash","layout/util/reduceDistancesAlgorithm/anchorsTypes"],function(e,t){function i(i,n,r,a){function s(e){d.from[e.fromComp]=d.from[e.fromComp]||[],d.from[e.fromComp].push(e),d.to[e.targetComponent]=d.to[e.targetComponent]||[],d.to[e.targetComponent].push(e)}function u(t){a[t.targetComponent]&&(t=e.assign({},t,{locked:!0,distance:0})),h.from[t.fromComp]=t,h.to[t.targetComponent]=h.to[t.targetComponent]||[],h.to[t.targetComponent].push(t)}function c(t){return r?o[t.fromComp]&&o[t.targetComponent]:e.has(n,t.fromComp)&&e.has(n,t.targetComponent)}var l=e.flatten(e.values(i)),d={from:{},to:{}},h={from:{},to:{}},g=e.filter(l,c);return e.forEach(g,function(e){e.type===t.BOTTOM_PARENT?u(e):s(e)}),{anchors:g,siblingsAnchors:d,childToParentAnchors:h}}function n(t,n,o,r){var a=i(t,n,o,r);e.merge(this,{getComponentPushers:function(e){return a.siblingsAnchors.to[e]||[]},getComponentAnchorToParent:function(e){return a.childToParentAnchors.from[e]}})}var o={SITE_FOOTER:!0,SITE_HEADER:!0,SITE_PAGES:!0,PAGES_CONTAINER:!0,masterPage:!0,SITE_BACKGROUND:!0};return function(e,t,i,o){return new n(e,t,i,o)}}),define("layout/util/reduceDistancesAlgorithm/createMeasureMapManager",["lodash","coreUtils"],function(e,t){function i(e,i,n){return t.boundingLayout.getBoundingHeight({height:e,width:i,rotationInDegrees:n})}function n(e,i,n,o){return t.boundingLayout.getBoundingY({y:e,height:i,width:n,rotationInDegrees:o})}function o(t,o){return e(o).pickBy(function(t){return e.get(t,"layout.rotationInDegrees")}).mapValues(function(e,o){var r=t.top[o],a=t.height[o],s=t.width[o];return{heightDiff:i(a,s,e.layout.rotationInDegrees)-a,yDiff:n(r,a,s,e.layout.rotationInDegrees)-r}}).value()}function r(t,i){function n(t){return e.get(s,[t,"yDiff"],0)}function r(t){return e.get(s,[t,"heightDiff"],0)}var a=t,s=o(t,i);e.merge(this,{get:function(){return a},getComponentTop:function(t){if(!e.isUndefined(a.top[t]))return a.top[t]+n(t)},getComponentHeight:function(t){if(!e.isUndefined(a.height[t]))return a.collapsed[t]?0:a.height[t]+r(t)},getComponentMinHeight:function(t){return a.collapsed[t]?0:e.max([a.minHeight[t],5])},getContainerHeightMargin:function(e){return a.containerHeightMargin[e]||0},isCollapsed:function(e){return Boolean(a.collapsed[e])},isShrinkableContainer:function(e){return Boolean(a.shrinkableContainer[e])},getComponentWidth:function(e){return a.width[e]},getSiteWidth:function(){return a.width.site},getClientSize:function(){return{width:a.clientWidth,height:a.clientHeight}},setComponentTop:function(e,t){a.top[e]=t-n(e)},setComponentHeight:function(e,t){a.height[e]=t-r(e)}})}return function(e,t){return new r(e,t)}}),define("layout/util/reduceDistancesAlgorithm/createOriginalValuesManager",["lodash"],function(e){function t(t,i){e.merge(this,{getOriginalTop:function(n){return e.get(t,[n,"top"])||i[n].y},getOriginalHeight:function(n){return e.get(t,[n,"height"])||i[n].height}})}return function(e,i){return new t(e,i)}}),define("layout/util/reduceDistancesAlgorithm/generateEnforceData",["lodash","coreUtils","siteUtils","layout/util/reduceDistancesAlgorithm/sortByAnchors","layout/util/reduceDistancesAlgorithm/createAnchorsDataManager","layout/util/reduceDistancesAlgorithm/createMeasureMapManager","layout/util/reduceDistancesAlgorithm/createOriginalValuesManager"],function(e,t,i,n,o,r,a){function s(t){function i(t){n[t.id]=t,e.forEach(t.children,i)}var n={};return i(t),n}function u(i,o,r){function a(i){var s=m[i.id],u=t.dataUtils.getChildrenKey(i,r),c=i[u],l=e.omit(i,u);if(s){var d=e.reduce(c,function(t,i){return e.includes(s,i.id)&&t.push(a(i)),t},[]);l.children=n(d,o)}else l.children=[];return l}return e.find(m.ROOT,function(e){return e===i.id})?a(i):null}function c(i,o,r,a){function s(i){var u=t.dataUtils.getChildrenKey(i,a),c=i[u],l=e.omit(i,u),d=Boolean(o.collapsed[i.id]),h=d?[]:e(c).filter(function(t){return e.has(o.height,t.id)}).map(s).value();return l.children=n(h,r),l}return s(i)}function l(e,t,i,n,o){return n?u(e,i,o):c(e,t,i,o)}function d(t,i,n,o){var r=e.get(n,[t.id,o]);return e.merge({},r,i.injectedAnchors)}function h(e,t,i,n){return o(e,n,i,t.shrinkableContainer)}function g(t,i,n,o){return a(e.get(i,[t.id,n]),o)}function p(n,o){return e.mapValues(n,function(n){if(n.layout){var r=e.cloneDeep(n.layout);if(e.assign(r,t.boundingLayout.getBoundingLayout(n.layout)),i.layout.isVerticallyStretchedToScreen(r)){r.isVerticallyStretchedToScreen=!0;var a={width:o.clientWidth,height:o.clientHeight},s=o.width.site;r.minHeight=i.positionAndSize.getHeightInPixelsRounded(n.layout,null,a,s),delete r.docked.top,delete r.docked.bottom}return r}})}var m={ROOT:["masterPage","SITE_BACKGROUND"],masterPage:["SITE_HEADER","PAGES_CONTAINER","SITE_FOOTER"],PAGES_CONTAINER:["SITE_PAGES"]};return function(e,t,n,o,a,u,c){var m=a?i.constants.VIEW_MODES.MOBILE:i.constants.VIEW_MODES.DESKTOP,f=d(e,t,n,m),y=l(e,t,f,u,a);if(!y)return null;var w=s(y),v=p(w,t);return{structure:y,flatDataMap:w,layoutsMap:v,measureMapManager:r(t,w),anchorsDataManager:h(f,t,u,w),originalValuesManager:g(e,o,m,v),lockedCompsMap:c||{}}}}),define("layout/util/reduceDistancesAlgorithm/minHeightDataUtils",["lodash"],function(e){function t(e){var t=e.absoluteHeight;if(e.topPercents||e.bottomPercents){var i=(e.topPercents||0)+(e.bottomPercents||0),n=1-i/100;return Math.ceil(t/n)}return t}function i(t,i){return e.reduce(t,function(e,t){var n=Math.ceil(t.topPercents/100*i),o=Math.ceil(t.bottomPercents/100*i),r=n+t.absoluteHeight+o;return r>e?r:e},i)}function n(e){return!e.topPercents&&!e.bottomPercents}function o(e,t,i){this.absoluteHeight=e||0,t&&(this.topPercents=t),i&&(this.bottomPercents=i)}function r(e,t,i){return new o(e,t,i)}function a(e){return new o(e.px,e.pct)}function s(e){return new o(e.px,null,e.pct)}function u(t){var i,n;return e.isNumber(t.pct)&&(t.pct<0?n=2*Math.abs(t.pct):i=2*t.pct),new o(2*Math.abs(t.px),i,n)}function c(e,t){this.absoluteHeight=e,this.dynamicHeights=t}function l(t){var i=0,o=[];return e.forEach(t,function(e){n(e)?i=Math.max(i,e.absoluteHeight):o.push(e)}),new c(i,o)}return o.prototype.clone=function(){return new o(this.absoluteHeight,this.topPercents,this.bottomPercents)},o.prototype.addAbsoluteHeight=function(e){return this.absoluteHeight+=e,this},o.prototype.addMinHeightData=function(e){this.absoluteHeight+=e.absoluteHeight;var t=(this.topPercents||0)+(e.topPercents||0);t&&(this.topPercents=t);var i=(this.bottomPercents||0)+(e.bottomPercents||0);return i&&(this.bottomPercents=i),this},c.prototype.merge=function(e){return this.dynamicHeights=this.dynamicHeights.concat(e.dynamicHeights),this.absoluteHeight=Math.max(this.absoluteHeight,e.absoluteHeight),this},c.prototype.solve=function(){if(e.isEmpty(this.dynamicHeights))return this.absoluteHeight;var n=Math.ceil(e(this.dynamicHeights).map(t).max()),o=Math.max(this.absoluteHeight,n);return i(this.dynamicHeights,o)},{createMinHeightData:r,createMinHeightDataForDockedTopData:a,createMinHeightDataForDockedBottomData:s,createMinHeightDataForVerticallyCenteredDockedData:u,createChainMinHeightData:l}}),define("layout/util/reduceDistancesAlgorithm/reduceDistancesAlgorithmUtils",[],function(){return{getAnchorMinDistance:function(e){return e.locked?e.distance:10}}}),define("layout/util/reduceDistancesAlgorithm/enforceComponentsMinHeight",["lodash","siteUtils","layout/util/reduceDistancesAlgorithm/minHeightDataUtils","layout/util/reduceDistancesAlgorithm/reduceDistancesAlgorithmUtils","layout/util/reduceDistancesAlgorithm/anchorsTypes"],function(e,t,i,n,o){function r(e){var n=t.layout.getTopDockData(e);return n?i.createMinHeightDataForDockedTopData(n):i.createMinHeightData(e.y)}function a(e,n,o){var a=i.createMinHeightData(),s=r(e),u=t.layout.isDockedToDirection(e,"top");return n||u||!o||s.absoluteHeight<0?s:a}function s(t,i,r){var a=r.type===o.TOP_TOP?0:i,s=n.getAnchorMinDistance(r);return e.map(t,function(e){var t=a+s;return e.clone().addAbsoluteHeight(t)})}function u(o,r,u,c,l,d){function h(e,t){t&&t.locked&&(b.isShrinkableContainer=!0),b.chainsMinHeightData.merge(e)}function g(e,t){var i=d[e];return{forNonDocked:[a(i,t,!1)],forDocked:[a(i,t,!0)]}}function p(t,n){var o=!1,r=[],a=[];if(e.forEach(n,function(e){e.locked&&(o=!0);var t=M[e.fromComp],i=c[e.fromComp];r=r.concat(s(t.forDocked,i,e)),a=a.concat(s(t.forNonDocked,i,e))}),!o){var u=l.getOriginalTop(t),d=i.createMinHeightData(u);a.push(d)}return{forDocked:r,forNonDocked:a}}function m(e){var o,a=t.layout.getBottomDockData(d[e]);if(a)o=i.createMinHeightDataForDockedBottomData(a);else{var s=r.getComponentAnchorToParent(e);o=i.createMinHeightData(n.getAnchorMinDistance(s))}var u=c[e];return o.clone().addAbsoluteHeight(u)}function f(t,n,r){var a=n?r.forDocked:r.forNonDocked,s=m(t,o),u=e.map(a,function(e){return e.clone().addMinHeightData(s)});return i.createChainMinHeightData(u)}function y(e,n){var o=t.layout.getVerticallyCenteredDockData(n),r=c[e],a=i.createMinHeightDataForVerticallyCenteredDockedData(o).addAbsoluteHeight(r);return i.createChainMinHeightData([a])}function w(t){var i=r.getComponentPushers(t),n=e.isEmpty(i),o=!!u[t];return n||o?g(t,o):p(t,i)}function v(e){if(t.layout.isVerticallyCentered(d[e.id]))return void h(y(e.id,d[e.id]));var i=w(e.id);M[e.id]=i;var n=r.getComponentAnchorToParent(e.id),o=!!n,a=t.layout.isDockedToDirection(d[e.id],"bottom");(a||o)&&h(f(e.id,a,i),n)}function C(){return e.forEach(o.children,v),b.value=b.chainsMinHeightData.solve(),delete b.chainsMinHeightData,b}var b={value:0,chainsMinHeightData:i.createChainMinHeightData(),isShrinkableContainer:!1},M={};return C()}return function(i,n,o,r,a,s){function c(e,t,i){var o=[],a=s[e.id];if(!a)return o;var u=a.aspectRatio||0,c=i||a.isVerticallyStretchedToScreen||u||n.isShrinkableContainer(e.id)||t&&t.isShrinkableContainer;if(u){var l=n.getComponentWidth(e.id);o.push(u*l)}if(t&&(o.push(t.value+n.getContainerHeightMargin(e.id)),!c)){var d=r.getOriginalHeight(e.id);o.push(d)}if(c){var h=n.getComponentMinHeight(e.id),g=a.minHeight||0;o.push(h,g)}return o}function l(t,i,o){o?(i.length&&n.setComponentHeight(t,e.max(i)),p[t]=n.getComponentHeight(t)):p[t]=i.length?e.max(i):0}function d(e,i){if(n.isCollapsed(e.id))return n.setComponentHeight(e.id,0),void(p[e.id]=0);var o=t.layout.isVerticallyStretched(s[e.id]),r=c(e,i,o);l(e.id,r,!o)}function h(e){return!n.isCollapsed(e)}function g(t){var i,n=t.children,c=a[t.id];!e.isEmpty(n)&&h(t.id)&&(e.forEach(n,g),c||(i=u(t,o,a,p,r,s))),d(t,i)}var p={};g(i)}}),define("layout/util/reduceDistancesAlgorithm/enforceAnchorsAndDocking",["lodash","siteUtils","layout/util/reduceDistancesAlgorithm/reduceDistancesAlgorithmUtils","layout/util/reduceDistancesAlgorithm/anchorsTypes"],function(e,t,i,n){function o(e,i,n){var o=n.getComponentHeight(i),r=n.getComponentWidth(i),a=n.getClientSize(),s=n.getSiteWidth();return t.positionAndSize.getHeightInPixelsRounded(e,{width:r,height:o},a,s)}function r(e,i,n,o){var r={width:o.getComponentWidth(n),height:o.getComponentHeight(n)},a=o.getClientSize(),s=o.getComponentHeight(e);return t.positionAndSize.getYInPixelsRounded(i,r,a,s)}function a(t,o,r,a){var s=[],u=e.every(o,{locked:!1});return e.forEach(o,function(e){if(u){var o=r.getOriginalTop(t);s.push(o)}var c=a.getComponentTop(e.fromComp),l=e.type===n.TOP_TOP?0:a.getComponentHeight(e.fromComp),d=i.getAnchorMinDistance(e),h=c+l+d;s.push(h)}),e.max(s)}function s(t,o){var r=[];return e.some(t,"locked")?(e.forEach(t,function(e){var t=o.getComponentTop(e.fromComp),a=e.type===n.TOP_TOP?0:o.getComponentHeight(e.fromComp),s=i.getAnchorMinDistance(e),u=t+a+s;r.push(u)}),e.max(r)):null}function u(e){return t.layout.isDockedToDirection(e,"bottom")}return function(n,c,l,d,h,g){function p(e,t){var i=r(e.id,g[e.id],t,c);c.setComponentTop(e.id,i)}function m(e,i){if(t.layout.isVerticallyStretched(g[e.id])&&!c.isCollapsed(e.id)){var n=o(g[e.id],i,c);c.setComponentHeight(e.id,n)}}function f(e,t){p(e,t.id),m(e,t.id)}function y(t){var i=l.getComponentPushers(t.id);if(!e.isEmpty(i)){var n=s(i,c);null!==n&&c.setComponentTop(t.id,n)}}function w(t){var i=l.getComponentPushers(t.id);if(!h[t.id]){if(e.isEmpty(i))return void c.setComponentTop(t.id,d.getOriginalTop(t.id));var n=a(t.id,i,d,c);c.setComponentTop(t.id,n)}}function v(i,n){e.forEach(i,function(e){t.layout.isVerticallyDocked(g[e.id])?f(e,n):w(e)})}function C(i,n){e.forEach(i,function(e){var i=t.layout.isDockedToDirection(g[e.id],"top"),o=t.layout.isDockedToDirection(g[e.id],"bottom");i||o||y(e,n)})}function b(t){function n(e,t){var i=c.getComponentTop(e),n=t-c.getComponentHeight(e);return n>=i?null:(c.setComponentTop(e,n),a=!0,n)}function o(t,r){var a=t.fromComp,s=i.getAnchorMinDistance(t),u=r-s,c=n(a,u);if(null!==c){var d=l.getComponentPushers(a);e.forEach(d,function(e){o(e,c)})}}function r(t){var i=c.getComponentTop(t),n=l.getComponentPushers(t);e.forEach(n,function(e){o(e,i)})}var a=!1,s=e.filter(t,function(e){return u(g[e.id])});return e.forEach(s,function(e){r(e.id)}),a}function M(e){return!c.isCollapsed(e)}function S(t){var i=t.children;if(!e.isEmpty(i)&&M(t.id)){v(i,t);b(i)&&C(i,t),e.forEach(i,S)}}S(n)}}),define("layout/util/reduceDistancesAlgorithm/reduceDistancesAlgorithm",["layout/util/reduceDistancesAlgorithm/enforceComponentsMinHeight","layout/util/reduceDistancesAlgorithm/enforceAnchorsAndDocking"],function(e,t){return{enforce:function(i){return e(i.structure,i.measureMapManager,i.anchorsDataManager,i.originalValuesManager,i.lockedCompsMap,i.layoutsMap),t(i.structure,i.measureMapManager,i.anchorsDataManager,i.originalValuesManager,i.lockedCompsMap,i.layoutsMap),i.flatDataMap}}}),define("layout/util/layoutAlgorithm",["lodash","experiment","coreUtils","siteUtils","layout/util/anchors","layout/util/reduceDistancesAlgorithm/generateEnforceData","layout/util/reduceDistancesAlgorithm/reduceDistancesAlgorithm"],function(e,t,i,n,o,r,a){function s(t,n,o){function r(t){e.has(n.height,t.id)&&(a[t.id]=t,e.forEach(i.dataUtils.getChildrenData(t,o),r))}var a={};return r(t),a}return{enforceStructure:function(i,u,c,l,d,h,g,p,m){var f=d?n.constants.VIEW_MODES.MOBILE:n.constants.VIEW_MODES.DESKTOP,y=e.get(c,[i.id,f]);if(y){if(t.isOpen("layout_verbs_with_anchors")){var w=r(i,u,c,l,d,h,g);return w?a.enforce(w):{}}return o.enforceAnchors(i,u,y,d,h,g,p,m)}return s(i,u,d)}}}),define("layout/util/createDOMPatchers",["zepto","lodash","loggingUtils"],function(e,t,i){function n(t,n,o){t[n]?e(t[n]).css(o):i.log.error("Cannot find node with id {"+n+"} to patch css. Either the node doesn't exist, or it was never measured, or it was measured under a different id.")}function o(t,n,o){t[n]?e(t[n]).attr(o):i.log.error("Cannot find node with id {"+n+"} to patch attributes. Either the node doesn't exist, or it was never measured, or it was measured under a different id.")}function r(e,n,o){e[n]?t.forEach(t.keys(o),function(t){e[n][t]=o[t]}):i.log.error("Cannot find node with id {"+n+"} to patch events. Either the node doesn't exist, or it was never measured, or it was measured under a different id.")}function a(n,o,r){if(n[o]){var a=e(n[o]);t.forOwn(r,function(e,t){a.data(t,e)})}else i.log.error("Cannot find node with id {"+o+"} to patch data. Either the node doesn't exist, or it was never measured, or it was measured under a different id.")}function s(e){return{css:t.partial(n,e),attr:t.partial(o,e),data:t.partial(a,e),events:t.partial(r,e)}}return s}),define("layout/util/rootLayoutUtils",["lodash","siteUtils"],function(e,t){return{getRootWidth:function(e,i,n){return t.layout.getRootWidth(i,n,e.getSiteWidth())},getRootLeft:function(e,i,n){return t.layout.getRootLeft(i,n,e.getSiteX())}}}),define("layout/util/singleCompLayout",["lodash","coreUtils","siteUtils","experiment","layout/util/rootLayoutUtils"],function(e,t,i,n,o){function r(e){return"fixed"===e.position}function a(e){return i.layout.isHorizontallyStretched(e.layout)}function s(e){return L[e.componentType]}function u(e){return i.layout.isVerticallyStretched(e.layout)}function c(e){return L[e.componentType]}function l(e,t,i){var n=i.zIndex;"auto"!==n&&(n=parseFloat(n),isNaN(n)||(e.zIndex[t]=n))}function d(e,t,i,n){r(n)&&(e.fixed[t]=!0,e.top[t]=i.offsetTop,e.left[t]=i.offsetLeft)}function h(t,i,n,o){var r=e.get(o,"layout.width",0);a(o)?t.width[i]=n.offsetWidth:s(o)||!e.get(o,"layout.width")?t.width[i]=Math.max(n.offsetWidth,r):t.width[i]=r}function g(e,t,i){e.top[t]=i.offsetTop}function p(t,i,n,o){var r=e.get(o,"layout.height",0),a=e.get(o,"layout.aspectRatio",0);a&&(r=a*t.width[i]),u(o)?t.height[i]=n.offsetHeight:c(o)||!e.get(o,"layout.height")?t.height[i]=Math.max(n.offsetHeight,r):t.height[i]=r}function m(t,i,n,o){var r=e.get(o,"layout.width",0),a=e.get(o,"layout.height",0);t.width[i]=r,t.height[i]=a}function f(t,i){var n=i.offsetLeft,o=e.get(t,"layout.x",0);return.5===Math.abs(o-n)?o:n}function y(e,t,i,o){if(o.isDeadComp[e])return void m(o,e,t,i);var r=window.getComputedStyle(t);d(o,e,t,r),l(o,e,r),h(o,e,t,i),p(o,e,t,i),(n.isOpen("layout_verbs_with_anchors")||n.isOpen("sv_partialReLayout"))&&g(o,e,t),o.left[e]=f(i,t)}function w(e){return e.getAttribute("data-dead-comp")}function v(e,t){if(!e)return!1;var i=t(e);return!!i&&i}function C(e,t,i,n,o,r){var a=t.id,s=v(a,i);if(s){o[a]=s,y(a,s,e,n);if(w(s))return void(n.isDeadComp[a]=!0);D[t.type]&&D[t.type](a,n,o,r,t),A[t.type]&&A[t.type](a,n,o,r,t)}}function b(t,i,n,o,r){var a=t.id,s=v(a,i);if(s&&!w(s)&&P[t.type]){var u=P[t.type];"function"==typeof u&&(u=u(r,a,o,t)),e.forEach(u,function(s){var u=e.isPlainObject(s),c=u?s.pathArray:s,l=i.apply(void 0,[a].concat(c))||i.apply(void 0,[a,"component"].concat(c));if(l){var d=c.join(""),h=a+d;o[h]=l,n.height[h]=l.offsetHeight,n.width[h]=l.offsetWidth,u&&A[s.type]&&A[s.type](h,n,o,r,t)}})}}function M(t,n,o,r){var a={};r&&(i.layout.isVerticallyDocked(r)&&!i.layout.isVerticallyStretchedToScreen(r)||(a.top=T(o.top[t])),i.layout.isVerticallyStretched(r)&&!i.layout.isVerticallyStretchedToScreen(r)||(a.height=T(o.height[t])),e.isEmpty(a)||n.css(t,a))}function S(i,n,r,a,s){var u=a.layout;if(u&&t.dockUtils.isHorizontalDockToScreen(u)){var c=o.getRootWidth(s,r,a.rootId),l=0-o.getRootLeft(s,r,a.rootId),d=t.dockUtils.getDockedStyle(u,s.getPageBottomMargin(),s.getScreenWidth(),c,l),h=e.pick(d,["left","width"]);r.left[i]=parseInt(h.left,10),n.css(i,h)}}function I(e,t,i,n,o){var r=e.id;M(r,t,n,e.layout),S(r,t,n,e,o);var a=n.isDeadComp[r],s=!1;return!a&&x[e.type]?s=x[e.type](r,i,n,e,o):!a&&E[e.type]&&(s=E[e.type](r,t,n,e,o)),s}var T=t.style.unitize,x={},A={},L={},P={},D={},E={};return{patchComponent:I,measureComponent:C,measureComponentChildren:b,isComponentDead:w,registerPatcher:function(e,t){x[e]=t},registerSAFEPatcher:function(e,t){E[e]=t},registerPatchers:function(t,i){x[t]=function(){var t=arguments;e.forEach(i,function(e){e.apply(null,t)})}},registerSAFEPatchers:function(t,i){E[t]=function(){var t=arguments;e.forEach(i,function(e){e.apply(null,t)})}},registerCustomMeasure:function(e,t){A[e]=t},registerRequestToMeasureDom:function(e){L[e]=!0},registerRequestToMeasureChildren:function(e,t){P[e]=t},registerAdditionalMeasureFunction:function(e,t){D[e]=t},maps:{classBasedMeasureChildren:P,classBasedCustomMeasures:A,classBasedPatchers:x}}}),define("layout/util/bodyNodePatcher",["zepto","lodash"],function(e,t){return{updateBodyNodeStyle:function(i){var n=e("body"),o=e("html");if(i.isQaMode()&&n.addClass("qa-mode"),i.isMobileView()?(n.addClass("device-mobile-optimized"),o.addClass("device-mobile-optimized")):i.isMobileDevice()||i.isTabletDevice()?n.addClass("device-mobile-non-optimized"):(n.removeClass("device-mobile-optimized").removeClass("device-mobile-non-optimized"),o.removeClass("device-mobile-optimized")),i.isMobileDevice()){var r=t.assign({},i.os,i.browser),a=t(r).keys().filter(function(e){return r[e]===!0}).map(function(e){return"device-"+e}).join(" ");o.addClass(a)}var s=n.css("overflow"),u=i.renderFlags.allowSiteOverflow?null:"hidden";s!==u&&n.css("overflow",u)}}}),define("layout/util/iframesPatcher",["zepto","lodash"],function(e,t){return{setIframesSrc:function(){var i=e("iframe[data-src]");t.forEach(i,function(e){var t=e.getAttribute("src"),i=e.getAttribute("data-src");i&&(t!==i&&e.setAttribute("src",i),e.removeAttribute("data-src"))})}}}),define("layout/util/layout",["zepto","lodash","layout/util/anchors","layout/util/layoutAlgorithm","coreUtils","loggingUtils","layout/util/createDOMPatchers","layout/util/singleCompLayout","layout/util/bodyNodePatcher","layout/util/iframesPatcher","experiment"],function(e,t,i,n,o,r,a,s,u,c,l){function d(e,i){var n=t.last(e),r=o.dataUtils.getChildrenData(n,i);return t.transform(r,function(e,t){e[t.id]=!0},{})}function h(e,t,i){return e&&Math.max(t,Math.min(i,e))}function g(e,n){if(l.isOpen("sv_partialReLayout"))return!(!e||e[n.id]);var o=e;return o&&!o[n.id]&&!i.HARD_WIRED_COMPS[n.id]&&!t.has(Z,n.type)}function p(e){return e.componentType||e.documentType}function m(e,i,n){var r=i.getSiteData(),a=e.layout,s={dataItem:null,propertiesItem:null,layout:a,styleItem:null,id:e.id,type:p(e),structure:e,rootId:n};if(s.layout&&(t.isFinite(s.layout.height)&&(s.layout.height=h(s.layout.height,o.siteConstants.COMP_SIZE.MIN_HEIGHT,o.siteConstants.COMP_SIZE.MAX_HEIGHT)),t.isFinite(s.layout.width)&&(s.layout.width=h(s.layout.width,o.siteConstants.COMP_SIZE.MIN_WIDTH,o.siteConstants.COMP_SIZE.MAX_WIDTH))),e.dataQuery&&(s.dataItem=i.getRuntimeDal().getCompData(e.id)||r.getDataByQuery(e.dataQuery,n)),e.propertyQuery&&(s.propertiesItem=i.getRuntimeDal().getCompProps(e.id)||r.getDataByQuery(e.propertyQuery,n,r.dataTypes.PROPERTIES)),(e.behaviorQuery||e.behaviors)&&(s.behaviorsItem=i.getRuntimeDal().getActionsAndBehaviors(e.id),s.behaviorsItem||(s.behaviorsItem=e.behaviors||t.get(r.getDataByQuery(e.behaviorQuery,n,r.dataTypes.BEHAVIORS),"items"))),e.designQuery){var u=i.getRuntimeDal().getCompDesign(e.id);s.designDataItem=u||r.getDataByQuery(e.designQuery,n,r.dataTypes.DESIGN)}return e.styleId&&(s.styleItem=r.getDataByQuery(e.styleId,n,r.dataTypes.THEME)),s}function f(e,t){return Boolean(t.collapsed[e])}function y(e,i,n,o,r,a,u){var c=r.getSiteData(),d=[],h=t(n).keys().filter(function(e){return!f(e,o)}).value();return t.forEach(h,function(t){var h=m(n[t],r,a);if(l.isOpen("sv_partialReLayout")||!g(u,h)){s.patchComponent(h,e,i,o,c)&&d.push(t)}}),d}function w(e,i,n,o,r,s){var u=[],c=a(n);return t.forEach(e,function(e,t){u=u.concat(y(c,n,o[t],i,r,e.pageId,s))}),u}function v(t,i,n,o,r,a,s){var u=e(i(t.id));u.attr("data-leaving")||(u.attr("data-collapsed")?C(t,i,n,o,r,a,s):G[t.componentType]?b(t,i,n,o,r,a,s):M(t,i,n,o,r,a,s))}function C(e,t,i,n,o,r,a){var s=o.getSiteData(),u=m(e,o,r);g(a,u)||(S(e,t,n),i.collapsed[e.id]=!0,T(u,t,i,n,s,e,a))}function b(e,t,i,n,o,r,a){var s=o.getSiteData(),u=m(e,o,r);S(e,t,n),I(u,o,t,i,n,r,a),T(u,t,i,n,s,e,a)}function M(e,t,i,n,o,r,a){var s=o.getSiteData(),u=m(e,o,r);S(e,t,n),T(u,t,i,n,s,e,a),I(u,o,t,i,n,r,a)}function S(e,t,i){var n=t(e.id);n&&(i[e.id]=n)}function I(e,i,n,r,a,s,u){var c=i.getSiteData(),l=o.dataUtils.getChildrenData(e.structure,c.isMobileView());t.forEach(l,function(e){v(e,n,r,a,i,s,u)})}function T(e,t,i,n,o,r,a){g(a,e)||(s.measureComponentChildren(e,t,i,n,o),s.measureComponent(r,e,t,i,n,o))}function x(e,i,n,o,r){t.forOwn(e,function(e){v(e.structure,e.getDomNodeFunc,i,n,o,e.pageId,r)})}function A(e,i,o,r,a,s){var u,c={},l=o.getSiteData();l.originalValuesMap=l.originalValuesMap||{};var d=l.isMobileView();return e.inner&&(u=l.isRootIgnoreBottomBottom(t.get(e,"inner.structure.id")),c.inner=n.enforceStructure(e.inner.structure,i,l.anchorsMap,l.originalValuesMap,d,r,a,s,u),i.height.SITE_PAGES&&(i.height.SITE_PAGES=i.height[e.inner.pageId])),t.forOwn(e,function(e,o){"inner"!==o&&(u=l.isRootIgnoreBottomBottom(t.get(e,["structure","id"])),c[o]=n.enforceStructure(e.structure,i,l.anchorsMap,l.originalValuesMap,d,r,a,s,u))}),c}function L(e,i,n,r,a,s){var u=e.id;if(s=s||i.fixed[u],u){var c=i.top[u]||0,l=i.left[u]||0
;i.fixed[u]?(r=c,a=l):(r+=c,a+=l),i.absoluteTop[u]=r,i.absoluteLeft[u]=a,s&&(i.shownInFixed[u]=!0)}var d=o.dataUtils.getChildrenData(e,n);t.forEach(d,function(e){L(e,i,n,r,a,s)})}function P(e,i,n){var o=t.sortBy(t.keys(e),function(e){return"inner"===e?1:0});t.forEach(o,function(t){L(e[t].structure,i,n,"inner"===t?i.absoluteTop.SITE_PAGES:0,"inner"===t?i.absoluteLeft.SITE_PAGES:0)})}function D(e,i,n,r,a){var u=e.id&&i(e.id);if(!u||!s.isComponentDead(u)){u&&q[e.componentType]&&r.push({anchorsMap:a,structure:e,getDomNodeFunc:i,domNode:u});var c=n.getSiteData().isMobileView(),l=o.dataUtils.getChildrenData(e,c);t.forEach(l,function(e){D(e,i,n,r,a)})}}function E(e,n,o,r,a,s,u,c){var l=[],d={},h=a.getSiteData(),g=h.isMobileView();return t.forEach(e,function(e){var o=m(e.structure,a),p=q[o.structure.componentType].measure(o,e.domNode,n,r,h,function(t){v(t,e.getDomNodeFunc,n,r,a,o.rootId,c)},function(t){return i.enforceAnchors(t,n,e.anchorsMap,g,u,s,c)});p.needsAdditionalInnerLayout&&l.push(e),p.changedCompsMap&&t.assign(d,p.changedCompsMap)}),t.forEach(e,function(e){var t=m(e.structure,a);e.skipPatch||q[t.structure.componentType].patch(t,n,o,r,a.getSiteData())}),{compsToInnerLayoutAgain:l,changedComps:d}}function B(e,i,n,o,r,s,u){var c=o.getSiteData(),l=c.getViewMode(),d={},h=[];t.forOwn(e,function(e){var i=t.get(e,"structure.id"),n=t.get(c.anchorsMap,[i,l]);D(e.structure,e.getDomNodeFunc,o,h,n)}),h.reverse();for(var g=h,p=0,m=a(n);g.length&&p<3;){var f=E(g,i,m,n,o,r,s,u);g=f.compsToInnerLayoutAgain,d=t.assign(d,f.changedComps),p++}return d}function R(i){z=e("#SITE_ROOT");var n=z.offset()||{top:0},o={pageBottomByComponents:{},collapsed:{},height:{},width:{},availHeight:{},availWidth:{},innerWidth:{},innerHeight:{},custom:{},containerHeightMargin:{},minHeight:{},minWidth:{},top:{},left:{},absoluteTop:{},absoluteLeft:{},fixed:{},shownInFixed:{},zIndex:{},isDeadComp:{},siteMarginBottom:t.parseInt(z.css("padding-bottom"),10)||0,siteOffsetTop:n.top,clientWidth:0,skipPatch:{},shrinkableContainer:{},injectedAnchors:{}};o.clientWidth=i.getBodyClientWidth(),l.isOpen("onboardingviewportmode")?o.clientHeight=H(i):o.clientHeight=window.document.documentElement.clientHeight,o.width.screen=i.getScreenWidth(),o.width.site=i.getSiteWidth(),o.height.screen=o.clientHeight,o.innerHeight.screen=window.innerHeight,o.innerWidth.screen=window.innerWidth;var r=i.mobile.getScreenDimensions();return o.height.device=r.height,o.width.device=r.width,o.availHeight.device=r.availHeight,o.availWidth.device=r.availWidth,o.devicePixelRatio=i.mobile.getDevicePixelRatio(),o}function H(e){var i=t.get(e.renderFlags,"onboardingViewportMode","auto");return"parent"===i?window.parent.document.documentElement.clientHeight:/fixed:/.test(i)?parseInt(i.split(":")[1],10):window.document.documentElement.clientHeight}function k(e,i){return t.forOwn(i,function(t,i){delete e.top[i]}),e}function _(e,i){var n=t.last(e);return n&&Y[n.componentType]?Y[n.componentType](e,i):null}function O(e,i,n){var r=t.last(e),a={};i[r.id]&&t.assign(a,_(e,n));var s=o.dataUtils.getChildrenData(r,n);return t.forEach(s,function(o){t.assign(a,O(e.concat([o]),i,n))}),a}function W(e,i,n){var o={};return t.forOwn(i,function(i){t.assign(o,O([i.structure],e,n))}),o}function F(e,n,r,a,s){var u={};return t.assign(u,n,r,i.HARD_WIRED_COMPS,o.arrayUtils.toTrueObj(a)),t.assign(u,W(u,e,s)),u}function U(e){var i=t(e).values().flatMap(t.keys).value();return o.arrayUtils.toTrueObj(i)}function N(e,t,i,n,o){l.isOpen("sv_reportPerformance")&&(r.performance.clearMeasures("reLayout"),r.performance.start("reLayout"));var a=t.getSiteData(),s=a.isMobileView();a.updateScreenSize(),delete e.undefined;var u,d=l.isOpen("sv_partialReLayout")?V[a.siteId]||{}:{},h=!1;l.isOpen("sv_partialReLayout")?u=o?k(a.measureMap,o):R(a):(h=a.measureMap&&n&&i,u=h?k(a.measureMap,n):R(a));var g=B(e,u,d,t,n,i,o);o&&(o=F(e,o,g,t.getAllRenderedRootIds(),s)),l.isOpen("sv_partialReLayout")?x(e,u,d,t,o):x(e,u,d,t,h&&n);var p=A(e,u,t,i,n,o);P(e,u,s);var m=w(e,u,d,p,t,!l.isOpen("sv_partialReLayout")&&h&&n);return a.imageLoader.loadAllImages(a),c.setIframesSrc(),V[a.siteId]=d,l.isOpen("sv_reportPerformance")&&r.performance.finish("reLayout",a.isViewerMode(),{partialReLayout:l.isOpen("sv_partialReLayout")}),{componentsToRender:m,measureMap:u,reLayoutedCompsMap:U(p)}}var z,V={},q={},G={},Y={"wysiwyg.viewer.components.Group":d,"wysiwyg.viewer.components.BoxSlideShow":d,"wysiwyg.viewer.components.StripContainerSlideShow":d,"wysiwyg.viewer.components.StripColumnsContainer":d,"wysiwyg.viewer.components.Column":function(e,i){var n=e[e.length-2],r=o.dataUtils.getChildrenData(n,i),a=[n].concat(r);return t.transform(a,function(e,t){e[t.id]=!0},{})}},Z={"mobile.core.components.Page":!0,"wysiwyg.viewer.components.StripColumnsContainer":!0,"wysiwyg.viewer.components.Column":!0};return{registerLayoutInnerCompsFirst:function(e,t,i){q[e]={measure:t,patch:i}},registerMeasureChildrenFirst:function(e,t){G[e]=t},registerPatcher:function(e,t){s.registerPatcher(e,t)},registerSAFEPatcher:function(e,t){s.registerSAFEPatcher(e,t)},registerSAFEPatchers:function(e,t){s.registerSAFEPatchers(e,t)},registerPatchers:function(e,t){s.registerPatchers(e,t)},registerCustomMeasure:function(e,t){s.registerCustomMeasure(e,t)},registerAdditionalMeasureFunction:function(e,t){s.registerAdditionalMeasureFunction(e,t)},registerRequestToMeasureDom:function(e){s.registerRequestToMeasureDom(e)},registerRequestToMeasureChildren:function(e,t){s.registerRequestToMeasureChildren(e,t)},updateBodyNodeStyle:u.updateBodyNodeStyle,reLayout:N,enforceAnchors:i.enforceAnchors}}),define("layout/specificComponents/wixHomepageMenuLayout",["layout/util/layout"],function(e){e.registerRequestToMeasureChildren("wysiwyg.viewer.components.wixhomepage.WixHomepageMenu",[["buttonsContainer"]]),e.registerCustomMeasure("wysiwyg.viewer.components.wixhomepage.WixHomepageMenu",function(e,t){var i=t.height[e+"buttonsContainer"];t.height[e]=Math.max(t.height[e],i),t.minHeight[e]=i})}),define("layout/specificComponents/fiveGridLineLayout",["layout/util/layout","layout/util/rootLayoutUtils"],function(e,t){var i=function(e,i,n,o,r){var a=n.width.screen,s=t.getRootWidth(r,n,o.rootId),u=0,c=s,l=o.propertiesItem;l&&l.fullScreenModeOn&&(a>s&&(u=-(a-s)/2,c=a),i.css(e,{width:c+"px",left:u+"px"}),n.width[e]=c,n.left[e]=u)};e.registerSAFEPatcher("wysiwyg.viewer.components.FiveGridLine",i),e.registerRequestToMeasureChildren("wysiwyg.viewer.components.FiveGridLine",[["line"]]),e.registerRequestToMeasureDom("wysiwyg.viewer.components.FiveGridLine"),e.registerCustomMeasure("wysiwyg.viewer.components.FiveGridLine",function(e,t,i){var n=t.height[e+"line"],o=window.getComputedStyle(i[e]),r=parseFloat(o.borderBottomWidth);t.height[e]=Math.max(5,r,n),t.minHeight[e]=n})}),define("layout/specificComponents/domainSearchLayout",["lodash","layout/util/layout"],function(e,t){function i(e,t){var i=e+"content";[["width","minWidth"],["height","minHeight"]].forEach(function(n){var o=n[0],r=n[1];t[o][i]>t[o][e]&&(t[r]||(t[r]={}),t[o][e]=t[r][e]=t[o][i])})}return t.registerRequestToMeasureChildren("wysiwyg.common.components.domainsearchbar.viewer.DomainSearchBar",[["content"]]),t.registerCustomMeasure("wysiwyg.common.components.domainsearchbar.viewer.DomainSearchBar",i),{}}),define("layout/specificComponents/registerToMeasureOnly",["layout/util/layout"],function(e){return e.registerRequestToMeasureDom("wysiwyg.common.components.pinterestpinit.viewer.PinterestPinIt"),e.registerRequestToMeasureDom("wysiwyg.common.components.spotifyfollow.viewer.SpotifyFollow"),e.registerRequestToMeasureDom("wysiwyg.common.components.spotifyplayer.viewer.SpotifyPlayer"),e.registerRequestToMeasureDom("wysiwyg.viewer.components.Video"),e.registerRequestToMeasureDom("wysiwyg.viewer.components.WTwitterTweet"),e.registerRequestToMeasureDom("wysiwyg.common.components.disquscomments.viewer.DisqusComments"),e.registerRequestToMeasureChildren("wysiwyg.viewer.components.PaginatedGridGallery",[["itemsContainer"]]),{}}),define("layout/specificComponents/registerToPureDomMeasure",["layout/util/layout"],function(e){function t(t){e.registerCustomMeasure(t,function(e,t,i){var n=i[e];t.height[e]=n.offsetHeight,t.width[e]=n.offsetWidth})}return t("wysiwyg.viewer.components.FlashComponent"),t("wysiwyg.common.components.pinterestpinit.viewer.PinterestPinIt"),t("wysiwyg.viewer.components.WGooglePlusOne"),t("wysiwyg.viewer.components.LinkBar"),t("wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer"),t("wysiwyg.common.components.facebooklikebox.viewer.FacebookLikeBox"),t("wysiwyg.viewer.components.PayPalButton"),t("wysiwyg.common.components.spotifyfollow.viewer.SpotifyFollow"),t("wysiwyg.viewer.components.FlickrBadgeWidget"),t("wysiwyg.viewer.components.WTwitterFollow"),t("wysiwyg.viewer.components.WTwitterTweet"),t("wysiwyg.common.components.skypecallbutton.viewer.SkypeCallButton"),{}}),define("layout/specificComponents/areaTooltipLayout",["layout/util/layout"],function(e){e.registerCustomMeasure("wysiwyg.common.components.areatooltip.viewer.AreaTooltip",function(e,t){var i=e+"content";t.custom[e]=t.height[e]/2-t.height[i]/2}),e.registerSAFEPatcher("wysiwyg.common.components.areatooltip.viewer.AreaTooltip",function(e,t,i,n){var o,r,a,s;if(r=e+"tooltip",i.height[r]){o=e+"content";switch(n.propertiesItem.tooltipPosition){case"top":s=-i.height[o]-14+"px",a=0;break;case"right":s=i.custom[e]+"px",a=i.width[e]+14+"px";break;case"bottom":s=i.height[e]+14+"px",a=0;break;case"left":s=i.custom[e]+"px",a="-414px";break;default:return}t.css(r,{top:s,left:a})}}),e.registerRequestToMeasureChildren("wysiwyg.common.components.areatooltip.viewer.AreaTooltip",[["tooltip"],["content"]])}),define("layout/specificComponents/menuLayout",["zepto","lodash","layout/util/layout","siteUtils","coreUtils"],function(e,t,i,n,o){function r(e){return!isNaN(parseFloat(e))&&isFinite(e)}function a(e,t){return e+15+t.menuBorderY+t.labelPad+t.menuButtonBorder}function s(e,i,n,o,r,a,s,c,l,d){var h=n.concat("__more__"),g=i.custom[e],p=g.realWidths,m=g.menuItemContainerExtraPixels,f=i.width[e];if(t.findIndex(h,function(e){return e===o})>=0&&p){var y=Math.abs(d.getSiteX()),w=y+i.absoluteLeft[e],v=w+f,C=u(m,s,l,f,r,c,w,v,i.clientWidth);return{left:C.moreContainerLeft,right:C.moreContainerRight,bottom:g.needToOpenMenuUp?a+"px":"auto"}}}function u(e,t,i,n,o,r,a,s,u){var c="0px",l="auto",d=r.left,h=r.width;if("left"===t?c="left"===o?0:d+e.left+"px":"right"===t?(l="right"===o?0:n-d-h-e.right+"px",c="auto"):"left"===o?c=d+(h+e.left-i)/2+"px":"right"===o?(c="auto",l=(h+e.right-(i+e.width))/2+"px"):c=e.left+d+(h-(i+e.width))/2+"px","auto"!==c){c=a+parseInt(c,10)<0?0:c}if("auto"!==l){l=s-parseInt(l,10)>u?0:l}return{moreContainerLeft:c,moreContainerRight:l}}function c(e,t,i,n,o,r,a){for(var s=0,u=null,c=i.custom[e].lineHeight[e],l=r-a.height,d=0;d<n.length;d++){var h=o[d],g=h>0,p=n[d],m=e+p;g?(s++,u=m,t.css(m,{width:h+"px",height:l+"px",position:"relative","box-sizing":"border-box",overflow:"visible"}),t.css(m+"label",{"line-height":c})):t.css(m,{height:"0px",overflow:"hidden",position:"absolute"})}1===s&&(t.data(e+"moreContainer",{listposition:"lonely"}),t.data(u,{listposition:"lonely"}))}function l(e,i,n,o,u){var c=n.custom[e],l=c.hoverState,d=M.nonHiddenPageIdsFromMainMenu(o),h=d.indexOf(l);if(r(c.hoverState)||"__more__"===l){if(!n.custom[e].realWidths)return;var g=Math.max(u,n.width[h!==-1?e+h:e+"__more__"]),p=t.isEmpty(c.moreSubItem)?0:c.lineHeight[c.moreSubItem[0]+"label"],m=a(p,c);t.forEach(c.moreSubItem,function(e){i.css(e,{"min-width":g+"px"}),i.css(e+"label",{"min-width":"0px","line-height":m+"px"})});var f=r(c.hoverState)?c.hoverState:"__more__",y={width:n.width[e+f],left:n.left[e+f]},w=s(e,n,d,l,c.hoverListPosition,n.height[e],c.alignButtons,y,g,o);i.css(e+"moreContainer",{left:w.left,right:w.right}),i.css(e+"dropWrapper",{left:w.left,right:w.right,bottom:w.bottom})}}function d(e,i,n,o,r){var a=n.height[e],s=M.nonHiddenPageIdsFromMainMenu(r),u=s.concat("__more__"),d=n.custom[e];m(e,i,d.needToOpenMenuUp);var h=d.menuItemContainerExtraPixels,g=0;if("__more__"===d.hoverState){var p=d.realWidths.indexOf(0);t(d.realWidths).take(p).forEach(function(t,n){var o=e+"moreContainer"+n;i.css(o,{display:"none"})});var f=p===s.length-1;i.attr(e+"moreContainer"+p,{"data-listposition":f?"dropLonely":"top"});for(var y=p;y<d.realWidths.length-1;y++){var w=e+"moreContainer"+y+"label";g=Math.max(n.width[w],g)}}else d.hoverState&&t.forEach(d.moreSubItem,function(t,i){var o=e+"moreContainer"+i+"label";g=Math.max(n.width[o],g)});l(e,i,n,r,g),d.originalGapBetweenTextAndBtn&&t.forEach(u,function(t){d.hasOriginalGapData[t]||i.data(e+t,{originalGapBetweenTextAndBtn:d.originalGapBetweenTextAndBtn[e+t]})}),c(e,i,n,u,d.realWidths,a,h)}function h(t){var i=t.lastChild;return(parseInt(e(i).css("margin-left"),10)||0)+(parseInt(e(i).css("margin-right"),10)||0)}function g(e){var t=parseFloat(e);return isFinite(t)?t:0}function p(t,i){var n=e(t).css(["border-top-width","border-bottom-width","border-left-width","border-right-width","padding-top","padding-bottom","padding-left","padding-right","margin-top","margin-bottom","margin-left","margin-right"]),o=g(n["border-top-width"])+g(n["padding-top"]),r=g(n["border-bottom-width"])+g(n["padding-bottom"]),a=g(n["border-left-width"])+g(n["padding-left"]),s=g(n["border-right-width"])+g(n["padding-right"]);return i&&(o+=g(n["margin-top"]),r+=g(n["margin-bottom"]),a+=g(n["margin-left"]),s+=g(n["margin-right"])),{top:o,bottom:r,left:a,right:s,height:o+r,width:a+s}}function m(e,t,i){t.data(e,{dropmode:i?"dropUp":"dropDown"})}function f(e){return e.getBoundingClientRect().top>window.innerHeight/2}function y(e){var i=M.nonHiddenPageIdsFromMainMenu(e).concat("__more__"),n=[[]],o=[["moreContainer"],["itemsContainer"],["dropWrapper"]];return t.forEach(n,function(e){o=o.concat(t.map(i,function(t){return[t].concat(e)}))}),o}function w(i,n,o,r,a){var s=n.width[i],u=n.custom[i];u.hasOriginalGapData={},u.originalGapBetweenTextAndBtn={};var c=t.map(a,function(o){var a,s=e(r[i+o]),c=s.data("originalGapBetweenTextAndBtn");return t.isUndefined(c)?(u.hasOriginalGapData[o]=!1,a=n.width[i+o]-u.labelWidths[i+o+"label"],u.originalGapBetweenTextAndBtn[i+o]=a):(u.hasOriginalGapData[o]=!0,a=parseInt(c,10)),n.width[i+o]>0?u.labelWidths[i+o+"label"]+a:0}),l=c.pop(),d=o.sameWidthButtons,h=o.stretchButtonsToMenuWidth,g=!1,p=u.menuItemContainerMargins,m=u.menuItemMarginForAllChildren,f=u.menuItemContainerExtraPixels,y=M.getMaxWidth(c),w=M.getDropDownWidthIfOk(s,d,h,c,p,y,m,f);if(!w){for(var v=1;v<=c.length;v++)if(w=M.getDropDownWidthIfOk(s,d,h,c.slice(0,-1*v).concat(l),p,y,m,f)){g=!0;break}w||(g=!0,w=[l])}if(g){var C=w[w.length-1];for(w=w.slice(0,-1);w.length<a.length;)w.push(0);w[w.length-1]=C}return{realWidths:w,moreShown:g}}function v(e,t){return o.style.unitize(e-t.menuBorderY-t.labelPad-t.ribbonEls-t.menuButtonBorder-t.ribbonExtra)}function C(e){var t=window.getComputedStyle(e);return parseInt(t.width,10)+parseInt(t.paddingLeft,10)+parseInt(t.paddingRight,10)}function b(i,n,o,r,a){var s=e(o[i]),u=e("#"+i+"itemsContainer")[0]||o[i+"itemsContainer"],c=u.childNodes,l=o[i+"moreContainer"],d=l.childNodes,g=n.custom[i]={alignButtons:s.data("dropalign"),hoverListPosition:s.data("drophposition"),menuBorderY:parseInt(s.data("menuborder-y"),10),ribbonExtra:parseInt(s.data("ribbon-extra"),10),ribbonEls:parseInt(s.data("ribbon-els"),10),labelPad:parseInt(s.data("label-pad"),10),menuButtonBorder:parseInt(s.data("menubtn-border"),10),menuItemContainerMargins:h(u),menuItemContainerExtraPixels:p(u,!0),needToOpenMenuUp:f(o[i]),menuItemMarginForAllChildren:!a.propertiesItem.stretchButtonsToMenuWidth||"false"!==u.getAttribute("data-marginAllChildren")};g.moreSubItem=[],g.lineHeight={},g.labelWidths={},t.forEach(d,function(t){o[t.id]=t;var i=e(t).find("p")[0];o[i.id]=i,n.width[i.id]=i.offsetWidth,n.height[i.id]=i.offsetHeight,n.left[i.id]=i.offsetLeft,g.lineHeight[i.id]=parseInt(window.getComputedStyle(i).fontSize,10),g.moreSubItem.push(t.id)}),t.forEach(c,function(t){n.left[t.id]=t.offsetLeft;var i=e(t).find("p")[0];o[i.id]=i,g.labelWidths[i.id]=C(i)});var m=n.height[i];g.lineHeight[i]=v(m,g);var y=M.nonHiddenPageIdsFromMainMenu(r).concat("__more__"),b=w(i,n,a.propertiesItem,o,y);g.realWidths=b.realWidths,g.isMoreShown=b.moreShown,g.hoverState=l.getAttribute("data-hover")}var M=n.menuUtils;return i.registerSAFEPatcher("wysiwyg.viewer.components.menus.DropDownMenu",d),i.registerCustomMeasure("wysiwyg.viewer.components.menus.DropDownMenu",b),i.registerRequestToMeasureChildren("wysiwyg.viewer.components.menus.DropDownMenu",y),{}}),define("layout/specificComponents/imageLayout",["lodash","coreUtils","layout/util/layout"],function(e,t,i){function n(e,i,n){return t.imageUtils.getImageComputedProperties(e,i.getMediaFullStaticUrl.bind(i),i.currentUrl,i.mobile.getDevicePixelRatio(),n)}function o(t,i,n){i.css(t+"image",e.get(n,["css","img"]))}function r(e,t,i,n,o){var r=i.custom[e]&&i.custom[e].isSvgImage,a=i.custom[e]&&i.custom[e].filterId;if(!n.containerWidth||!n.containerHeight||!n.imageData.uri)return null;t.css(e+"svg",{width:n.containerWidth,height:n.containerHeight}),r&&(t.attr(e+"svg",o.attr.container),t.attr(e+"image",o.attr.img),t.attr(e+"image",{"xlink:href":o.uri,filter:"url(#"+a+")"}))}function a(t){return e.pickBy(t,function(e){return""!==e})}function s(t,i,n,o,r){var s=a(i),u=t.css.container,c=e.assign({position:"absolute",width:n,height:o},u,s);return e.isNumber(r)&&(c.opacity=r),c}function u(e){return e&&e.split?e.split(";").reduce(function(e,t){var i=t.split(":");return i[0]&&i[1]&&(e[i[0].trim()]=i[1].trim()),e},{}):{}}function c(t,i,a,c,l,d,h){var g=u(a.custom[t].renderedStyles),p=a.custom[t]&&a.custom[t].isZoomed,m={imageData:l,containerWidth:p?l.width:d.width,containerHeight:p?l.height:d.height,displayMode:l.displayMode,alignType:h},f=n(m,c,"img"),y=s(f,g,d.width,d.height,l.opacity);if(i.css(t,y),o(t,i,f),a.custom[t].hasSvgNode){r(t,i,a,m,n(m,c,"svg"))}var w={patchers:i,id:t,src:e.get(f,"uri"),absoluteTop:a.absoluteTop[a.custom[t].parentId]||0,height:d.height||a.height[t],currentSrc:a.custom[t].imgSrc};c.imageLoader.loadImage(w)}function l(t,i,n,o,r){var a,s=!1;n[t+"image"]=n[t].querySelector("img")||n[t].querySelector("image"),n[t+"svg"]=n[t].querySelector("svg"),n[t+"image"]&&"image"===n[t+"image"].nodeName.toLowerCase()&&(s=!0,a=e.get(n[t].querySelector("filter"),"id")),i.custom[t]={isZoomed:n[t].getAttribute("data-image-zoomed"),isSvgImage:s,filterId:a,hasSvgNode:Boolean(n[t+"svg"]),imgSrc:n[t+"image"].getAttribute("src"),parentId:r.id,renderedStyles:n[t].getAttribute("data-style")}}return i.registerCustomMeasure("core.components.Image",l),{patchNodeImage:c,measureNodeImage:l}}),define("layout/specificComponents/sliderGalleryLayout",["layout/util/layout","coreUtils","imageClientApi","zepto","lodash","layout/specificComponents/imageLayout"],function(e,t,i,n,o,r){function a(e,t,i,n,o){var r=Math.floor(t+e);return d.getSizeAfterScaling({itemHeight:r,itemWidth:Math.floor(r*(o&&o.aspectRatio?o.aspectRatio:1)),displayerData:i,imageMode:o?o.imageMode:"clipImage",heightDiff:n.heightDiff,widthDiff:n.widthDiff,bottomGap:n.bottomGap})}function s(e,t,r,s,u,c,l){var d=n(c),g={imageIndex:d.data("image-index"),width:d.data("displayer-width"),height:d.data("displayer-height"),uri:d.data("displayer-uri")},p={heightDiff:parseInt(d.data("height-diff"),10)||0,widthDiff:parseInt(d.data("width-diff"),10)||0,bottomGap:parseInt(d.data("bottom-gap"),10)||0},m=u&&u[g.imageIndex]?u[g.imageIndex]:g;m=o.assign(m,{displayMode:i.fittingTypes.SCALE_TO_FILL});var f=a(r,t,m,p,s.propertiesItem);return{imageData:m,imageNodeId:e+"displayer"+l+"image",imageWrapperId:e+"displayer"+l+"imageWrapper",containerSize:h.getContainerSize(f.imageWrapperSize,d),sizeAfterScaling:f}}function u(e,t,i,r,a){var u=i[e+"images"],c=n(u).children(),l=o.get(a,"dataItem.items"),d=parseInt(n(i[e]).data("additional-height"),10)||0;t.custom[e]={displayers:o.map(c,o.partial(s,e,t.height[e],d,a,l)),additionalHeight:d}}function c(e,t,i,n,a){var s=i.height[e];t.css(e,{height:s});var u=i.custom[e];o.forEach(u.displayers,function(e){h.updateImageWrapperSizes(t,e.imageWrapperId,e.sizeAfterScaling),r.patchNodeImage(e.imageNodeId,t,i,a,e.imageData,e.containerSize)})}function l(e,t){var i=[["images"],["itemsContainer"]],r=n("#"+t+"images").children();return o.forEach(r,function(e,t){var n="displayer"+t,o={pathArray:[n,"image"],type:"core.components.Image"},r=[n,"imageWrapper"];i.push(o,r)}),i}var d=t.matrix.scalingCalculations,h=t.galleriesCommonLayout;return e.registerRequestToMeasureChildren("wysiwyg.viewer.components.SliderGallery",l),e.registerCustomMeasure("wysiwyg.viewer.components.SliderGallery",u),e.registerSAFEPatcher("wysiwyg.viewer.components.SliderGallery",c),{}}),define("layout/specificComponents/verticalMenuLayout",["zepto","lodash","layout/util/layout","coreUtils","siteUtils","skinExports"],function(e,t,i,n,o,r){function a(e){var t=e.dataset;return{border:t&&t.paramBorder?parseInt(t.paramBorder,10):0,separator:t&&t.paramSeparator?parseInt(t.paramSeparator,10):0}}function s(){return window.innerHeight||window.document.documentElement.clientHeight||window.document.body.clientHeight}function u(e,t){return e-t}function c(t,i,n){var o={"line-height":n+"px"};i&&(o["text-overflow"]="ellipsis"),e(t).css(o)}function l(e,t){return Math.floor(e/2)>t?"down":"up"}function d(e,i,a,s,d){var h=a.custom[e],g="subMenuOpenDir-"+l(h.screenHeight,u(a.absoluteTop[e],h.pageYOffset));i.css(e,{width:a.width[e]}),i.attr(e,{"data-open-direction":g});var p=o.menuUtils.getSiteMenuWithoutRenderedLinks(d),m=r[s.styleItem.skin],f=n.verticalMenuCalculations.getVisibleItemsCount(p),y=Math.max(a.minHeight[e],s.layout.height),w=n.verticalMenuCalculations.getItemHeight(y,h.params.separator,f,m),v=n.verticalMenuCalculations.getLineHeight(w,h.params.separator,h.params.border,m);t.forEach(h.linksInfo,function(e){c(e.node,e.hasOverflow,v)}),t.forEach(h.liNodes,function(e){e.style.height=w+"px"})}function h(i,n,o){var r=o[i],u=e(r),c=u.find("a.level0"),l=0,d=0;t.forEach(c,function(e){e.offsetWidth>l&&(l=e.offsetWidth),d+=e.offsetHeight}),n.custom[i]={linksInfo:t.map(u.find("a"),function(e){return{node:e,hasOverflow:e.offsetWidth>l}}),liNodes:u.find("li"),params:a(r),screenHeight:s(),pageYOffset:window.pageYOffset};var h=parseInt(r.getAttribute("data-param-border")||0,10),g=parseInt(r.getAttribute("data-param-padding")||0,10),p=l+2*g+2*h;p>n.width[i]&&(n.width[i]=p),n.minHeight[i]=d}return i.registerCustomMeasure("wysiwyg.common.components.verticalmenu.viewer.VerticalMenu",h),i.registerSAFEPatcher("wysiwyg.common.components.verticalmenu.viewer.VerticalMenu",d),{}}),define("layout/specificComponents/loginButtonLayout",["lodash","layout/util/layout"],function(e,t){function i(e,t){var i=e+"container";t.minHeight[e]=t.height[i],t.height[i]>t.height[e]&&(t.height[e]=t.height[i])}function n(e,t,i){var n=e+"container",o=i.height[e],r=i.height[n],a=(o-r)/2;t.css(n,{"margin-top":a+"px"})}t.registerRequestToMeasureChildren("wysiwyg.viewer.components.LoginButton",[["container"]]),t.registerCustomMeasure("wysiwyg.viewer.components.LoginButton",i),t.registerSAFEPatcher("wysiwyg.viewer.components.LoginButton",n)}),define("layout/util/spaceCalculationsRegardingWixAds",[],function(){function e(e){var t=parseInt(e,10);return isNaN(t)?0:t}function t(t){return e(t.height.WIX_ADS)+e(t.top.WIX_ADS)}function i(t){return t.height.WIX_ADSdesktopWADTop||t.top.WIX_ADSdesktopWADTop?e(t.height.WIX_ADSdesktopWADTop)+e(t.top.WIX_ADSdesktopWADTop):e(t.height.WIX_ADS)+e(t.top.WIX_ADS)}function n(t){var i,n,o=t.height.screen;return t.height.WIX_ADSdesktopWADTop||t.height.WIX_ADSdesktopWADBottom?(i=e(t.height.WIX_ADSdesktopWADTop)+e(t.top.WIX_ADSdesktopWADTop),n=e(t.height.WIX_ADSdesktopWADBottom),o-i-n):(i=e(t.height.WIX_ADS)+e(t.top.WIX_ADS),o-i)}return{getFirstVisibleTopCoordinate:t,getFirstUnoccupiedTopCoordinate:i,getScreenHeightExcludingAds:n}}),define("layout/specificComponents/dialogLayout",["lodash","layout/util/layout","layout/util/spaceCalculationsRegardingWixAds"],function(e,t,i){function n(e,t,n){var o=e+"dialog",r=n.height[o],a=n.height.screen,s=i.getFirstUnoccupiedTopCoordinate(n),u=i.getScreenHeightExcludingAds(n);t.css(e,{height:a+"px"});var c=(u-r)/2;t.css(o,{top:Math.max(c,20)+s+"px"})}t.registerRequestToMeasureChildren("wysiwyg.viewer.components.dialogs.EnterPasswordDialog",[["dialog"]]),t.registerSAFEPatcher("wysiwyg.viewer.components.dialogs.EnterPasswordDialog",n),t.registerRequestToMeasureChildren("wysiwyg.viewer.components.dialogs.siteMemberDialogs.MemberLoginDialog",[["dialog"]]),t.registerSAFEPatcher("wysiwyg.viewer.components.dialogs.siteMemberDialogs.MemberLoginDialog",n),t.registerRequestToMeasureChildren("wysiwyg.viewer.components.dialogs.siteMemberDialogs.SignUpDialog",[["dialog"]]),t.registerSAFEPatcher("wysiwyg.viewer.components.dialogs.siteMemberDialogs.SignUpDialog",n),t.registerRequestToMeasureChildren("wysiwyg.viewer.components.dialogs.siteMemberDialogs.RequestPasswordResetDialog",[["dialog"]]),t.registerSAFEPatcher("wysiwyg.viewer.components.dialogs.siteMemberDialogs.RequestPasswordResetDialog",n),t.registerRequestToMeasureChildren("wysiwyg.viewer.components.dialogs.siteMemberDialogs.ResetPasswordDialog",[["dialog"]]),t.registerSAFEPatcher("wysiwyg.viewer.components.dialogs.siteMemberDialogs.ResetPasswordDialog",n),t.registerRequestToMeasureChildren("wysiwyg.viewer.components.dialogs.NotificationDialog",[["dialog"]]),t.registerSAFEPatcher("wysiwyg.viewer.components.dialogs.NotificationDialog",n),t.registerRequestToMeasureChildren("wysiwyg.viewer.components.dialogs.CreditsDialog",[["dialog"]]),t.registerSAFEPatcher("wysiwyg.viewer.components.dialogs.CreditsDialog",n)}),define("layout/specificComponents/html5VideoLayout",["lodash","coreUtils","layout/specificComponents/imageLayout","imageClientApi"],function(e,t,i,n){function o(t,i,n,o,u){var c={position:"absolute",minWidth:0,minHeight:0,top:0,left:0},l=t.mediaRef;if(!l||"WixVideo"!==l.type||n.isTouchDevice())return c;var d=e.find(l.qualities,{quality:o}),g=r(i.width,i.height,d.width,d.height),p=a(t.fittingType,g,d.width,d.height),m=s(t.alignType,p,i);return c={position:"absolute",minWidth:p.width,minHeight:p.height,left:m.left,top:h.isFullScreenByEffect(u,n.renderFlags.renderFixedPositionBackgrounds)?"":m.top}}function r(e,t,i,n){return{wScale:e/i,hScale:t/n}}function a(e,t,i,o){var r,a,s,u=n.fittingTypes;switch(e){case u.SCALE_TO_FILL:s=Math.max(t.wScale,t.hScale),r=Math.round(i*s),a=Math.round(o*s);break;case u.SCALE_TO_FIT:s=Math.min(t.wScale,t.hScale),r=Math.round(i*s),a=Math.round(o*s)}return{width:r,height:a}}function s(e,t,i){var o=i.width,r=i.compRootHeight,a=Math.floor((r-t.height)/2),s=Math.floor((o-t.width)/2),u={},c=n.alignTypes;switch(e){case c.CENTER:u.left=s,u.top=a;break;case c.LEFT:u.left=0,u.top=a;break;case c.RIGHT:u.left=o-t.width,u.top=a;break;case c.TOP:u.left=s,u.top=0;break;case c.BOTTOM:u.left=s,u.top=r-t.height;break;case c.TOP_LEFT:u.left=0,u.top=0;break;case c.TOP_RIGHT:u.left=o-t.width,u.top=0;break;case c.BOTTOM_LEFT:u.left=0,u.top=r-t.height;break;case c.BOTTOM_RIGHT:u.left=o-t.width,u.top=r-t.height}return u}function u(e,i,n){return i?i.url?t.urlUtils.joinURL(n.getStaticVideoUrl(),i.url):t.urlUtils.joinURL(n.getStaticVideoUrl(),e.videoId,i,"mp4","file.mp4"):""}function c(e){return e.designDataItem&&e.designDataItem.background?e.designDataItem.background:e.dataItem.background}function l(e,t,n,o,r){var a=e+g.POSTER,s=n[e],u=s.firstChild;n[e+"video"]=u,t.custom[e]={},t.custom[a]={};var c=u.firstChild;n[e+"mp4"]=c,t.custom[e]={quality:s.getAttribute("data-quality"),src:c.src,videoNode:u},i.measureNodeImage(a,t,n,o,r)}function d(t,n,r,a,s,l,d){var g=c(a),p=!s.isTouchDevice(),m=h.getBgEffectName(a.behaviorsItem,p,s.isMobileView()),f=d.width,y=d.height,w=r.custom[t],v=w.quality,C=o(g,{width:f,height:l,compRootHeight:y},s,v,m);n.attr(t+"video",{width:C.minWidth,height:C.minHeight}),n.css(t+"video",C);var b=u(g.mediaRef,v,s);w.src!==b&&(n.attr(t+"mp4",{src:b}),w.videoNode.load());var M={width:f,height:l,top:0},S=e.assign({displayMode:g.fittingType},g.mediaRef.posterImageRef);i.patchNodeImage(t+"poster",n,r,s,S,M,g.alignType)}var h=t.containerBackgroundUtils,g=t.balataConsts;return{patchBgVideo:d,measureBgVideo:l}}),define("layout/util/optimizedCssImageLayout",["lodash","zepto","coreUtils"],function(e,t,i){function n(t,i){return!e.includes(t,i)||Boolean(t)!==Boolean(i)}function o(e,t){return e?i.urlUtils.isExternalUrl(e)?e:i.urlUtils.joinURL(t.getStaticMediaUrl(),e):""}function r(i,n){var o=t(n);i.type=o.data("type"),i.currentCss=o.data("image-css"),i.currentCss&&e.isString(i.currentCss)&&(i.currentCss=JSON.parse(i.currentCss)),i.previousBackgroundImageCssUrl=o.css("backgroundImage")}function a(e,t,i,n){n===l.BG_IMAGE?e.css(t,{backgroundImage:i?'url("'+i+'")':""}):e.attr(t,{src:i})}function s(t,i,n,o,r){var s=n.previousBackgroundImageCssUrl;if(r.imageResizeHandlers=r.imageResizeHandlers||{},!s||!o)return void a(i,t,o,n.type);r.imageResizeHandlers[t]||(r.imageResizeHandlers[t]=e.debounce(a,250,{trailing:!0})),r.imageResizeHandlers[t](i,t,o,n.type)}function u(t,i){return i&&(!t||e.some(i,function(e,i){return e!==t[i]}))}function c(t,i,r,a,c,l){if(u(t.currentCss,a)){r.css(i,a);var d=e.defaults(a,t.currentCss);r.data(i,{"image-css":JSON.stringify(d)})}var h=o(c,l);n(t.previousBackgroundImageCssUrl,h)&&s(i,r,t,h,l)}var l=i.balataConsts;return{cacheCssImageMeasureData:r,patchCssImage:c}}),define("layout/specificComponents/siteBackgroundLayout",["lodash","zepto","layout/util/layout","imageClientApi","layout/specificComponents/imageLayout","layout/specificComponents/html5VideoLayout","layout/util/optimizedCssImageLayout","experiment"],function(e,t,i,n,o,r,a,s){function u(e,t,i,n,o){i.top[e]=m(i),i.width[e]=f(i,o),i.height[e]=p(i,o),i.height.currentImage=i.height.masterPage,t.css(e,{top:i.top[e]+"px",height:i.height[e]+"px",width:i.width[e]+"px"});var u=i.custom[e];if(s.isOpen("sv_mobileBG")){var c=o.isMobileView(),d=o.isMobileDevice(),h={width:c?i.width.screen:"100%",height:c&&"fixed"===u.bgPosition?l(i,c,d).availHeight:"100%"};t.css("siteBackgroundcurrent",h),t.css("siteBackgroundprevious",h)}var y=g(u,o,i);if(a.patchCssImage(u,"siteBackgroundcurrentImage",t,y.css,y.uri,o),i.custom[e+"bgVideo"]){var w={designDataItem:{background:u.bgData}},v={width:i.width.screen,height:i.height.screen};r.patchBgVideo(e+"bgVideo",t,i,w,o,v.height,v)}}function c(e,t){var i=e.getDataByQuery(t),n=e.isMobileView()?"mobile":"desktop";return{bgData:i.pageBackgrounds[n].ref,mediaSizing:i.pageBackgrounds[n].mediaSizing}}function l(e,t,i){var n={availWidth:e.width.screen,availHeight:e.height.screen,pixelAspectRatio:e.devicePixelRatio};if(t&&i){var o=Math.min(e.availWidth.device,e.availHeight.device),r=Math.max(e.availWidth.device,e.availHeight.device);n.availHeight=Math.round(n.availWidth*(r/o))}return n}function d(e,t,i){return!!s.isOpen("sv_mobileBG")&&(i&&e.mediaRef&&"viewport"===t)}function h(t,i,o,r,a){var s={},u=e.at(n.fittingTypes,["LEGACY_BG_NORMAL","LEGACY_BG_FIT_AND_TILE","LEGACY_BG_FIT_AND_TILE_HORIZONTAL","LEGACY_BG_FIT_AND_TILE_VERTICAL"]),c=e.includes(u,i.fittingType);if(r&&!c)s.width=o.availWidth,s.height=o.availHeight,s.pixelAspectRatio=o.pixelAspectRatio;else{var l=a?1e3:1920;s.width=Math.min(l,t.width),s.height=Math.min(l,Math.round(s.width/(t.width/t.height)))}return s.htmlTag="bg",s.alignment=i.alignType,s}function g(t,i,o){var r=t.bgData,a=r.mediaRef,s={backgroundSize:"",backgroundPosition:"",backgroundRepeat:""},u="";if(a){"WixVideo"===a.type&&(a=a.posterImageRef);var c=i.isMobileView(),g=i.isMobileDevice(),p=l(o,c,g),m=d(r,t.mediaSizing,c),f={id:a.uri,width:a.width,height:a.height},y=h(a,r,p,m,c),w=e.defaults({quality:85},a.quality||{}),v=n.getData(r.fittingType,f,y,w,i.browser);u=v.uri,s={backgroundSize:v.css.container.backgroundSize,backgroundPosition:v.css.container.backgroundPosition,backgroundRepeat:v.css.container.backgroundRepeat},
m&&("fill"===r.fittingType&&(s.backgroundSize="auto 100%",s.height=p.availHeight),s.backgroundPosition=s.backgroundPosition.replace(/(center|bottom)$/,"top"))}return{css:s,uri:u}}function p(e,t){var i=e.height[t.getStructureCompId()],n=e.height.screen-m(e);return Math.max(n,i)}function m(e){var t=parseInt(e.height.WIX_ADS,10);t=isNaN(t)?0:t;var i=parseInt(e.top.WIX_ADS,10);return i=isNaN(i)?0:i,t+i}function f(e,t){var i=e.width[t.getStructureCompId()];return Math.ceil(Math.max(e.width.screen,i))}function y(e){return[[e.getPrimaryPageId()]]}function w(i,n,r,u,l){r.siteBackgroundcurrentImage=window.document.querySelector(".siteBackgroundcurrentImage"),s.isOpen("sv_mobileBG")&&(r.siteBackgroundcurrent=window.document.querySelector(".siteBackgroundcurrent"),r.siteBackgroundprevious=window.document.querySelector(".siteBackgroundprevious"));var h=u.getPrimaryPageId(),g=c(u,h);if(n.custom[i]={bgData:g.bgData,mediaSizing:g.mediaSizing},d(g.bgData,g.mediaSizing,u.isMobileView())&&(n.custom[i].bgPosition=t(r.siteBackgroundcurrent).data("position")),a.cacheCssImageMeasureData(n.custom[i],r.siteBackgroundcurrentImage),"WixVideo"===e.get(g.bgData.mediaRef,"type")&&!u.isTouchDevice()){r.siteBackgroundcurrentVideo=window.document.querySelector(".siteBackgroundcurrentVideo"),r[i+"bgVideovideo"]=r.siteBackgroundcurrentVideo.querySelector(".bgVideovideo"),r[i+"bgVideoposter"]=r.siteBackgroundcurrentVideo.querySelector(".bgVideoposter"),r[i+"bgVideomp4"]=r[i+"bgVideovideo"].firstChild;var p=r[i+"bgVideovideo"];n.custom[i+"bgVideo"]={bgData:g.bgData,videoNode:p,quality:r.siteBackgroundcurrentVideo.getAttribute("data-quality"),src:r[i+"bgVideomp4"].getAttribute("src")},o.measureNodeImage(i+"bgVideoposter",n,r,u,l)}}i.registerRequestToMeasureDom("wysiwyg.viewer.components.SiteBackground"),i.registerRequestToMeasureChildren("wysiwyg.viewer.components.SiteBackground",y),i.registerSAFEPatcher("wysiwyg.viewer.components.SiteBackground",u),i.registerCustomMeasure("wysiwyg.viewer.components.SiteBackground",w)}),define("layout/specificComponents/wPhotoLayout",["zepto","lodash","layout/util/layout","layout/specificComponents/imageLayout","coreUtils","siteUtils","imageClientApi"],function(e,t,i,n,o,r,a){function s(e){return e===a.fittingTypes.LEGACY_FIT_WIDTH?a.fittingTypes.LEGACY_FIT_HEIGHT:d[e]||e}function u(e,t,i){var n=t.height[e]-(t.custom[e].marginHeight||0),o=t.width[e]-(t.custom[e].marginWidth||0),r={width:o>0?o:t.width[e],height:n>0?n:t.height[e]},s=t.custom[e].exactHeight-(t.custom[e].marginHeight||0);return i===a.fittingTypes.LEGACY_FIT_HEIGHT&&Math.ceil(s)===r.height&&(r.height=s),r}function c(t,i,n){var o=e(n[t]),r=parseInt(o.data("content-padding-horizontal"),10),a=parseInt(o.data("content-padding-vertical"),10),s=parseFloat(o.data("exact-height"));i.height[t]=i.custom[t]&&i.custom[t].thisIsMyHeight||n[t].offsetHeight,i.custom[t]={marginWidth:r,marginHeight:a,exactHeight:s}}function l(e,i,a,c,l){var d=e+"img",h=e+"link",g=c.dataItem,p=c.propertiesItem,m=p&&p.displayMode||"fill",f=s(m),y=o.imageUtils.getContainerSize(u(e,a,f),{width:g.width,height:g.height},f),w=r.layout.isVerticallyStretched(c.layout),v=r.layout.isHorizontallyStretched(c.layout),C={width:v?"":y.width+a.custom[e].marginWidth,height:w?"":y.height+a.custom[e].marginHeight},b=t.assign({},t.pick(g,["width","height","uri","quality"]),{displayMode:f,crop:t.get(p,"overrideCrop")||g.crop});n.patchNodeImage(d,i,a,l,b,y),i.css(e,C),i.css(h,y)}var d={fitWidthStrict:a.fittingTypes.LEGACY_FIT_WIDTH,fitHeightStrict:a.fittingTypes.LEGACY_FIT_HEIGHT},h={pathArray:["img"],type:"core.components.Image"};i.registerRequestToMeasureDom("wysiwyg.viewer.components.WPhoto"),i.registerRequestToMeasureChildren("wysiwyg.viewer.components.WPhoto",[h,["link"]]),i.registerSAFEPatcher("wysiwyg.viewer.components.WPhoto",l),i.registerCustomMeasure("wysiwyg.viewer.components.WPhoto",c),i.registerRequestToMeasureDom("wysiwyg.viewer.components.ClipArt"),i.registerRequestToMeasureChildren("wysiwyg.viewer.components.ClipArt",[h,["link"]]),i.registerSAFEPatcher("wysiwyg.viewer.components.ClipArt",l),i.registerCustomMeasure("wysiwyg.viewer.components.ClipArt",c)}),define("layout/specificComponents/documentMediaLayout",["zepto","lodash","layout/util/layout","imageClientApi","layout/specificComponents/imageLayout"],function(e,t,i,n,o){function r(e,i,r,a,s){var u=t.defaults({displayMode:n.fittingTypes.LEGACY_FULL},a.dataItem);o.patchNodeImage(e+"img",i,r,s,u,r.custom[e].containerSize),i.css(e,{width:r.width[e]})}function a(t,i,n){var o=e(n[t]),r=t+"label",a=i.width[r],s=i.height[r],u=Math.max(i.width[t],a),c=o.data("content-padding-left"),l=o.data("content-padding-right"),d=o.data("content-padding-top"),h=o.data("content-image-height"),g={width:u-c-l,height:Math.max(h-d-s,1)};i.custom[t]={containerSize:g},i.width[t]=u,i.minWidth[t]=a}i.registerRequestToMeasureChildren("wysiwyg.viewer.components.documentmedia.DocumentMedia",[["label"],{pathArray:["img"],type:"core.components.Image"},["link"]]),i.registerCustomMeasure("wysiwyg.viewer.components.documentmedia.DocumentMedia",a),i.registerSAFEPatcher("wysiwyg.viewer.components.documentmedia.DocumentMedia",r)}),define("layout/util/calculateScreenWidthDimensions",["siteUtils","layout/util/rootLayoutUtils"],function(e,t){var i=e.layout.stretchInCenteredContainer;return function(e,n,o){var r=Math.max(e.width.screen,t.getRootWidth(n,e,o));return i(t.getRootWidth(n,e,o),r)}}),define("layout/specificComponents/bgImageLayout",["zepto","lodash","layout/util/layout","coreUtils","imageClientApi","layout/util/optimizedCssImageLayout","layout/specificComponents/imageLayout"],function(e,t,i,n,o,r,a){function s(e){return!e||n.urlUtils.isExternalUrl(e)}function u(e,i,n,r,a,s){var u=a.mobile.getDevicePixelRatio(),c={width:r.width,height:r.height,alignment:i,htmlTag:s||"bg",pixelAspectRatio:u},l={id:n.uri,width:n.width,height:n.height},d=t.defaults({quality:85},n.quality||{});return o.getData(e,l,c,d,a.browser)}function c(e,t,i){var n=e+"bg";i[n]&&(t.custom[e]={},r.cacheCssImageMeasureData(t.custom[e],i[n]))}function l(t,i,n,o,s){var u=t+f.MEDIA+f.CONTENT,c=n[u].getAttribute("data-type");if(i.custom[t]=i.custom[t]||{},i.custom[t].type=c,c===f.IMAGE)a.measureNodeImage(u,i,n,o,s);else{var l=u+"image";n[l]=e(n[u]).find("#"+l)[0];var d=n[l];i.custom[u]={},r.cacheCssImageMeasureData(i.custom[u],d)}}function d(e,t,i,n,o){var r=i.width,a=n||i.height,c=p(e);if(c&&!s(c.uri)){return u(e.fittingType,e.alignType,c,{width:r,height:a},o,t)}}function h(e,i,n,o,s,u,c,l){var h=o.custom[e].type,m=g(s);if(h===f.IMAGE){var y={width:l.width,height:c},w=t.assign({displayMode:m.fittingType},p(m));a.patchNodeImage(i,n,o,u,w,y,m.alignType)}else{var v=i+"image",C=d(m,"bg",l,c,u),b=t.assign({height:c},C.css.container);r.patchCssImage(o.custom[i],v,n,b,C.uri,u)}}function g(e){return t.isUndefined(e.designDataItem)?e.dataItem.background:e.designDataItem.background}function p(e){var t=e.mediaRef;return t&&"WixVideo"===t.type&&(t=t.posterImageRef),t}function m(e,t,i,n,o,a){var c=i.custom[e],l=e+"bg";if(c){var d=n.dataItem;if(!d||s(d.uri))return;var h=n.propertiesItem.fittingType,g=n.propertiesItem.alignType,p=u(h,g,d,a,o);r.patchCssImage(c,l,t,p.css.container,p.uri,o)}}var f=n.balataConsts;return i.registerRequestToMeasureChildren("wysiwyg.viewer.components.background.bgImage",[["image"]]),i.registerRequestToMeasureChildren("wysiwyg.viewer.components.BgImageStrip",[["bg"]]),{measureLegacyBgImageStrip:c,measureBgImageBalata:l,patchBgImage:h,patchLegacyBgImageStrip:m}}),define("layout/specificComponents/youtubeVideoLayout",["lodash","coreUtils","layout/specificComponents/imageLayout"],function(e,t,i){function n(e){return e.designDataItem&&e.designDataItem.background?e.designDataItem.background:e.dataItem.background}function o(e,t,n,o,r){var s=e+a.POSTER,u=n[e];n[e+"video"]=u.firstChild,t.custom[e]={},t.custom[s]={},i.measureNodeImage(s,t,n,o,r)}function r(t,o,r,a,s,u,c){var l=n(a),d=c.width,h=c.height;o.attr(t+"video",{"min-width":d,"min-height":h,width:d,height:h}),o.css(t+"video",{position:"absolute"});var g={width:d,height:u,top:0},p=l.mediaRef.posterImage||{uri:"//img.youtube.com/vi/"+l.mediaRef.videoId+"/hqdefault.jpg"},m=e.assign({displayMode:l.fittingType},p);i.patchNodeImage(t+"poster",o,r,s,m,g,l.alignType)}var a=t.balataConsts;return{patchBgVideo:r,measureBgVideo:o}}),define("layout/specificComponents/balataLayout",["lodash","coreUtils","layout/specificComponents/bgImageLayout","layout/specificComponents/html5VideoLayout","layout/specificComponents/youtubeVideoLayout"],function(e,t,i,n,o){function r(t,i,n,o,r){var a=t[o][n];return e.isNumber(a)?a:(a=i[n][r],e.isNumber(a)?a:0)}function a(t,i,n,o,a,u){var c=d(t),l=i.custom[c]={},h=c+g.MEDIA;l.hasBalata=Boolean(n[c]),l.hasMedia=Boolean(n[h]),l.hasBalata&&(l.enableVideo="true"===n[c].getAttribute("data-enable-video"),e.forEach(u,function(e,t){i[t][c]=e}),i.left[c]=r(i,n,c,"left","offsetLeft"),i.top[c]=r(i,n,c,"top","offsetTop"),s(c,i,n,o,a))}function s(e,t,r,a,s){var u=h(s),c=u.mediaRef,l=t.custom[e].enableVideo;c&&("Image"!==c.type&&l?"WixVideo"===c.type?n.measureBgVideo(e+g.MEDIA+g.CONTENT,t,r,a,s):"Video"===c.type&&"YOUTUBE"===c.videoType&&o.measureBgVideo(e+g.MEDIA+g.CONTENT,t,r,a,s):i.measureBgImageBalata(e,t,r,a,s))}function u(t,i,n,o,r,a,s){var u=d(t),h=n.custom[u];if(h.hasBalata){var m=u+g.MEDIA,f=!r.isTouchDevice(),y=p.getBgEffectName(o.behaviorsItem,f,r.isMobileView()),w=p.getHeightByEffect(y,n,a.height),v={overflow:"hidden",left:a.left,width:a.width,clip:"rect(0px,"+a.width+"px,"+a.height+"px,0px)"};s&&(v=e.omit(v,["left","width"])),i.css(u,v),h.hasMedia&&(i.css(m,{width:a.width+"px",left:c(y,a,r),height:w+"px"}),l(u,i,n,o,r,w,a))}}function c(e,t,i){return p.isFullScreenByEffect(e,i.renderFlags.renderFixedPositionBackgrounds)?Math.floor(t.absoluteLeft||0):0}function l(e,t,r,a,s,u,c){var l=e+g.MEDIA,d=l+g.CONTENT,p=h(a).mediaRef,m=r.custom[e].enableVideo;p&&("Image"!==p.type&&m?"WixVideo"===p.type?n.patchBgVideo(d,t,r,a,s,u,c):"Video"===p.type&&"YOUTUBE"===p.videoType&&o.patchBgVideo(d,t,r,a,s,u,c):i.patchBgImage(e,d,t,r,a,s,u,c))}function d(e){return e+g.BALATA}function h(t){return e.get(t,["designDataItem","background"],e.get(t,["dataItem","background"]))||{}}var g=t.balataConsts,p=t.containerBackgroundUtils;return{BALATA_PATHS_TO_REQUEST_MEASURE:[[g.BALATA],[g.BALATA,g.MEDIA],[g.BALATA,g.MEDIA,g.CONTENT],[g.BALATA,g.MEDIA,g.CONTENT,g.POSTER],[g.BALATA,g.OVERLAY],[g.BALATA,g.OVERLAY,g.OVERLAY]],measure:a,patch:u}}),define("layout/specificComponents/containerAndScreenWidthLayout",["lodash","zepto","layout/util/layout","coreUtils","siteUtils","layout/util/rootLayoutUtils","layout/util/calculateScreenWidthDimensions","layout/specificComponents/bgImageLayout","layout/specificComponents/balataLayout"],function(e,t,i,n,o,r,a,s,u){function c(e,t,i){t.height[e]=i[e].offsetHeight,p(e,t,i)}function l(e){return e.isMobileView()?"mobile":"desktop"}function d(t,i){return e.get(t.dataItem,["pageBackgrounds",l(i),"ref"])}function h(i,n,r,a,s){c(i,n,r),n.shrinkableContainer[i]=!0;var u=o.layout.getPageBottomChildEnd(n,r,a,s)+n.containerHeightMargin[i],l=a.getPageMinHeight(),h=e.get(s,["propertiesItem",a.isMobileView()?"mobile":"desktop"]);if(h&&h.minHeight&&(l=h.minHeight),n.pageBottomByComponents[i]=u,n.minHeight[i]=l,n.height[i]=Math.max(l,u),n.width[i]=r[i].offsetWidth,r.POPUPS_ROOT=t("#POPUPS_ROOT"),s.dataItem.isPopup){var g={background:d(s,a)},p=e.clone(s);p.id+=k,p.designDataItem=g,n.top[i]=0,m(i,n,r,a,p)}}function g(e,t,i){var n=t.height[e+"inlineContent"]||0;t.containerHeightMargin[e]=n?i[e].offsetHeight-n:0}function p(e,t,i){t.left[e]=0,g(e,t,i)}function m(e,t,i,n,o){p(e,t,i),R(o)&&u.measure(e,t,i,n,o,{left:Math.max(0,.5*(t.clientWidth-t.width.screen)),width:t.width.screen,height:t.innerHeight.screen})}function f(e,t,i,n,o){if(p(e,t,i),R(o)){var r=a(t,n,o.rootId);t.width[e]=r.width;var s={width:r.width,left:r.left,height:t.height[e]};u.measure(e,t,i,n,o,s)}}function y(e,t,i,n,o){t.custom[e]={isFixedPosition:o.layout.fixedPosition},p(e,t,i)}function w(e,t){t.css(e,{left:0})}function v(e,t,i,n,o,r){t.css(r,{width:i.width.screen,left:E(o.getSiteWidth(),i.width.screen,o)}),w(e,t)}function C(e,t,i,n,o){v(e,t,i,n,o,e+"screenWidthBackground")}function b(e,i,n){p(e,i,n);var o=t(n[e+"navigationArrows"]);i.custom[e]={offset:parseInt(o.attr("data-navigation-button-margin"),10)}}function M(e,i,n,o,r){var a=t(n[e]),s=a.data("parent-id");i.minHeight[e]=a.data("min-height"),i.height[e]=i.height[s],f(e,i,n,o,r)}function S(e,t,i,n,o){var s=e+"inlineContent",u=s+"Parent",c=a(i,n,o.rootId);t.css(u,{left:c.left,width:c.width}),t.css(s,{left:c.left*-1,width:r.getRootWidth(n,i,o.rootId)})}function I(e,t,i,n,o){S(e,t,i,o,n)}function T(e,t,i,n,o){w(e,t,i),S(e,t,i,o,n);var r=E(n.layout.width,i.width.screen,o)+i.custom[e].offset;t.css(e,{width:o.getSiteWidth()}),t.css(e+"prevButton",{left:r}),t.css(e+"nextButton",{right:r})}function x(t,i,n,o,r){if(o.dataItem.isPopup){i.css("POPUPS_ROOT",{width:n.innerWidth.screen,height:n.innerHeight.screen});var a=t+k,s=e.defaultsDeep({id:a,rootId:"masterPage",structure:{behaviors:[]}},o),c=d(o,r);s.designDataItem={background:c},u.patch(t,i,n,s,r,{left:n.left[a],top:n.top[a],width:n.width[a],height:n.height[a]})}}function A(t,i,n,o,s,c){if(R(o)){w(t,i);var l=a(n,s,o.rootId),d=e.assign({top:0,left:l.left,width:l.width,height:n.height[t],absoluteLeft:0},c);i.css(t,{width:r.getRootWidth(s,n,o.rootId)}),u.patch(t,i,n,o,s,d)}}function L(t){return"Image"===e.get(t,["dataItem","type"])}function P(e,t,i,n,o){var r=a(t,n,o.rootId);t.width[e]=r.width,t.left[e]=r.left,L(o)&&s.measureLegacyBgImageStrip(e,t,i,n,o)}function D(e,t,i,n,o){if(t.css(e,{width:i.width[e]+"px",left:i.left[e]+"px"}),L(n)){var r={width:i.width[e],height:i.height[e]};s.patchLegacyBgImageStrip(e,t,i,n,o,r)}else{var a=e+"bg";t.css(a,{backgroundImage:"none"})}}function E(e,t,i){return i.isMobileView()||i.isMobileDevice()?0:Math.min(parseInt(Math.floor((e-t)/2),10),0)}function B(e,t,i,n){var o=n.layout&&n.layout.fixedPosition;t.css(e,{height:i.height[e],bottom:o?i.siteMarginBottom:"auto",top:o?"auto":i.top[e]})}function R(t){return e.isUndefined(t.designDataItem)?t.dataItem.background:t.designDataItem.background}var H=n.balataConsts,k=H.BALATA;return i.registerRequestToMeasureDom("mobile.core.components.Container"),i.registerRequestToMeasureDom("mobile.core.components.Page"),i.registerRequestToMeasureDom("wixapps.integration.components.AppPage"),i.registerRequestToMeasureDom("wysiwyg.viewer.components.FooterContainer"),i.registerRequestToMeasureDom("wysiwyg.viewer.components.HeaderContainer"),i.registerRequestToMeasureDom("wysiwyg.viewer.components.ScreenWidthContainer"),i.registerRequestToMeasureDom("wysiwyg.viewer.components.StripContainerSlideShow"),i.registerRequestToMeasureDom("wysiwyg.viewer.components.StripContainer"),i.registerRequestToMeasureDom("wysiwyg.viewer.components.StripColumnsContainer"),i.registerRequestToMeasureDom("wysiwyg.viewer.components.Column"),i.registerRequestToMeasureDom("wysiwyg.viewer.components.StripContainerSlideShowSlide"),i.registerMeasureChildrenFirst("mobile.core.components.Page",!0),i.registerMeasureChildrenFirst("wixapps.integration.components.AppPage",!0),i.registerRequestToMeasureChildren("mobile.core.components.Container",[["inlineContent"]]),i.registerRequestToMeasureChildren("mobile.core.components.Page",function(e,t,i,n){return n.dataItem.isPopup?[["inlineContent"]].concat(u.BALATA_PATHS_TO_REQUEST_MEASURE):[["inlineContent"]]}),i.registerRequestToMeasureChildren("wixapps.integration.components.AppPage",[["inlineContent"]]),i.registerRequestToMeasureChildren("wysiwyg.viewer.components.FooterContainer",[["screenWidthBackground"],["inlineContent"]]),i.registerRequestToMeasureChildren("wysiwyg.viewer.components.PagesContainer",[["screenWidthBackground"],["inlineContent"]]),i.registerRequestToMeasureChildren("wysiwyg.viewer.components.HeaderContainer",[["screenWidthBackground"],["inlineContent"]]),i.registerRequestToMeasureChildren("wysiwyg.viewer.components.ScreenWidthContainer",[["screenWidthBackground"],["inlineContent"]]),i.registerRequestToMeasureChildren("wysiwyg.viewer.components.StripContainerSlideShow",[["background"],["inlineContentParent"],["inlineContent"],["shownOnAllSlides"],["navigationArrows"],["prevButton"],["nextButton"]]),i.registerRequestToMeasureChildren("wysiwyg.viewer.components.StripContainer",[["inlineContent"]].concat(u.BALATA_PATHS_TO_REQUEST_MEASURE)),i.registerRequestToMeasureChildren("wysiwyg.viewer.components.StripContainerSlideShowSlide",[["inlineContentParent"],["inlineContent"]].concat(u.BALATA_PATHS_TO_REQUEST_MEASURE)),i.registerCustomMeasure("mobile.core.components.Container",g),i.registerCustomMeasure("mobile.core.components.Page",h),i.registerCustomMeasure("wixapps.integration.components.AppPage",h),i.registerCustomMeasure("wysiwyg.viewer.components.FooterContainer",y),i.registerCustomMeasure("wysiwyg.viewer.components.PagesContainer",c),i.registerCustomMeasure("wysiwyg.viewer.components.HeaderContainer",y),i.registerCustomMeasure("wysiwyg.viewer.components.ScreenWidthContainer",p),i.registerCustomMeasure("wysiwyg.viewer.components.StripContainerSlideShow",b),i.registerCustomMeasure("wysiwyg.viewer.components.StripContainer",f),i.registerCustomMeasure("wysiwyg.viewer.components.StripContainerSlideShowSlide",M),i.registerCustomMeasure("wysiwyg.viewer.components.BgImageStrip",P),i.registerSAFEPatchers("wysiwyg.viewer.components.FooterContainer",[C,B]),i.registerSAFEPatcher("wysiwyg.viewer.components.HeaderContainer",C),i.registerSAFEPatcher("mobile.core.components.Page",x),i.registerSAFEPatcher("wysiwyg.viewer.components.PagesContainer",C),i.registerSAFEPatcher("wysiwyg.viewer.components.ScreenWidthContainer",C),i.registerSAFEPatcher("wysiwyg.viewer.components.StripContainerSlideShow",T),i.registerSAFEPatcher("wysiwyg.viewer.components.StripContainer",A),i.registerSAFEPatchers("wysiwyg.viewer.components.StripContainerSlideShowSlide",[I,A]),i.registerSAFEPatcher("wysiwyg.viewer.components.BgImageStrip",D),{measureContainer:g,measureStripContainer:f,patchStripContainer:A}}),define("layout/specificComponents/groupLayout",["lodash","layout/util/layout","coreUtils"],function(e,t,i){function n(t,n,r,a,s){var u=i.dataUtils.getChildrenData(s.structure,a.isMobileView()),c=o(u,n);n.left[t]=s.layout.x,u.length>0&&(n.width[t]=c.right-c.left,n.height[t]=c.bottom-c.top,n.top[t]=s.layout.y+c.top,n.left[t]=s.layout.x+c.left,e.forEach(u,function(e){n.top[e.id]=e.layout.y-c.top,n.left[e.id]=e.layout.x-c.left}))}function o(t,n){var o,r,a,s;return o=a=Number.MAX_VALUE,r=s=-Number.MAX_VALUE,e.forEach(t,function(e){var t=e.layout,u=n.left&&n.left[e.id]?n.left[e.id]:t.x,c=n.width&&n.width[e.id]?n.width[e.id]:t.width,l=n.top&&n.top[e.id]?n.top[e.id]:t.y,d=n.height&&n.height[e.id]?n.height[e.id]:t.height,h=i.boundingLayout.getBoundingLayout({x:u,y:l,width:c,height:d,rotationInDegrees:t.rotationInDegrees});o=Math.min(o,h.x),r=Math.max(r,h.x+h.width),a=Math.min(a,h.y),s=Math.max(s,h.y+h.height)}),{left:o,right:r,top:a,bottom:s}}function r(t,n,o,r,a){n.css(t,{width:o.width[t],height:o.height[t],top:o.top[t],left:o.left[t]});var s=i.dataUtils.getChildrenData(r.structure,a.isMobileView());e.forEach(s,function(e){n.css(e.id,{top:o.top[e.id],left:o.left[e.id]})})}t.registerMeasureChildrenFirst("wysiwyg.viewer.components.Group",!0),t.registerRequestToMeasureDom("wysiwyg.viewer.components.Group"),t.registerCustomMeasure("wysiwyg.viewer.components.Group",n),t.registerSAFEPatcher("wysiwyg.viewer.components.Group",r)}),define("layout/wixappsLayout/proxyLayoutRegistrar",[],function(){var e={};return{registerCustomMeasure:function(t,i){e[t]=i},getProxiesToMeasure:function(){return e}}}),define("layout/specificComponents/wixappsLayout",["zepto","lodash","coreUtils","layout/wixappsLayout/proxyLayoutRegistrar","layout/util/layout","layout/util/singleCompLayout","experiment"],function(e,t,i,n,o,r){function a(){var i=t.toArray(arguments),n=i.join(""),o=i.slice(1).join("");return e("#"+n)[0]||e("#"+o)[0]}function s(e,t,i){return i.custom[e]&&i.custom[e].appPartShouldRenderAgain}function u(e,t,i,n){r.measureComponentChildren(e,a,n,i,t)}function c(e,t,i,n){var o=e.compId,s=a(o);t[o]=s;var c=e.structureInfo;c.id=o,c.type=e.compType,u(c,n,t,i),r.maps.classBasedCustomMeasures[e.compType]&&r.maps.classBasedCustomMeasures[e.compType](o,i,t,n,e.structureInfo)}function l(e,n,o){var r=e+"inlineContent",a=t.get(o,[e,"attributes","data-state","value"]);i.stringUtils.isTrue(o[e].getAttribute("data-dynamic-height"))&&"loading"!==a&&(n.height[e]=n.height[r],n.minHeight[e]=n.height[r])}function d(e,i,o,r,a){var s=e.id,u=s+"inlineContent",l=i.querySelector("#"+u);o.custom[s]=o.custom[s]||{};var d=!1;t.forEach(n.getProxiesToMeasure(),function(e,i){var n=p(i,l);o.custom[s][i]=o.custom[s][i]||[],t.forEach(n,function(t,n){var u=e(t,a,o);o.custom[s][i][n]=u,u.comp&&c(u.comp,r,o,a),u.needsRelayout&&!o.custom[s][i][n].didRelayout&&(d=!0,o.custom[s][i][n].didRelayout=!0)})});var h={};return h[e.id]=!0,{needsAdditionalInnerLayout:d,changedCompsMap:h}}function h(e,i,o,a,s){var u=e.id;i.custom[u].appPartShouldRenderAgain=t.reduce(n.getProxiesToMeasure(),function(e,n,c){var l=i.custom[u][c],d=t.reduce(l,function(e,t){g(t.domManipulations);var n=t.shouldRenderAgain,u=t.comp;return u&&(n=n||r.patchComponent(u.structureInfo,o,a,i,s)),e||n},!1);return e||d},!1)}function g(i){t.forEach(i,function(i){var n=e(i.node),o=i.funcName,r=t.isArray(i.params)?i.params:[i.params];t.isFunction(n[o])&&n[o].apply(n,r)})}function p(t,i){return e("[data-proxy-name="+t+"]",i)}return o.registerLayoutInnerCompsFirst("wixapps.integration.components.AppPart",d,h),o.registerLayoutInnerCompsFirst("wixapps.integration.components.AppPart2",d,h),o.registerRequestToMeasureChildren("wixapps.integration.components.AppPart",[["inlineContent"]]),o.registerRequestToMeasureDom("wixapps.integration.components.AppPart"),o.registerCustomMeasure("wixapps.integration.components.AppPart",l),o.registerSAFEPatcher("wixapps.integration.components.AppPart",s),o.registerRequestToMeasureChildren("wixapps.integration.components.AppPart2",[["inlineContent"]]),o.registerRequestToMeasureDom("wixapps.integration.components.AppPart2"),o.registerCustomMeasure("wixapps.integration.components.AppPart2",l),o.registerSAFEPatcher("wixapps.integration.components.AppPart2",s),{appPartMeasureFunction:l,appPartPatcherFunction:s,inlineContentId:"inlineContent",preMeasureProxies:d,postPatchProxies:h}}),define("layout/specificComponents/svgShape/svgScalerUtils",[],function(){return{trim:function(e){return e.replace(/^\s+|\s+$/g,"")},round:function(e){return Math.round(1e6*e)/1e6}}}),define("layout/specificComponents/svgShape/svgPathParser",["lodash","layout/specificComponents/svgShape/svgScalerUtils"],function(e,t){return{getParsedPath:function(i){var n=t.trim(i);return""===n?[]:n.match(/[a-z][^a-z]*/gi).map(function(i){for(i=i.replace(/-/g," -").replace(/,/g," ").replace(/(-?\d*[\.\-]\d+)/g,function(e,t){return" "+t});e.includes(i,"  ");)i=i.replace(/ {2}/g," ");return[i.substring(0,1),t.trim(i.substring(1))]}).map(function(t){var i,n=[];return e.includes("QSCL",t[0].toUpperCase())&&1===t[1].split(",").length?(i=t[1].split(" "),i.length%2!=0?t:(i.forEach(function(e,t,i){t%2==0&&n.push(e+" "+i[t+1])}),[t[0],n.join(",")])):t})},stringifyParsedPath:function(e){var t="";return e.forEach(function(e){e.forEach(function(e){t+=e})}),t}}}),define("layout/specificComponents/svgShape/svgBasicScaler",["layout/specificComponents/svgShape/svgScalerUtils"],function(e){var t=function(t,i){return e.round(parseFloat(t)*i)},i=function(e,i,n){var o=e.split(/[\s,]+/);return t(o[0],i)+" "+t(o[1],n)};return{scaleSingleValue:t,scalePairString:i,scaleMultiplePairStrings:function(t,n,o){return""===t?"":t.split(",").map(function(t){return i(e.trim(t),n,o)}).join(",")},scaleMultipleSingleStrings:function(i,n){return""===i?"":i.split(/[\s,]+/).map(function(i){return t(e.trim(i),n)}).join(",")}}}),define("layout/specificComponents/svgShape/svgPathScaler",["lodash","layout/specificComponents/svgShape/svgPathParser","layout/specificComponents/svgShape/svgBasicScaler","loggingUtils"],function(e,t,i,n){var o=function(){return""},r=function(e,t,n){return i.scaleSingleValue(e,n/(360*t))},a=function(e,t,o){return 7!==e.length?(n.log.verbose("incorrect arc string, should have exactly 7 parameters. (value was "+e.join(" ")),e.join(" ")):(e[0]=i.scaleSingleValue(e[0],t),e[1]=i.scaleSingleValue(e[1],o),e[2]=r(e[2],t,o),e[5]=i.scaleSingleValue(e[5],t),e[6]=i.scaleSingleValue(e[6],o),e.join(" "))},s=function(t,i,n){var o=t.split(/[\s,]+/),r=e.chunk(o,7),s=[];return e.forEach(r,function(e){s.push(a(e,i,n))}),s.join(" ")},u=function(i,n,o){var r=t.getParsedPath(i.getAttribute("d"));e.forEach(r,function(e){var t=[e[1]],i=e[0].toUpperCase();"V"===i?t.push(o):"H"===i?t.push(n):(t.push(n),t.push(o)),e[1]=c[e[0].toUpperCase()].apply(null,t)}),i.setAttribute("d",t.stringifyParsedPath(r))},c={M:i.scaleMultiplePairStrings,L:i.scaleMultiplePairStrings,H:i.scaleMultipleSingleStrings,V:i.scaleMultipleSingleStrings,Z:o,C:i.scaleMultiplePairStrings,S:i.scaleMultiplePairStrings,Q:i.scaleMultiplePairStrings,T:i.scaleMultiplePairStrings,A:s};return{scale:u}}),define("layout/specificComponents/svgShape/svgPolygonParser",["layout/specificComponents/svgShape/svgScalerUtils"],function(e){return{getParsedPoints:function(t){var i,n=e.trim(t),o=n.split(/[\s,]+/),r=[];if(""===n)return[];for(i=0;i<o.length;i+=2)r.push([o[i],o[i+1]]);return r},stringifyPoints:function(t){var i="";return t.forEach(function(e){i+=e.join(",")+" "}),e.trim(i)}}}),define("layout/specificComponents/svgShape/svgPolygonScaler",["lodash","layout/specificComponents/svgShape/svgBasicScaler","layout/specificComponents/svgShape/svgPolygonParser"],function(e,t,i){return{scale:function(n,o,r){var a=i.getParsedPoints(n.getAttribute("points"));e.forEach(a,function(e){e[0]=t.scaleSingleValue(e[0],o),e[1]=t.scaleSingleValue(e[1],r)}),n.setAttribute("points",i.stringifyPoints(a))}}}),define("layout/specificComponents/svgShape/svgCircleScaler",["layout/specificComponents/svgShape/svgBasicScaler"],function(e){return{scale:function(t,i,n){var o=t.getAttribute("cx"),r=t.getAttribute("cy"),a=t.getAttribute("r"),s=Math.min(i,n);o&&r&&(t.setAttribute("cx",e.scaleSingleValue(o,s)),t.setAttribute("cy",e.scaleSingleValue(r,s)),t.setAttribute("r",e.scaleSingleValue(a,s)))}}}),define("layout/specificComponents/svgShape/svgRectScaler",["layout/specificComponents/svgShape/svgBasicScaler"],function(e){var t=function(t,i,n,o){n&&t.setAttribute(i,e.scaleSingleValue(n,o))};return{scale:function(e,i,n){var o=e.getAttribute("width"),r=e.getAttribute("height"),a=e.getAttribute("rx"),s=e.getAttribute("ry"),u=e.getAttribute("x"),c=e.getAttribute("y");t(e,"width",o,i),t(e,"height",r,n),t(e,"rx",a,i),t(e,"ry",s,n),t(e,"x",u,i),t(e,"y",c,n)}}}),define("layout/specificComponents/svgShape/svgEllipseScaler",["layout/specificComponents/svgShape/svgBasicScaler"],function(e){return{scale:function(t,i,n){var o=t.getAttribute("cx"),r=t.getAttribute("cy"),a=t.getAttribute("rx"),s=t.getAttribute("ry");o&&a&&(t.setAttribute("cx",e.scaleSingleValue(o,i)),t.setAttribute("rx",e.scaleSingleValue(a,i))),r&&s&&(t.setAttribute("cy",e.scaleSingleValue(r,n)),t.setAttribute("ry",e.scaleSingleValue(s,n)))}}}),define("layout/specificComponents/svgShape/svgPolylineParser",["lodash","layout/specificComponents/svgShape/svgScalerUtils"],function(e,t){return{getParsedPoints:function(e){var i,n=t.trim(e),o=n.split(/[\s,]+/),r=[];if(""===n)return[];for(i=0;i<o.length;i+=2)r.push([o[i],o[i+1]]);return r},stringifyPoints:function(e){var i="";return e.forEach(function(e){i+=e.join(",")+" "}),t.trim(i)}}}),define("layout/specificComponents/svgShape/svgPolylineScaler",["lodash","layout/specificComponents/svgShape/svgBasicScaler","layout/specificComponents/svgShape/svgPolylineParser"],function(e,t,i){return{scale:function(n,o,r){var a=i.getParsedPoints(n.getAttribute("points"));a=e.map(a,function(i){return e.map(i,function(e,i){return t.scaleSingleValue(e,i?r:o)})}),n.setAttribute("points",i.stringifyPoints(a))}}}),define("layout/specificComponents/svgShape/svgLineScaler",["layout/specificComponents/svgShape/svgBasicScaler"],function(e){return{scale:function(t,i,n){var o=t.getAttribute("x1"),r=t.getAttribute("y1"),a=t.getAttribute("x2"),s=t.getAttribute("y2");o&&r&&a&&s&&(t.setAttribute("x1",e.scaleSingleValue(o,i)),t.setAttribute("x2",e.scaleSingleValue(a,i)),t.setAttribute("y1",e.scaleSingleValue(r,n)),t.setAttribute("y2",e.scaleSingleValue(s,n)))}}}),define("layout/specificComponents/svgShape/svgScaler",["lodash","layout/specificComponents/svgShape/svgScalerUtils","layout/specificComponents/svgShape/svgPathScaler","layout/specificComponents/svgShape/svgPolygonScaler","layout/specificComponents/svgShape/svgCircleScaler","layout/specificComponents/svgShape/svgRectScaler","layout/specificComponents/svgShape/svgEllipseScaler","layout/specificComponents/svgShape/svgPolylineScaler","layout/specificComponents/svgShape/svgLineScaler"],function(e,t,i,n,o,r,a,s,u){var c=function(t){return e.includes(["path","polygon","rect","circle","ellipse","polyline","line"],t.toLowerCase())},l=function(e,i,n,o){var r,a,s,u,c=i.width/i.height,l=c>o,d=c<o;return e.width?n&&l?(s=i.height*o,r=s/e.width):r=i.width/e.width:r=1,e.height?n&&d?(u=i.width/o,a=u/e.height):a=i.height/e.height:a=1,{scaleX:t.round(r),scaleY:t.round(a)}},d=function(e,t,i){return Math.abs(e.width-t.width)<i&&Math.abs(e.height-t.height)<i},h=function(e,t,i){e.setAttribute("transform","translate("+parseFloat(-1*i.x+.5*t)+","+parseFloat(-1*i.y+.5*t)+")")},g=function(e){var t=e.getAttribute("data-original-aspect-ratio");return t?Number(t):null},p=function(e,t){e.hasAttribute("data-original-aspect-ratio")||(e.setAttribute("data-original-aspect-ratio",t),e.setAttribute("viewBox",""),e.removeAttribute("viewBox"))};return{scale:function(t,m,f,y,w){var v=t.getElementsByTagName("g")[0],C=e.pick(f,["width","height"]),b=C.width/C.height,M=e.pick(f,["x","y"]),S={path:i,polygon:n,rect:r,circle:o,ellipse:a,polyline:s,line:u};if(v){var I=g(t);if(I||(I=f.width/f.height,p(t,I)),!d(m,C,1)||w&&b!==I){var T=l(C,m,w,I);e(v.childNodes).filter(function(e){return c(e.nodeName)}).forEach(function(e){S[e.nodeName.toLowerCase()].scale(e,T.scaleX,T.scaleY)}),h(v,y,{x:M.x*T.scaleX,y:M.y*T.scaleY}),t.style.width=Math.ceil(C.width*T.scaleX+y)+"px",t.style.height=Math.ceil(C.height*T.scaleY+y)+"px"}}}}}),define("layout/specificComponents/shapeLayout",["lodash","zepto","siteUtils","layout/util/layout","layout/specificComponents/svgShape/svgScaler"],function(e,t,i,n,o){function r(t,i,n){n.shapesBoundaries=n.shapesBoundaries||{};var o;n.shapesBoundaries[i]||(o=e.pick(t.getBBox(),["x","y","width","height"]),e.some(o)&&(n.shapesBoundaries[i]={boxBoundaries:o}))}function a(e,t,i){var n=i.width/i.height;e.shapesOriginalAspectRatio=e.shapesOriginalAspectRatio||{},e.shapesOriginalAspectRatio[t]=e.shapesOriginalAspectRatio[t]||n}function s(e,t,n,o){var r,a=t,s=o?"xMidYMid meet":"none",l=n,d=i.svgFeatureDetection.flags().isVectorEffect;return t?d?r=c(e,t,n,o):(r=c(e,t,n,o),a=u(e,t,n)):r=e,{viewBox:g(r),strokeWidth:a,size:l,preserveAspectRatio:s}}function u(e,t,i){return t*(1/Math.min((i.width-t)/e.width,(i.height-t)/e.height))}function c(e,t,i,n){var o,r,a,s;return n?o=r=Math.min((i.width-t)/e.width,(i.height-t)/e.height):(o=(i.width-t)/e.width,r=(i.height-t)/e.height),a=i.width/o,s=i.height/r,{width:a,height:s,x:e.x-(a-e.width)/2,y:e.y-(s-e.height)/2}}function l(e,t){var n=i.svgFeatureDetection.flags().isVectorEffect;return e>0&&t===!1&&!n}function d(t,i,n,o,s){var u=e.get(s,["styleItem","skin"]),c=n[t]&&n[t].getElementsByTagName("svg")[0];if(u&&c){n[t+"svg"]=c;var d=e.get(s,["propertiesItem","maintainAspectRatio"]);if(l(parseInt(e.get(s,["styleItem","style","properties","strokewidth"],1),10),d)){i.custom[t]={};var h=n[t+"svg-g"]=c.getElementsByTagName("g")[0]
;i.custom[t].boundingBox=h?h.getBBox():{},a(o,u,i.custom[t].boundingBox)}else r(c,u,o)}}function h(i,n,r,a,u){var c=n[i+"svg"],d=a.styleItem;if(c&&d){var h,g=a.propertiesItem,p=g&&g.maintainAspectRatio,m=parseInt(e.get(d,["style","properties","strokewidth"],1),10);if(l(m,p))h={width:r.width[i]-m,height:r.height[i]-m},o.scale(c,h,r.custom[i].boundingBox,m,p);else{var f=e.get(u,["shapesBoundaries",d.skin]);if(!f)return;h={width:r.width[i],height:r.height[i]};var y=s(f.boxBoundaries,m,h,p);t(c).css(e.pick(y,["strokeWidth","size"])),t(c).attr(e.pick(y,["preserveAspectRatio","viewBox"]))}}}var g=e.template("${x} ${y} ${width} ${height}");return n.registerCustomMeasure("wysiwyg.viewer.components.svgshape.SvgShape",d),n.registerPatcher("wysiwyg.viewer.components.svgshape.SvgShape",h),n.registerCustomMeasure("wysiwyg.viewer.components.PopupCloseIconButton",d),n.registerPatcher("wysiwyg.viewer.components.PopupCloseIconButton",h),{}}),define("layout/specificComponents/richtextLayout",["lodash","layout/util/layout","experiment"],function(e,t,i){function n(e,t){t.css(e,{height:""})}var o="wysiwyg.viewer.components.WRichText";return t.registerSAFEPatcher(o,n),t.registerCustomMeasure(o,function(t,n,o,r,a){var s=o[t],u=e.get(a,"propertiesItem.minHeight"),c=e.get(a,"propertiesItem.packed",!1),l=s.offsetHeight,d=r.isMobileView(),h=i.isOpen("sv_unpackTextMeasureByMinHeight"),g=h&&!d?Math.max(u||0,l):l;n.minHeight[t]=g,h&&(c=c||!e.isUndefined(u)),c&&(n.height[t]=g)}),t.registerRequestToMeasureDom(o),{}}),define("layout/specificComponents/matrixGalleryLayout",["layout/util/layout","zepto","imageClientApi","lodash","coreUtils","layout/specificComponents/imageLayout"],function(e,t,i,n,o,r){function a(e,t,i,n,o){return g.getSizeAfterScaling({itemHeight:t,itemWidth:i,displayerData:e,imageMode:n.imageMode,heightDiff:parseInt(o.data("height-diff"),10)||0,widthDiff:parseInt(o.data("width-diff"),10)||0,bottomGap:parseInt(o.data("bottom-gap"),10)||0})}function s(e,o,r,s,u,c,l){var g=t(c),p=g.data("image-index"),m=n.defaults({displayMode:i.fittingTypes.SCALE_TO_FILL},u[p]),f=a(m,r,o,s,g),y=h.getContainerSize(f.imageWrapperSize,g),w=d.getItemPosition(l,o,r,s.margin,s.numCols);return{id:c.id,imageData:m,imageNodeId:c.id+"image",imageWrapperId:c.id+"imageWrapper",containerSize:y,sizeAfterScaling:f,position:w}}function u(e,i,o,r,a){h.measureFlexibleHeightGallery(e,i,o);var u=t(o[e]),c=o[e+"itemsContainer"],l=t(c).children(),g=a.dataItem.items;i.width[e]=Math.max(45,i.width[e]),i.height[e]=Math.max(70,i.height[e]);var p=parseInt(u.data("height-diff"),10)||0,m=parseInt(u.data("width-diff"),10)||0,f=parseInt(u.data("presented-row"),10)||0,y=a.propertiesItem,w=d.getItemWidth(y.margin,y.numCols,i.width[e],m),v=d.getItemHeight(y.margin,i.height[e],f,p);i.custom[e]={displayers:n.map(l,n.partial(s,e,w,v,a.propertiesItem,g))}}function c(e,t,i,o,a){var s=i.height[e],u=i.width[e],c=i.custom[e];t.css(e+"itemsContainer",{height:s,width:u}),t.css(e,{height:s,width:u}),n.forEach(c.displayers,function(e){var n=e.sizeAfterScaling;t.css(e.id,{height:n.displayerSize.height,width:n.displayerSize.width,left:e.position.left,top:e.position.top}),h.updateImageWrapperSizes(t,e.imageWrapperId,n),r.patchNodeImage(e.imageNodeId,t,i,a,e.imageData,e.containerSize)})}function l(e,t,i,o){var r=[["itemsContainer"]];return n.forEach(o.dataItem.items,function(e){var t={pathArray:[e.id,"image"],type:"core.components.Image"},i=[e.id,"imageWrapper"],n=[e.id];r.push(t,i,n)}),r}var d=o.matrix.calculations,h=o.galleriesCommonLayout,g=o.matrix.scalingCalculations;return e.registerRequestToMeasureDom("wysiwyg.viewer.components.MatrixGallery"),e.registerCustomMeasure("wysiwyg.viewer.components.MatrixGallery",u),e.registerRequestToMeasureChildren("wysiwyg.viewer.components.MatrixGallery",l),e.registerSAFEPatcher("wysiwyg.viewer.components.MatrixGallery",c),{}}),define("layout/specificComponents/slideShowLayout",["layout/util/layout","zepto","coreUtils","imageClientApi","lodash","layout/specificComponents/imageLayout"],function(e,t,i,n,o,r){function a(e,i,n,o,r){var a=t(r);return d.getSizeAfterScaling({itemHeight:i,itemWidth:n,displayerData:e,imageMode:o.imageMode,heightDiff:parseInt(a.data("height-diff"),10)||0,widthDiff:parseInt(a.data("width-diff"),10)||0,bottomGap:parseInt(a.data("bottom-gap"),10)||0})}function s(e,i,r,s,u,c){var l=t(c),d=l.data("image-index"),g=o.defaults({displayMode:n.fittingTypes.SCALE_TO_FILL},u[d]),p=a(g,i,r,s,l),m=h.getContainerSize(p.imageWrapperSize,l);return{id:c.id,imageData:g,imageNodeId:c.id+"image",imageWrapperId:c.id+"imageWrapper",containerSize:m,sizeAfterScaling:p}}function u(e,i,n,r,a){h.measureFlexibleHeightGallery(e,i,n);var u=n[e+"itemsContainer"],c=t(u).children(),l=t(n[e]),d=i.height[e]-parseInt(l.data("height-diff"),10)||0,g=i.width[e]-parseInt(l.data("height-diff"),10)||0,p=a.dataItem.items;i.custom[e]={displayers:o.map(c,o.partial(s,e,d,g,a.propertiesItem,p))}}function c(e,t,i,n,a){var s=n.propertiesItem,u=i.height[e],c=i.width[e],l=a.isMobileDevice()||a.isMobileView(),d=i.custom[e].displayers;if(!o.isEmpty(d)){if("flexibleHeight"===s.imageMode){u=o.last(d).sizeAfterScaling.displayerSize.height}t.css(e,{height:u,width:c}),o.forEach(d,function(e){t.css(e.id,{height:u,width:c}),h.updateImageWrapperSizes(t,e.imageWrapperId,e.sizeAfterScaling),r.patchNodeImage(e.imageNodeId,t,i,a,e.imageData,e.containerSize,l)})}}function l(e,t,i,n){var r=[["itemsContainer"]];return o.forEach(n.dataItem.items,function(e){var t={pathArray:[e.id,"image"],type:"core.components.Image"},i=[e.id,"imageWrapper"],n=[e.id];r.push(t,i,n)}),r}var d=i.matrix.scalingCalculations,h=i.galleriesCommonLayout;return e.registerRequestToMeasureDom("wysiwyg.viewer.components.SlideShowGallery"),e.registerCustomMeasure("wysiwyg.viewer.components.SlideShowGallery",u),e.registerRequestToMeasureChildren("wysiwyg.viewer.components.SlideShowGallery",l),e.registerSAFEPatcher("wysiwyg.viewer.components.SlideShowGallery",c),{}}),define("layout/specificComponents/anchorLayout",["layout/util/layout"],function(e){function t(e,t){t.css(e,{width:"0px"})}e.registerSAFEPatcher("wysiwyg.common.components.anchor.viewer.Anchor",t)}),define("layout/specificComponents/tinyMenuLayout",["zepto","layout/util/layout","coreUtils","layout/util/rootLayoutUtils","lodash"],function(e,t,i,n,o){function r(e,t,i,r,a){var u,c,l=n.getRootWidth(a,i,r.rootId),d=l-40,h=r.layout.fixedPosition,g=+o.get(i,["top","WIX_ADS"],0)+o.get(i,["height","WIX_ADS"],0);if(h?(c="calc(50% + "+(r.layout.x-l/2)+"px)",u=20-r.layout.x):(c=r.layout.x+"px",u=-i.custom[e].menuContainerLeft),t.css(e,{left:c}),h&&t.css(e+"menuButton",{marginTop:g+"px"}),o.get(r,["styleItem","skin"],s)!==s){var p=i.height[e+"menuBackground"]-i.top[e+"menuContainer"];return t.css(e+"menuContainer",{marginTop:g+"px",maxHeight:p+"px"}),void t.css(e+"fullScreenOverlay",{height:i.height.screen+1+"px"})}var m=e+"menuContainer";t.css(m,{maxHeight:(h?i.clientHeight-g:i.height.masterPage)-o.get(i,["custom",e,"menuContainerTop"],0)}),t.css(e+"menuContainer",{width:d+"px",left:u+"px"})}function a(t,n,o){var r=e("#SITE_ROOT")[0],a=i.domMeasurements.getElementRect(o[t],r);if(n.custom[t]={menuContainerTop:a.bottom,menuContainerLeft:a.left-20},n.top[t+"menuContainer"]=i.domMeasurements.getBoundingRect(o[t+"menuContainer"]).top,o[t+"menuBackground"]&&(n.height[t+"menuBackground"]=i.domMeasurements.getElementRect(o[t+"menuBackground"]).height),n.height[t]=n.height[t+"menuButton"],/_open\b/.test(o[t+"menuButton"].className)){var s=i.domMeasurements.getElementRect(o[t+"menuItems"],r);n.minHeight.masterPage=Math.max(n.minHeight.masterPage||0,s.bottom)}}var s="wysiwyg.viewer.skins.mobile.TinyMenuSkin";t.registerRequestToMeasureChildren("wysiwyg.viewer.components.mobile.TinyMenu",[["menuContainer"],["menuButton"],["menuItems"],["fullScreenOverlay"],["menuBackground"]]),t.registerCustomMeasure("wysiwyg.viewer.components.mobile.TinyMenu",a),t.registerSAFEPatcher("wysiwyg.viewer.components.mobile.TinyMenu",r)}),define("layout/specificComponents/imageZoomLayout",["lodash","zepto","layout/util/layout","layout/specificComponents/imageLayout","coreUtils","imageClientApi"],function(e,t,i,n,o,r){function a(e){return e.dataItem||e.structure.compData}function s(e,t){return e.getNonPageItemZoomData()||e.getDataByQuery(t)}function u(e){var t=e.getNonPageItemZoomData();return e.getExistingRootNavigationInfo(e.getFocusedRootId()).pageItemId||t&&t.id}function c(t,i,o,a,c){var l=u(c),d=!c.isMobileView()&&c.isMobileDevice()||c.isTabletDevice(),h=s(c,l),g=e.defaults({displayMode:r.fittingTypes.LEGACY_FULL},h);g.quality=e.defaults({quality:90},g.quality||{});var p=o.custom[t],m={width:p.imageContainerWidth,height:p.imageContainerHeight};if(n.patchNodeImage(t+l+"image",i,o,c,g,m),o.custom[t].hasPanel){var f=d?p.dialogBoxWidth:m.width;i.css(t+h.id+"panel",{width:f})}}function l(e,t,i,n,o){var r=i.custom[e];t.css(e+"dialogBox",{width:r.imageContainerWidth,minHeight:r.dialogBoxHeight,paddingTop:r.paddingTop}),c(e,t,i,n,o);var a=u(o);if(r.showDescription&&r.descriptionHeight>r.descriptionHeightLimit){var s=e+a+"description";t.css(s,{height:r.descriptionHeightLimit}),t.data(s,{expandable:"true"}),t.css(s,{height:r.descriptionHeightLimit}),t.css(e+a+"ellipsis",{display:""})}}function d(e,i,n,o){var r=u(o),a=s(o,r),c=!o.isMobileView()&&o.isMobileDevice()||o.isTabletDevice(),l=c?f.getNonOptimizedViewDimensions:f.getDesktopViewDimensions,d=t(n[e]),g=t(n[e+"dialogBox"]),p=h(g),m=e+r+"panel",y={width:parseInt(d.data("width-spacer"),10),height:parseInt(d.data("height-spacer"),10)},w={isMobileDevice:o.isMobileDevice(),isTabletDevice:o.isTabletDevice(),siteWidth:o.getSiteWidth()},v={width:i.width.screen,height:i.height.screen,innerHeight:i.innerHeight.screen};i.custom[e]=l(a,w,v,y,i.height[m],p),i.custom[e].hasPanel=Boolean(n[m])}function h(e){var t=g(e,"padding-bottom")+g(e,"padding-top");return{horizontal:g(e,"padding-right")+g(e,"padding-left"),vertical:t}}function g(e,t){return e&&t?parseInt(e.css(t),10)||0:0}function p(e,i){var n=t(i);if("none"!==n.css("display")){var o=parseInt(n.css("line-height"),10);e.showDescription=!0,e.descriptionHeight=n.height(),e.descriptionHeightLimit=Math.floor(3*o)}}function m(e,t,i,n,o){var r=u(n),a=s(n,r),c=f.getMobileViewDimensions(a,n,t);p(c,i[e+r+"description"]),c.isMobileZoom=o,t.custom[e]=c}var f=o.mediaZoomCalculations;i.registerCustomMeasure("wysiwyg.components.imageZoom",function(e,t,i,n,o){var r=a(o).id;(n.isMobileView()?m:d)(e+r,t,i,n)}),i.registerSAFEPatcher("wysiwyg.components.imageZoom",function(e,t,i,n,o){var r=a(n).id;(o.isMobileView()?l:c)(e+r,t,i,n,o)}),i.registerRequestToMeasureChildren("wysiwyg.components.imageZoom",function(e,t,i,n){var o=a(n).id,r=u(e),s={pathArray:[o,r,"image"],type:"core.components.Image"};return e.isMobileView()?[[o],s,[o,"dialogBox"],[o,r,"description"],[o,r,"ellipsis"]]:[[o],s,[o,"dialogBox"],[o,"buttonPrev"],[o,"buttonNext"],[o,r,"panel"]]})}),define("layout/specificComponents/tpaGalleryLayout",["zepto","lodash","layout/util/layout","layout/util/calculateScreenWidthDimensions"],function(e,t,i,n){function o(e){return function(t,i,n,o,r){e.forEach(function(e){e(t,i,n,o,r)})}}function r(e,t){t.width[e]=Math.max(10,t.width[e]),t.minHeight[e]=10}function a(e,t,i){t.css(e+"iframe",{width:i.width[e],height:i.height[e]})}function s(e,t,i,o,r){var a=n(i,o,r.rootId);t.css(e,{width:a.width+"px",left:a.left+"px"}),t.attr(e+"iframe",{style:{width:a.width+"px"}}),i.width[e]=a.width,i.left[e]=a.left}function u(e,t){t.height[e]=.33*t.width[e]}function c(e,t,i,o,r){if(r.propertiesItem.fitToScreenWidth){var a=i[e],s=n(t,o,r.rootId);a.style.width=s.width+"px",a.style.left=s.left+"px",t.width[e]=s.width,t.left[e]=s.left}}function l(e,t,i,n,o){"vertical"===o.propertiesItem.orientation&&d(e,t,i)}function d(i,n,o){n.height[i]=t.head(e(o[i]).find("iframe")).offsetHeight}function h(e,t,i,n,o){s(e,t,i,o,n)}i.registerRequestToMeasureChildren("tpa.viewer.components.StripSlideshow",[["iframe"]]),i.registerRequestToMeasureChildren("tpa.viewer.components.StripShowcase",[["iframe"]]),i.registerRequestToMeasureChildren("tpa.viewer.components.Collage",[["iframe"]]),i.registerRequestToMeasureChildren("tpa.viewer.components.Honeycomb",[["iframe"]]),i.registerRequestToMeasureChildren("tpa.viewer.components.Accordion",[["iframe"]]),i.registerRequestToMeasureChildren("tpa.viewer.components.Masonry",[["iframe"]]),i.registerRequestToMeasureChildren("tpa.viewer.components.Impress",[["iframe"]]),i.registerRequestToMeasureChildren("tpa.viewer.components.Freestyle",[["iframe"]]),i.registerRequestToMeasureChildren("tpa.viewer.components.Thumbnails",[["iframe"]]),i.registerRequestToMeasureChildren("wysiwyg.viewer.components.tpapps.TPA3DGallery",[["iframe"]]),i.registerRequestToMeasureChildren("wysiwyg.viewer.components.tpapps.TPA3DCarousel",[["iframe"]]),i.registerSAFEPatcher("tpa.viewer.components.StripShowcase",h),i.registerSAFEPatcher("tpa.viewer.components.StripSlideshow",h),i.registerSAFEPatcher("tpa.viewer.components.Collage",a),i.registerSAFEPatcher("tpa.viewer.components.Accordion",a),i.registerSAFEPatcher("tpa.viewer.components.Impress",a),i.registerSAFEPatcher("tpa.viewer.components.Freestyle",a),i.registerSAFEPatcher("tpa.viewer.components.Thumbnails",a),i.registerSAFEPatcher("tpa.viewer.components.Honeycomb",a),i.registerSAFEPatcher("tpa.viewer.components.Masonry",a),i.registerSAFEPatcher("wysiwyg.viewer.components.tpapps.TPA3DGallery",a),i.registerSAFEPatcher("wysiwyg.viewer.components.tpapps.TPA3DCarousel",a),i.registerCustomMeasure("tpa.viewer.components.Collage",o([d,c,r])),i.registerCustomMeasure("tpa.viewer.components.Masonry",o([d,r])),i.registerCustomMeasure("tpa.viewer.components.Honeycomb",r),i.registerCustomMeasure("tpa.viewer.components.Accordion",r),i.registerCustomMeasure("tpa.viewer.components.Impress",r),i.registerCustomMeasure("tpa.viewer.components.Freestyle",o([l,r])),i.registerCustomMeasure("tpa.viewer.components.StripShowcase",r),i.registerCustomMeasure("tpa.viewer.components.StripSlideshow",r),i.registerCustomMeasure("tpa.viewer.components.Thumbnails",r),i.registerCustomMeasure("wysiwyg.viewer.components.tpapps.TPA3DGallery",r),i.registerCustomMeasure("wysiwyg.viewer.components.tpapps.TPA3DCarousel",o([r,u]))}),define("layout/specificComponents/youTubeSubscribeButtonLayout",["layout/util/layout"],function(e){function t(e,t,n,o,r){var a=r.propertiesItem.layout,s=i[a+(o.browser.ie?"IE":"")];t.width[e]=s.width,t.height[e]=s.height}var i={default:{width:145,height:33},defaultIE:{width:145,height:33},full:{width:212,height:55},fullIE:{width:212,height:67}};return e.registerRequestToMeasureDom("wysiwyg.common.components.youtubesubscribebutton.viewer.YouTubeSubscribeButton"),e.registerCustomMeasure("wysiwyg.common.components.youtubesubscribebutton.viewer.YouTubeSubscribeButton",t),{}}),define("layout/specificComponents/wFacebookCommentLayout",["layout/util/layout","zepto"],function(e,t){function i(e,i,n){var o=t(n[e]).find("iframe")[0];o&&(i.height[e]=Math.max(i.height[e],o.offsetHeight))}e.registerCustomMeasure("wysiwyg.viewer.components.WFacebookComment",i)}),define("layout/specificComponents/facebookLikeLayout",["layout/util/layout"],function(e){function t(e){var t=e?e.layout:o.layout;t=e&&e.show_faces?t+"_showFaces":t;var i=e?e.action:o.action;return r[t][i]}function i(e,i,n,o,r){var a=t(r.propertiesItem);i.width[e]=a.w,i.height[e]=a.h}function n(e,t,i){var n=i.width[e],o=i.height[e];t.css(e+"iframe",{width:n,height:o})}var o={layout:"box_count",show_faces:"box_count",action:"like"},r={standard:{like:{w:250,h:40},recommend:{w:290,h:40}},standard_showFaces:{like:{w:250,h:85},recommend:{w:290,h:85}},button_count:{like:{w:170,h:20},recommend:{w:137,h:20}},box_count:{like:{w:106,h:65},recommend:{w:125,h:65}},box_count_showFaces:{like:{w:85,h:65},recommend:{w:125,h:65}},button_count_showFaces:{like:{w:137,h:20},recommend:{w:137,h:20}}};return e.registerRequestToMeasureChildren("wysiwyg.viewer.components.WFacebookLike",[["iframe"]]),e.registerCustomMeasure("wysiwyg.viewer.components.WFacebookLike",i),e.registerSAFEPatcher("wysiwyg.viewer.components.WFacebookLike",n),{}}),define("layout/specificComponents/formMixinLayout",["layout/util/layout"],function(e){function t(e,t){var i=t.height[e+"wrapper"];i&&(t.height[e]=i)}function i(e,i,n){t(e,i,n);i.width[e]=Math.max(i.width[e],180),i.minWidth[e]=180,i.minHeight[e]=180}function n(e,t){var i=t.height[e+"wrapper"];i&&(t.height[e]=i)}e.registerCustomMeasure("wysiwyg.viewer.components.ContactForm",i),e.registerRequestToMeasureChildren("wysiwyg.viewer.components.ContactForm",[["wrapper"]]),e.registerRequestToMeasureDom("wysiwyg.common.components.subscribeform.viewer.SubscribeForm"),e.registerRequestToMeasureChildren("wysiwyg.common.components.subscribeform.viewer.SubscribeForm",[["wrapper"]]),e.registerCustomMeasure("wysiwyg.common.components.subscribeform.viewer.SubscribeForm",n)}),define("layout/specificComponents/backOfficeTextLayout",["layout/util/layout"],function(e){function t(e,t,i){var n=i[e].childNodes[0];n&&(t.height[e]=Math.max(t.height[e],n.offsetHeight))}e.registerCustomMeasure("wysiwyg.common.components.backofficetext.viewer.BackOfficeText",t)}),define("layout/specificComponents/vkShareLayout",["layout/util/layout"],function(e){function t(e,t,i){var n=i[e];n&&(t.height[e]=n.offsetHeight,t.width[e]=n.offsetWidth)}e.registerCustomMeasure("wysiwyg.viewer.components.VKShareButton",t),e.registerRequestToMeasureDom("wysiwyg.viewer.components.VKShareButton")}),define("layout/specificComponents/adminLoginLayout",["zepto","layout/util/layout"],function(e,t){function i(t,i,n){var o=t+"label",r=e(n[o]);i.width[t]=Math.max(r.offset().width,i.width[t]),i.height[t]=Math.max(17,i.height[t]),i.minWidth[t]=r.offset().width}t.registerCustomMeasure("wysiwyg.viewer.components.AdminLoginButton",i),t.registerRequestToMeasureChildren("wysiwyg.viewer.components.AdminLoginButton",[["label"]])}),define("layout/specificComponents/homePageLoginLayout",["zepto","layout/util/layout"],function(e,t){function i(t,i,n){var o=e(n[t+"memberTitle"]),r=e(n[t+"actionTitle"]);i.width[t]=Math.max(o.offset().width,r.offset().width,i.width[t]),i.height[t]=Math.max(o.offset().height+r.offset().height,i.height[t])}t.registerCustomMeasure("wysiwyg.viewer.components.wixhomepage.HomePageLogin",i),t.registerRequestToMeasureChildren("wysiwyg.viewer.components.wixhomepage.HomePageLogin",[["memberTitle"],["actionTitle"]])}),define("layout/specificComponents/iTunesButtonLayout",["layout/util/layout"],function(e){function t(e,t){t.minWidth[e]=110,t.width[e]=Math.min(400,t.width[e]),t.height[e]=40*t.width[e]/110}e.registerCustomMeasure("wysiwyg.viewer.components.ItunesButton",t)}),define("layout/specificComponents/paypalLayout",["layout/util/layout"],function(e){return e.registerCustomMeasure("wysiwyg.viewer.components.PayPalButton",function(e,t,i){t.height[e]=i[e+"submitImage"].offsetHeight,t.width[e]=i[e+"submitImage"].offsetWidth}),e.registerRequestToMeasureChildren("wysiwyg.viewer.components.PayPalButton",[["submitImage"]]),{}}),define("layout/specificComponents/wixSiteLayout",["zepto","layout/util/layout"],function(e,t){function i(){var t=e("<div>").css({visibility:"hidden",width:100,overflow:"scroll"}).appendTo("body"),i=e("<div>").css({width:"100%"}).appendTo(t).width();return t.remove(),100-i}function n(e){return"WixSite"===e.rendererModel.siteInfo.documentType}function o(e){return e.isTabletDevice()&&n(e)}function r(e,t){e.css("body",{width:t.width.body})}function a(e,t){c=c||i();var n=window.document.body.clientWidth,o=window.innerWidth,r=n;o>n+c&&(r=o),e.body=window.document.body,t.width.body=r}function s(e,t,i,n,a){o(a)&&r(t,i)}function u(e,t,i,n){o(n)&&a(i,t)}var c;t.registerCustomMeasure("document",u),t.registerSAFEPatcher("document",s)}),define("layout/specificComponents/buttonLayout",["zepto","lodash","layout/util/layout"],function(e,t,i){function n(e){return parseInt(e.paddingTop,10)+parseInt(e.paddingBottom,10)}function o(e){return parseInt(e.marginRight,10)+parseInt(e.marginLeft,10)}function r(t,i,r){function a(){return d!==""+l.data("prevText")}function s(){return i.minWidth[t]<l.data("prevMinWidth")}function u(){return l.data("prevWidth")===l.data("prevMinWidth")}var c=t+"label",l=e(r[t]),d=l.text(),h=l.data("should-use-flex"),g=window.getComputedStyle(r[t]),p=window.getComputedStyle(r[c]),m=g.minHeight;m&&parseInt(m,10)||(m=i.height[c]),i.minHeight[t]=parseInt(m,10),i.minWidth[t]=h?i.width[c]:i.width[c]+o(p);var f=l.data("shouldPreventWidthMeasurement");f||(i.width[t]=a()&&s()&&u()&&i.width[c]>0?i.minWidth[t]:Math.max(i.width[t],i.minWidth[t])),i.height[t]=Math.max(i.height[t],i.minHeight[t]),i.custom[t]={align:l.attr("data-align"),margin:parseInt(l.attr("data-margin"),10),shouldPreventWidthMeasurement:f,shouldUseFlex:h,text:d},i.custom[c]={verticalPadding:n(p)};var y=i.width[c]+i.custom[t].margin>i.width[t],w=i.custom[t].align;"center"!==w&&(h?i.custom[c].margin=y?i.width[t]-i.width[c]:i.custom[t].margin:i.custom[c]["margin-"+w]=y?i.width[t]-i.width[c]:i.custom[t].margin)}function a(e,i,n){var o;if(n.custom[e].shouldUseFlex){o={};var r=n.custom[e].align;return"center"!==r&&n.custom[i].margin&&(o["margin-"+r]=n.custom[i].margin),o}return o={"line-height":n.height[e]-n.custom[i].verticalPadding+"px"},t.reduce(["margin-left","margin-right"],function(e,o){return t.isUndefined(n.custom[i][o])||(e[o]=n.custom[i][o]),e},o)}function s(e,t,i){var n={height:i.height[e],"min-height":i.minHeight[e]};i.custom[e].shouldPreventWidthMeasurement||(n.width=i.width[e]),t.css(e,n);var o=e+"label",r=a(e,o,i);t.css(o,r),t.data(e,{prevText:i.custom[e].text,prevMinWidth:i.minWidth[e],prevWidth:i.width[e]})}i.registerRequestToMeasureChildren("wysiwyg.viewer.components.SiteButton",[["label"]]),i.registerCustomMeasure("wysiwyg.viewer.components.SiteButton",r),i.registerSAFEPatcher("wysiwyg.viewer.components.SiteButton",s),i.registerRequestToMeasureChildren("wysiwyg.viewer.components.PopupCloseTextButton",[["label"]]),i.registerCustomMeasure("wysiwyg.viewer.components.PopupCloseTextButton",r),i.registerSAFEPatcher("wysiwyg.viewer.components.PopupCloseTextButton",s)}),define("layout/wixappsLayout/proxyLayout/util/masonryCalculations",["lodash"],function(e){return{getColumnSidePadding:function(e,t,i,n){var o="rtl"===n,r=Math.floor(i/t),a=e*r,s=(t-1-e)*r;return{right:o?a:s,left:o?s:a}},getMasonryRowsAndColumns:function(t,i){for(var n=[],o=[],r=[],a=0;a<i;a++)o.push(0),r.push(0);for(var s=0;s<t.length;s++){var u=e.indexOf(o,e.min(o));n.push({col:u,row:r[u],topOffset:o[u]}),o[u]+=t[s],r[u]++}return n}}}),define("layout/wixappsLayout/proxyLayout/paginatedColumnGalleryProxyLayout",["zepto","lodash","layout/wixappsLayout/proxyLayoutRegistrar","layout/wixappsLayout/proxyLayout/util/masonryCalculations"],function(e,t,i,n){function o(t){return{columns:parseInt(e(t).attr("data-columns"),10),direction:e(t).attr("data-direction"),horizontalGap:parseInt(e(t).attr("data-horizontal-gap"),10),verticalGap:parseInt(e(t).attr("data-vertical-gap"),10)}}function r(e){return t.map(e.childNodes,"clientHeight")}function a(e){var i=r(e),a=o(e),s=e.childNodes,u=n.getMasonryRowsAndColumns(i,a.columns),c=Math.floor(e.clientWidth/a.columns),l={domManipulations:[],needsRelayout:!0},d=l.domManipulations,h=[];t.forEach(s,function(e,t){var i=u[t],o=i.row*a.verticalGap+i.topOffset,r=n.getColumnSidePadding(i.col,a.columns,a.horizontalGap,a.direction),s=i.col*c;h.push(o);var l={position:"absolute",top:o+"px","padding-right":r.right+"px","padding-left":r.left+"px"};"rtl"===a.direction?l.right=s+"px":l.left=s+"px",d[t]={node:e,funcName:"css",params:l}});var g=t(s).map(function(e,t){return h[t]+i[t]}).max();return d.push({node:e,funcName:"css",params:{height:g+"px"}}),l}i.registerCustomMeasure("PaginatedColumnGalleryProxy",a)}),define("layout/wixappsLayout/proxyLayout/galleryProxyLayout",["zepto","lodash","layout/wixappsLayout/proxyLayoutRegistrar"],function(e,t,i){function n(e,t,i){var n=i+"itemsContainer";t.height[n]=e.offsetHeight,t.width[n]=e.offsetWidth,t.height[i]=e.offsetHeight,t.width[i]=e.offsetWidth}function o(i,o,r){var a=i.id+"itemsContainer",s=e("#"+a),u=e(i),c=Number(u.attr("data-total-columns")),l=Number(u.attr("data-total-rows")),d=Number(u.attr("data-gap")),h=u.data("autoscale"),g=Number(u.data("width")),p=Number(u.data("height")),m=[],f=s.children();if(f.length){var y=f[0],w=y.offsetWidth,v=y.offsetHeight;m=t.map(f,function(t){var i=parseInt(e(t).attr("data-index"),10),n=Math.floor(i/c)%l,o=n*d,r=i%c;return{node:t,funcName:"css",params:{top:n*v+o,left:r*w+r*d}}})}var C=!1;if(h){var b=i.parentNode;C=p!==b.offsetHeight||g!==b.offsetWidth,C&&m.push({node:i,funcName:"data",params:["width",b.offsetWidth]},{node:i,funcName:"data",params:["height",b.offsetHeight]}),n(b,r,i.id)}else n(i,r,i.id);return{domManipulations:m,shouldRenderAgain:C}}i.registerCustomMeasure("GalleryProxy",o)}),define("layout/wixappsLayout/proxyLayout/imageProxyLayout",["zepto","lodash","layout/wixappsLayout/proxyLayoutRegistrar"],function(e,t,i){function n(t,i,n){var o=e(t),r=t.firstChild,a=r.id,s={width:parseInt(o.attr("data-width"),10),height:parseInt(o.attr("data-height"),10),uri:o.attr("data-uri"),quality:i.getGlobalImageQuality()},u={displayMode:o.attr("data-display-mode")};return n.width[a]=t.offsetWidth,n.height[a]=t.offsetHeight,n.custom[a]={thisIsMyHeight:n.height[a]},{comp:{compType:"wysiwyg.viewer.components.WPhoto",compId:a,structureInfo:{dataItem:s,propertiesItem:u,layout:null,styleItem:null}},domManipulations:[]}}i.registerCustomMeasure("Image",n)}),define("layout/wixappsLayout/proxyLayout/buttonProxyLayout",["layout/wixappsLayout/proxyLayoutRegistrar"],function(e){function t(e,t,i){var n=e.id;return i.width[n]=e.offsetWidth,i.height[n]=e.offsetHeight,{comp:{compType:"wysiwyg.viewer.components.SiteButton",compId:n,structureInfo:{dataItem:null,propertiesItem:null,layout:null,styleItem:null}},domManipulations:[]}}e.registerCustomMeasure("Button",t),e.registerCustomMeasure("Button2",t)}),define("layout/wixappsLayout/proxyLayout/mediaLabelProxyLayout",["layout/wixappsLayout/proxyLayoutRegistrar"],function(e){e.registerCustomMeasure("MediaLabel",function(e,t,i){var n=e.id;return i.width[n]=e.offsetWidth,i.height[n]=e.offsetHeight,{comp:{compType:"wysiwyg.viewer.components.MediaRichText",compId:n,structureInfo:{dataItem:null,propertiesItem:null,layout:null,styleItem:null}},domManipulations:[]}})}),define("layout/wixappsLayout/proxyLayout/sliderGalleryProxyLayout",["zepto","layout/wixappsLayout/proxyLayoutRegistrar"],function(e,t){function i(t,i,n){var o=e(t),r=t.firstChild,a=r.id,s={aspectRatio:o.attr("data-aspect-ratio"),imageMode:o.attr("data-image-mode")};return n.width[a]=t.offsetWidth,n.height[a]=t.offsetHeight,{comp:{compType:"wysiwyg.viewer.components.SliderGallery",compId:a,structureInfo:{dataItem:null,propertiesItem:s,layout:null,styleItem:null}},domManipulations:[]}}t.registerCustomMeasure("SliderGallery",i)}),define("layout/specificComponents/imageButtonLayout",["lodash","layout/util/layout","layout/specificComponents/imageLayout","imageClientApi"],function(e,t,i,n){function o(e,t){return{width:t.width[e],height:t.height[e]}}function r(t,o,r,a,s,u,c){var l=s.dataItem[t];if(l){var d=o+t,h=e.defaults({displayMode:n.fittingTypes.LEGACY_FULL},l);i.patchNodeImage(d,r,a,u,h,c)}}function a(t,i,n,a,s){var c=o(t,n);e.forEach(u,function(e){r(e,t,i,n,a,s,c)});var l=t+"link";i.css(l,{width:c.width,height:c.height})}function s(){var t=e.map(u,function(e){return{pathArray:[e],type:"core.components.Image"}});return t.push(["link"]),t}var u=["defaultImage","hoverImage","activeImage"];t.registerRequestToMeasureDom("wysiwyg.common.components.imagebutton.viewer.ImageButton"),t.registerRequestToMeasureChildren("wysiwyg.common.components.imagebutton.viewer.ImageButton",s()),t.registerSAFEPatcher("wysiwyg.common.components.imagebutton.viewer.ImageButton",a)}),define("layout/specificComponents/mediaRichTextLayout",["layout/util/layout","zepto"],function(e,t){e.registerRequestToMeasureDom("wysiwyg.viewer.components.MediaRichText"),e.registerCustomMeasure("wysiwyg.viewer.components.MediaRichText",function(e,i,n){var o=t(n[e]);i.custom[e]={prevWidth:o.data("width")}}),e.registerSAFEPatcher("wysiwyg.viewer.components.MediaRichText",function(e,t,i){var n=i.custom[e].prevWidth,o=parseInt(i.width[e],10);return n&&parseInt(n,10)===o?(t.css(e,{height:""}),!1):(t.data(e,{width:o}),!0)})}),define("layout/specificComponents/backToTopButtonLayout",["layout/util/layout"],function(e){function t(e,t,i){t.custom[e]={siteStructureBoundingClientRect:i.masterPage.getBoundingClientRect()}}function i(e,t,i){var n=e+"bg";t.css(n,{right:i.custom[e].siteStructureBoundingClientRect.left})}e.registerRequestToMeasureChildren("wysiwyg.common.components.backtotopbutton.viewer.BackToTopButton",[["bg"]]),e.registerCustomMeasure("wysiwyg.common.components.backtotopbutton.viewer.BackToTopButton",t),e.registerSAFEPatcher("wysiwyg.common.components.backtotopbutton.viewer.BackToTopButton",i)}),define("layout/specificComponents/appPartZoomLayout",["lodash","layout/util/layout","layout/specificComponents/wixappsLayout"],function(e,t,i){function n(e){return e.appPartName?e.id:e.dataItemRef.id}function o(e,t){return e+t.id+n(t)}function r(e,t,i){var n=e+"inlineContent",o=Math.max(i.height[e],i.height.screen);t.css(n,{height:o})}function a(e,t,i,n){var o=Math.max(n.height[t],n.height.screen);i.css(e,{height:o})}function s(t,i){var n=e.has(t,"dataItemRef")?t.dataItemRef.appInnerID:t.appInnerID;return!!i.getClientSpecMapEntry(n)}t.registerRequestToMeasureChildren("wixapps.integration.components.AppPartZoom",function(e,t,o,r){if(!s(r.dataItem,e))return null;var a=n(r.dataItem),u=r.dataItem.id;return[[u,a],[u,a,i.inlineContentId]]}),t.registerCustomMeasure("wixapps.integration.components.AppPartZoom",function(e,t,n,r,a){if(!s(a.dataItem,r))return null;var u=o(e,a.dataItem);i.appPartMeasureFunction(u,t,n,r),t.custom[e]={marginTop:Math.max((t.height.screen-t.height[u])/2,0),height:t.height[u]}}),t.registerSAFEPatcher("wixapps.integration.components.AppPartZoom",function(e,t,n,u,c){if(s(u.dataItem,c)){var l=o(e,u.dataItem);c.isMobileView()?(a(e,l,t,n),r(l,t,n)):i.appPartPatcherFunction(l,t,n,null,c)}}),t.registerLayoutInnerCompsFirst("wixapps.integration.components.AppPartZoom",function(e,t,n,r,a){if(!s(e.dataItem,a))return null;var u=o(e.id,e.dataItem),c={id:u},l=window.document.getElementById(u),d={};return d[e.id]=!0,{needsAdditionalInnerLayout:i.preMeasureProxies(c,l,n,r,a),changedCompsMap:d}},function(e,t,n,r,a){if(!s(e.dataItem,a))return null;var u=o(e.id,e.dataItem),c={id:u};return i.postPatchProxies(c,t,n,r,a)})}),define("layout/specificComponents/facebookShareLayout",["layout/util/layout"],function(e){function t(e,t,i){var n=i[e].children[0];n&&(t.height[e]=Math.max(t.height[e],n.offsetHeight),t.width[e]=Math.max(t.width[e],n.offsetWidth))}function i(e,t,i){var n=i.width[e],o=i.height[e];t.css(e,{width:n,height:o})}e.registerCustomMeasure("wysiwyg.viewer.components.FacebookShare",t),e.registerSAFEPatcher("wysiwyg.viewer.components.FacebookShare",i),e.registerRequestToMeasureDom("wysiwyg.viewer.components.FacebookShare")}),define("layout/specificComponents/paginatedGridGalleryLayout",["layout/util/layout","zepto","lodash","imageClientApi","coreUtils","layout/specificComponents/imageLayout"],function(e,t,i,n,o,r){function a(e,t,o,a,s,u,c,l,h){i.forEach(e,function(e,l){var g=d.getItemPosition(l,t,o,a.margin,a.numCols);u.css(e.imageItemId,{width:t,height:o,left:g.left,top:g.top});var p=i.assign({},h.dataItem.items[e.imageIndex],{displayMode:n.fittingTypes.SCALE_TO_FILL});r.patchNodeImage(e.imageItemId,u,c,s,p,{width:t,height:o})})}function s(e,t,n,o){var r=[["itemsContainer"]];return i.forEach(o.dataItem.items,function(e){r.push({pathArray:[e.id],type:"core.components.Image"})}),r}function u(e){return i.map(e,function(e){return{imageItemId:e.id,imageIndex:t(e).data("image-index")}})}function c(e,i,n){var o=i.custom[e]={},r=t(n[e])
;o.heightDiff=parseInt(r.data("height-diff"),10),o.widthDiff=parseInt(r.data("width-diff"),10);var a=t(n[e+"itemsContainer"]);o.nextItemsData=u(a.children('div[data-page-desc="next"]')),o.prevItemsData=u(a.children('div[data-page-desc="prev"]')),o.currItemsData=u(a.children('div[data-page-desc="curr"]'))}function l(e,t,i,n,o){var r=i.height[e],s=i.width[e],u=i.custom[e],c=n.propertiesItem;t.css(e+"itemsContainer",{width:s-u.widthDiff,height:r-u.heightDiff});var l=d.getItemWidth(c.margin,c.numCols,s,u.widthDiff),h=d.getAvailableRowsNumber(c.maxRows,c.numCols,n.dataItem.items.length),g=d.getItemHeight(c.margin,r,h,u.heightDiff);a(u.nextItemsData,l,g,c,o,t,i,e,n),a(u.prevItemsData,l,g,c,o,t,i,e,n),a(u.currItemsData,l,g,c,o,t,i,e,n)}var d=o.matrix.calculations;return e.registerSAFEPatcher("wysiwyg.viewer.components.PaginatedGridGallery",l),e.registerRequestToMeasureChildren("wysiwyg.viewer.components.PaginatedGridGallery",s),e.registerCustomMeasure("wysiwyg.viewer.components.PaginatedGridGallery",c),{}}),define("layout/specificComponents/PinterestFollowLayout",["layout/util/layout"],function(e){return e.registerCustomMeasure("wysiwyg.viewer.components.PinterestFollow",function(e,t,i){t.height[e]=i[e+"followButtonTag"].offsetHeight,t.width[e]=i[e+"followButtonTag"].offsetWidth}),e.registerRequestToMeasureChildren("wysiwyg.viewer.components.PinterestFollow",[["followButtonTag"]]),{}}),define("layout/specificComponents/videoLayout",["lodash","layout/util/layout"],function(e,t){function i(t,i,n){var o=new RegExp("([?&])"+i+"=.*?(&|$)","i"),r=e.includes(t,"?")?"&":"?";return t.match(o)?t.replace(o,"$1"+i+"="+n+"$2"):t+r+i+"="+n}function n(e,t,n,o){if("FACEBOOK"===o.dataItem.videoType){var r=i(n.custom[e].src,"width",n.width[e]);r=i(r,"height",n.height[e]),t.attr(e+"FACEBOOK",{src:r})}}function o(e,t,i,n,o){var s=o.dataItem.videoType,u=r[s]||a;t.minWidth[e]=u.WIDTH,t.minHeight[e]=u.HEIGHT,t.width[e]=Math.max(t.width[e],u.WIDTH),t.height[e]=Math.max(t.height[e],u.HEIGHT),"FACEBOOK"===s&&(i[e+"FACEBOOK"]=i[e].getElementsByTagName("iframe")[0],t.custom[e]={src:i[e].getElementsByTagName("iframe")[0].src})}var r={VIMEO:{WIDTH:100,HEIGHT:100},YOUTUBE:{WIDTH:200,HEIGHT:200}},a={WIDTH:10,HEIGHT:10};t.registerCustomMeasure("wysiwyg.viewer.components.Video",o),t.registerSAFEPatcher("wysiwyg.viewer.components.Video",n)}),define("layout/specificComponents/soundCloudLayout",["layout/util/layout"],function(e){function t(e,t){t.minWidth[e]=250,t.minHeight[e]=50,t.width[e]=Math.max(t.width[e],250),t.height[e]=Math.max(t.height[e],50)}e.registerCustomMeasure("wysiwyg.viewer.components.SoundCloudWidget",t)}),define("layout/specificComponents/verticalLineLayout",["layout/util/layout"],function(e){e.registerCustomMeasure("wysiwyg.viewer.components.VerticalLine",function(e,t,i){t.height[e]=Math.min(t.height[e],2e3),t.width[e]=parseInt(i[e].style.width,10),t.left[e]=parseInt(i[e].style.left,10)})}),define("layout/specificComponents/boxSlideShowLayout",["zepto","coreUtils","layout/util/layout","layout/specificComponents/balataLayout"],function(e,t,i,n){function o(e,t){t.height[e]=Math.max(50,t.height[e]),t.minHeight[e]=50}function r(t,i,o,r,a){i.top[t]=0,i.left[t]=0;var u=e(o[t]),c=u.data("parent-id");if(i.minHeight[t]=u.data("min-height"),i.height[t]=i.height[c],a.designDataItem.background){var l=t+s.BALATA;i.width[l]=i.width[t],i.height[l]=i.height[t],i.left[l]=i.left[t];var d=o[t].getBoundingClientRect();i.custom[t]={absoluteLeft:d.left},n.measure(t,i,o,r,a)}}function a(e,t,i,o,r){if(o.designDataItem.background){var a={top:i.top[e],left:i.left[e],width:i.width[e],height:i.height[e],absoluteLeft:i.custom[e].absoluteLeft};n.patch(e,t,i,o,r,a)}}var s=t.balataConsts;i.registerCustomMeasure("wysiwyg.viewer.components.BoxSlideShow",o),i.registerCustomMeasure("wysiwyg.viewer.components.BoxSlideShowSlide",r),i.registerRequestToMeasureDom("wysiwyg.viewer.components.BoxSlideShow"),i.registerRequestToMeasureDom("wysiwyg.viewer.components.BoxSlideShowSlide"),i.registerRequestToMeasureChildren("wysiwyg.viewer.components.BoxSlideShowSlide",[["inlineContentParent"],["inlineContent"]].concat(n.BALATA_PATHS_TO_REQUEST_MEASURE)),i.registerSAFEPatcher("wysiwyg.viewer.components.BoxSlideShowSlide",a)}),define("layout/specificComponents/mediaContainerLayout",["lodash","zepto","layout/util/layout","layout/specificComponents/balataLayout","experiment"],function(e,t,i,n,o){function r(i,r,a,s,u){if(u.designDataItem.background&&("wysiwyg.viewer.components.MediaPlayer"===u.type&&(r.custom[i]={alignments:{"wysiwyg.viewer.components.MediaOverlayControls":{vertical:"center",horizontal:"center",maxWidthFactor:.85,maxHeightFactor:.85},"wysiwyg.viewer.components.MediaControls":{vertical:"bottom",horizontal:"stretch",verticalMargin:2,horizontalMargin:2}}}),n.measure(i,r,a,s,u),o.isOpen("sv_cssDesignData"))){var c=i+"container";a[c]=a[c]||t(a[i]).find("#"+c)[0];var l=window.getComputedStyle(a[c]),d=parseInt(l.getPropertyValue("border-left-width"),10);e.isUndefined(r.borderWidth)&&(r.borderWidth={}),r.borderWidth[i]=d,r.width[i]=u.layout.width||a[i].clientWidth||r.width[i]}}function a(e,t,i,r,a){if(r.designDataItem.background){o.isOpen("sv_cssDesignData")&&t.css(e+"container",{left:-i.borderWidth[e],top:-i.borderWidth[e]});var s={top:0,left:0,width:i.width[e],height:i.height[e],absoluteLeft:i.absoluteLeft[e]};n.patch(e,t,i,r,a,s)}}var s=["wysiwyg.viewer.components.HoverBox","wysiwyg.viewer.components.MediaPlayer"];e.forEach(s,function(e){i.registerCustomMeasure(e,r),i.registerRequestToMeasureChildren(e,n.BALATA_PATHS_TO_REQUEST_MEASURE),i.registerSAFEPatcher(e,a)})}),define("layout/util/mediaLayoutUtils",["lodash"],function(e){function t(e,t,i,n){var o=i.verticalMargin||0,r=i.horizontalMargin||0;switch(i.vertical){case"top":n.top[e]=0+o;break;case"center":n.top[e]=(n.height[t]-n.height[e])/2;break;case"bottom":n.top[e]=n.height[t]-n.height[e]-o}switch(i.horizontal){case"left":n.left[e]=0+r;break;case"center":n.left[e]=(n.width[t]-n.width[e])/2;break;case"right":n.left[e]=n.width[t]-n.width[e]-r;break;case"stretch":n.left[e]=0+r,n.width[e]=n.width[t]-2*r}}function i(t,i,n){var o="data-element-query-",r={};return e.forEach(n,function(n,a){var s=e.get(i,[a,t]);s&&(r[o+a]="",e.forEach(n,function(e){e.min<s&&e.max>s&&(r[o+a]&&(r[o+a]+=" "),r[o+a]+=e.name)}))}),r}return{updateAligmentsToMeasureMap:t,getElementQueries:i}}),define("layout/specificComponents/mediaControlsLayout",["lodash","layout/util/layout","layout/util/mediaLayoutUtils","coreUtils"],function(e,t,i,n){function o(e,t,i){var n=i[e].getAttribute("data-player-id");t.custom[e]={playerId:n};var o=i[e].getAttribute("data-element-queries-def");o&&(t.custom[e].elementQueriesDefinition=a.elementQueries[o])}function r(t,n,o){var r=o.custom[t].playerId,a=e.get(o,["custom",r,"alignments","wysiwyg.viewer.components.MediaControls"],{});i.updateAligmentsToMeasureMap(t,r,a,o);var s={top:o.top[t],left:o.left[t],width:o.width[t]},u=e.get(o.custom,[t,"elementQueriesDefinition"],{});n.css(t,s),n.attr(t,i.getElementQueries(t,o,u))}var a=n.mediaConsts,s=[["controls"],["play"],["volume"],["fullscreen"],["progress"],["time"]];t.registerCustomMeasure("wysiwyg.viewer.components.MediaControls",o),t.registerRequestToMeasureChildren("wysiwyg.viewer.components.MediaControls",s),t.registerSAFEPatcher("wysiwyg.viewer.components.MediaControls",r)}),define("layout/specificComponents/mediaOverlayControlsLayout",["lodash","layout/util/layout","layout/util/mediaLayoutUtils"],function(e,t,i){function n(e,t,i){var n=i[e].getAttribute("data-player-id");t.custom[e]={playerId:n},i[e+"catcher"]=i[e].querySelector("#"+e+"catcher")}function o(t,n,o){var r=o.custom[t].playerId,a=e.get(o,["custom",r,"alignments","wysiwyg.viewer.components.MediaOverlayControls"],{}),s=o.width[r]*a.maxWidthFactor,u=o.height[r]*a.maxHeightFactor,c=o.width[t]/o.height[t];o.width[t]>s&&(o.width[t]=s,o.height[t]=o.width[t]*(1/c)),o.height[t]>u&&(o.height[t]=u,o.width[t]=o.height[t]*c),i.updateAligmentsToMeasureMap(t,r,a,o);var l={top:o.top[t],left:o.left[t],width:o.width[t],height:o.height[t]},d={top:-o.top[t],left:-o.left[t],width:o.width[r],height:o.height[r]};n.css(t,l),n.css(t+"catcher",d)}t.registerCustomMeasure("wysiwyg.viewer.components.MediaOverlayControls",n),t.registerSAFEPatcher("wysiwyg.viewer.components.MediaOverlayControls",o)}),define("layout/specificComponents/verticalAnchorsMenuLayout",["zepto","lodash","layout/util/layout"],function(e,t,i){function n(i,n,o){var r=e(o[i]),a=r.find("[class*=link]"),s=r.find("[class*=label]"),u=r.find("[class*=symbol]"),c=a.length,l=u.width(),d=Math.ceil(a.height()*c),h=0;t.forEach(s,function(t){h=Math.max(h,e(t).width())});var g=h+l;n.width[i]=Math.max(n.width[i],g),n.height[i]=Math.max(n.height[i],d),n.custom[i]={minHeight:d,minWidth:g}}function o(e,t,i){t.css(e,{width:i.width[e],height:i.height[e]})}i.registerCustomMeasure("wysiwyg.common.components.verticalanchorsmenu.viewer.VerticalAnchorsMenu",n),i.registerSAFEPatcher("wysiwyg.common.components.verticalanchorsmenu.viewer.VerticalAnchorsMenu",o)}),define("layout/specificComponents/columnsLayout",["lodash","coreUtils","layout/util/layout","layout/specificComponents/balataLayout"],function(e,t,i,n){function o(t,i,n,o,r,a,s){var u=t.structure,c=u.id;a(u),n.minHeight[c]=0,n.height[c]=u.layout.height;var l=s(u);return r.isMobileView()&&(n.top[c]=o[c].offsetTop),{needsAdditionalInnerLayout:!1,changedCompsMap:e.mapValues(l,e.constant(!0))}}function r(i,o,r,a,s){var u=a.isMobileView(),l=t.dataUtils.getChildrenData(s.structure,u),d=e.map(l,"id");if(u){var h=2*s.propertiesItem.rowMargin+(l.length-1)*s.propertiesItem.columnsMargin;e.forEach(d,function(e,t){h+=o.height[e],o.minHeight[e]=o.height[e];var n=t===d.length-1;o.injectedAnchors[e]=n?[{fromComp:e,distance:s.propertiesItem.rowMargin,topToTop:0,originalValue:0,type:"BOTTOM_PARENT",locked:!0,targetComponent:i}]:[{fromComp:e,distance:s.propertiesItem.columnsMargin,locked:!0,originalValue:0,targetComponent:d[t+1],topToTop:0,type:"BOTTOM_TOP"}]}),o.height[i]=h,o.height[i+c.BALATA]=h}else{var g=e(o.height).pick(d).values().max();e.forEach(d,function(e){o.top[e]=s.propertiesItem.rowMargin,o.minHeight[e]=g,o.injectedAnchors[e]=[{fromComp:e,distance:0,originalValue:0,type:"BOTTOM_PARENT",locked:!0,targetComponent:i}]}),o.height[i]=g+2*s.propertiesItem.rowMargin,o.containerHeightMargin[i]=s.propertiesItem.rowMargin,o.height[i+c.BALATA]=g+2*s.propertiesItem.rowMargin}n.measure(i,o,r,a,s);var p=r[i].getBoundingClientRect(),m=r[i+c.BALATA].offsetLeft;o.custom[i]={absoluteLeft:p.left+m,backgroundLeft:r[i+c.BALATA].offsetLeft,backgroundWidth:r[i+c.BALATA].offsetWidth}}function a(e,t,i,o,r){t.css(e,{height:i.height[e],left:0});var a={top:0,left:i.custom[e].backgroundLeft,width:i.custom[e].backgroundWidth,height:i.height[e],absoluteLeft:i.custom[e].absoluteLeft};n.patch(e,t,i,o,r,a,!0)}function s(e,t,i,o,r){t.height[e+c.BALATA]=t.minHeight[e],t.height[e]=t.minHeight[e],t.width[e]=i[e].offsetWidth,n.measure(e,t,i,o,r);var a=i[e].getBoundingClientRect(),s=i[e+c.BALATA].offsetLeft;t.custom[e]={absoluteLeft:a.left+s,backgroundLeft:i[e+c.BALATA].offsetLeft,backgroundWidth:i[e+c.BALATA].offsetWidth}}function u(e,t,i,o,r){t.css(e,{height:i.height[e]});var a={top:0,left:i.custom[e].backgroundLeft,width:i.custom[e].backgroundWidth,height:i.height[e],absoluteLeft:i.custom[e].absoluteLeft};n.patch(e,t,i,o,r,a,!0)}var c=t.balataConsts;i.registerRequestToMeasureChildren("wysiwyg.viewer.components.StripColumnsContainer",n.BALATA_PATHS_TO_REQUEST_MEASURE),i.registerRequestToMeasureChildren("wysiwyg.viewer.components.Column",n.BALATA_PATHS_TO_REQUEST_MEASURE),i.registerLayoutInnerCompsFirst("wysiwyg.viewer.components.Column",o,e.noop),i.registerCustomMeasure("wysiwyg.viewer.components.StripColumnsContainer",r),i.registerSAFEPatcher("wysiwyg.viewer.components.StripColumnsContainer",a),i.registerCustomMeasure("wysiwyg.viewer.components.Column",s),i.registerSAFEPatcher("wysiwyg.viewer.components.Column",u)}),define("layout/util/popupContainerDocking",["layout/specificComponents/containerAndScreenWidthLayout","layout/specificComponents/balataLayout","siteUtils"],function(e,t,i){function n(e,t){return{top:0,left:0,width:e,height:t,absoluteLeft:0}}var o={NINE_GRID:"nineGrid",FULL_HEIGHT:"fullHeight",FULL_WIDTH:"fullWidth"};return{measure:function(n,r,a,s,u){var c=u.propertiesItem,l={};if(c.alignmentType===o.FULL_WIDTH)return void e.measureStripContainer(n,r,a,s,u);c.alignmentType===o.FULL_HEIGHT&&(r.minHeight[n]=r.innerHeight.screen,r.shrinkableContainer[n]=!0),l.width=r.width[n],r.left[n]=i.compAlignmentUtils.getLeft(c,r.width[n],r.width.screen,s.getSiteWidth()),t.measure(n,r,a,s,u,l)},patch:function(r,a,s,u,c){var l,d=u.propertiesItem,h=c.getCurrentPopupId(),g=i.compAlignmentUtils.getTop(d,s.height[r],s.innerHeight.screen);s.top[r]=g,l=s.height[h]=g+s.height[r],a.css(h,{height:l}),a.css(r,{left:s.left[r],top:g,width:s.width[r],height:s.height[r]}),d.alignmentType===o.FULL_WIDTH?e.patchStripContainer(r,a,s,u,c,{width:s.width[r]}):t.patch(r,a,s,u,c,n(s.width[r],s.height[r]))}}}),define("layout/specificComponents/popupContainerLayout",["lodash","layout/util/layout","layout/util/popupContainerDocking","layout/specificComponents/containerAndScreenWidthLayout","layout/specificComponents/balataLayout"],function(e,t,i,n,o){function r(e,t,o,r,a){n.measureContainer(e,t,o,r,a),i.measure(e,t,o,r,a);var s=a.propertiesItem;t.width["ROOT_"+a.rootId]="fullWidth"===s.alignmentType?r.getSiteWidth():t.width[e],t.left["ROOT_"+a.rootId]=Math.floor(t.left[e]-r.getSiteX())}function a(e,t,n,o,r){i.patch(e,t,n,o,r)}t.registerMeasureChildrenFirst("wysiwyg.viewer.components.PopupContainer",!0),t.registerRequestToMeasureChildren("wysiwyg.viewer.components.PopupContainer",[["inlineContent"]].concat(o.BALATA_PATHS_TO_REQUEST_MEASURE)),t.registerRequestToMeasureDom("wysiwyg.viewer.components.PopupContainer"),t.registerCustomMeasure("wysiwyg.viewer.components.PopupContainer",r),t.registerSAFEPatcher("wysiwyg.viewer.components.PopupContainer",a)}),define("layout/specificComponents/comboBoxInputLayout",["lodash","zepto","layout/util/layout"],function(e,t,i){function n(i,n,o){var r=e.head(t(o[i]).find("select"));n.height[i]=r.offsetHeight,n.width[i]=r.offsetWidth}function o(e,t,i){var n=i.height[e],o=i.width[e];t.css(e,{height:n,width:o})}i.registerRequestToMeasureChildren("wysiwyg.viewer.components.inputs.ComboBoxInput",[["select"]]),i.registerCustomMeasure("wysiwyg.viewer.components.inputs.ComboBoxInput",n),i.registerSAFEPatcher("wysiwyg.viewer.components.inputs.ComboBoxInput",o)}),define("layout/specificComponents/textComponentsLayout",["lodash","layout/util/layout"],function(e,t){function i(e,t,i){var n=i[e+"textarea"];t.height[e]=n.offsetHeight,t.width[e]=n.offsetWidth}function n(e,t,i){var n=i[e+"input"];t.height[e]=n.offsetHeight,t.width[e]=n.offsetWidth}function o(e,t,i){t.css(e,{height:i.height[e],width:i.width[e]})}t.registerRequestToMeasureChildren("wysiwyg.viewer.components.inputs.TextInput",[["input"]]),t.registerCustomMeasure("wysiwyg.viewer.components.inputs.TextInput",n),t.registerSAFEPatcher("wysiwyg.viewer.components.inputs.TextInput",o),t.registerRequestToMeasureChildren("wysiwyg.viewer.components.inputs.TextAreaInput",[["textarea"]]),t.registerCustomMeasure("wysiwyg.viewer.components.inputs.TextAreaInput",i),t.registerSAFEPatcher("wysiwyg.viewer.components.inputs.TextAreaInput",o)}),define("layout/specificComponents/radioButtonLayout",["lodash","layout/util/layout","zepto"],function(e,t,i){function n(t,i){return e(t.css(i)).map(function(e){return parseInt(e.split("px")[0],10)}).sum()}function o(e,t){var o=i("#"+e);t.height[e]=o.offset().height+n(o,["margin-bottom","margin-top"]);var r=i("#"+e+"container").offset().width,a=n(o,["margin-right","margin-left"]);t.width[e]=r+a}t.registerCustomMeasure("wysiwyg.viewer.components.inputs.RadioButton",o)}),define("layout/specificComponents/datePickerLayout",["zepto","layout/util/layout"],function(e,t){function i(t,i,n){var o=n[t+"icon"],r=n[t+"input"],a=n[t+"inputWrapper"],s=o.height.baseVal.value+16,u=parseInt(e(r).css("line-height"),10)||0,c=parseInt(e(a).css("border-width"),10)||0,l=2*c;i.height[t]=Math.max(a.offsetHeight,s),i.width[t]=Math.max(a.offsetWidth,56),i.minHeight[t]=Math.max(u,s)+l,i.minWidth[t]=56+l}function n(e,t,i){t.css(e,{height:i.height[e],width:i.width[e]})}t.registerRequestToMeasureChildren("wysiwyg.viewer.components.inputs.DatePicker",[["icon"],["inputWrapper"],["input"]]),t.registerCustomMeasure("wysiwyg.viewer.components.inputs.DatePicker",i),t.registerSAFEPatcher("wysiwyg.viewer.components.inputs.DatePicker",n)}),define("layout/specificComponents/radioGroupLayout",["lodash","zepto","layout/util/layout"],function(e,t,i){function n(t,i,n){return e.filter(t[i],function(t,i){return e.startsWith(i,n+"radio")})}function o(i,o){var r=arguments[4],a=r.dataItem.options.length,s="vertical"===r.propertiesItem.layout,u=n(o,"height",i),c=s?e.sum(u):e.max(u);o.height[i]=c;var l=n(o,"width",i),d=s?e.max(l):e.sum(l),h=s?60:60*a;o.width[i]=e.max([h,d,t("#"+i).offset().width])}function r(e,t,i){t.css(e,{width:i.width[e]})}function a(t,i,n,o){return e.map(o.dataItem.options,function(e,t){return{type:"wysiwyg.viewer.components.inputs.RadioButton",pathArray:["radio"+t]}}).concat([["items"]])}i.registerRequestToMeasureChildren("wysiwyg.viewer.components.inputs.RadioGroup",a),i.registerCustomMeasure("wysiwyg.viewer.components.inputs.RadioGroup",o),i.registerSAFEPatcher("wysiwyg.viewer.components.inputs.RadioGroup",r)}),define("layout/specificComponents/gridLayout",["lodash","layout/util/layout"],function(e,t){function i(e,t){return e.styleItem.style.properties[t]||""}function n(e){var t=e.propertiesItem.pagination;return e.dataItem.numberOfDisplayedRows||(t&&t.type===r.PAGES?t.rowsPerPage:e.dataItem.rows.length)}function o(e,t,o,r,s){var u=o[e];t.width[e]=u.offsetWidth,t.height[e]=u.offsetHeight;var c=s.propertiesItem,l=c.rowHeight+Number(i(s,"rowDivider_w")),d=Math.min(n(s),200),h=c.showHeader?c.headerHeight+Number(i(s,"headerDivider_w")):0,g=Number(s.styleItem.style.properties.containerBrw)||0,p=h+d*l+2*g,m=c.heightLayout===a.AUTOMATIC,f=u.getElementsByClassName("ag-bl-center ag-bl-full-height-center");if(f.length){var y=u.getElementsByClassName("ag-body"),w=m?p:f[0].clientHeight;y[0].style.height=w-2*g-h+"px"}p&&m&&(t.height[e]=p)}var r={PAGES:"pagination",SCROLL:"virtual",NONE:"normal"},a={MANUAL:"manual",AUTOMATIC:"auto"};t.registerCustomMeasure("wysiwyg.viewer.components.Grid",o)}),define("layout/specificComponents/fileUploaderLayout",["zepto","lodash","layout/util/layout"],function(e,t,i){function n(t,i,n){var o=e(n[t]),r=o.find("#"+t+"files"),a=o.find("#"+t+"buttonLabel"),s=o.find("#"+t+"chooseFileButton"),u=window.getComputedStyle(r[0]),c=window.getComputedStyle(s[0]),l=2*parseInt(c.borderLeftWidth,10);i.minHeight[t]=parseInt(u.height,10)+parseInt(u.marginTop,10)+Math.max(a[0].offsetHeight,23)+l,i.width[t]=Math.max(a[0].offsetWidth+l+16+20,i.width[t])}function o(e,t,i){var n={height:Math.max(i.minHeight[e],i.height[e]),width:i.width[e]};t.css(e,n)}i.registerCustomMeasure("wysiwyg.viewer.components.inputs.FileUploader",n),i.registerSAFEPatcher("wysiwyg.viewer.components.inputs.FileUploader",o)}),define("layout/specificComponents/appControllerLayout",["layout/util/layout"],function(e){e.registerCustomMeasure("platform.components.AppController",function(e,t,i){i[e+"inlineContent"]&&(t.width[e]=t.width[e+"inlineContent"],t.height[e]=t.height[e+"inlineContent"])}),e.registerRequestToMeasureChildren("platform.components.AppController",[["inlineContent"]])}),define("layout/specificComponents/linkBarLayout",["lodash","layout/util/layout","layout/specificComponents/imageLayout"],function(e,t,i){function n(t,i,n,o){var r=o.dataItem.items;return e.map(r,function(e,t){return{type:"core.components.Image",pathArray:[""+t,"image"]}})}function o(t,n,o,r,a){var s=e.get(r,["propertiesItem","iconSize"]),u={width:s,height:s},c=r.dataItem.items;e.forEach(c,function(e,r){i.patchNodeImage(t+r+"image",n,o,a,e,u,e.alignType)})}t.registerRequestToMeasureChildren("wysiwyg.viewer.components.LinkBar",n),t.registerSAFEPatcher("wysiwyg.viewer.components.LinkBar",o)}),define("layout/specificComponents/flashComponentLayout",["lodash","layout/util/layout","layout/specificComponents/imageLayout"],function(e,t,i){function n(e,t,n,o,r){i.patchNodeImage(e+"noFlashImg",t,n,r,o.dataItem.placeHolderImage,{width:o.dataItem.placeHolderImage.width,height:o.dataItem.placeHolderImage.height},o.dataItem.placeHolderImage.alignType)}t.registerRequestToMeasureChildren("wysiwyg.viewer.components.FlashComponent",[{type:"core.components.Image",pathArray:["noFlashImg"]}]),t.registerSAFEPatcher("wysiwyg.viewer.components.FlashComponent",n)}),define("layout/specificComponents/rssButtonLayout",["lodash","layout/util/layout","layout/specificComponents/imageLayout"],function(e,t,i){function n(t,i,n,o){return[{type:"core.components.Image",pathArray:[e.get(o,["dataItem","image","id"])]}]}function o(t,n,o,r,a){var s=e.get(r,"layout"),u=e.get(r,["dataItem","image"]);e.assign(u,{displayMode:"full"}),i.patchNodeImage(t+e.get(u,"id"),n,o,a,u,s)}t.registerRequestToMeasureChildren("wysiwyg.common.components.rssbutton.viewer.RSSButton",n),t.registerSAFEPatcher("wysiwyg.common.components.rssbutton.viewer.RSSButton",o)}),define("layout/specificComponents/quickActionBarLayout",["lodash","layout/util/layout"],function(e,t){function i(e,t,i,n,o){t.custom[e]={isZoomed:n.mobile.isZoomed()&&"preview"!==n.viewMode},t.top[e]=t.clientHeight-t.height[e]-16,t.left[e]=o.layout.x+(t.clientWidth-t.width.screen)/2}function n(e,t,i){t.css(e,{top:"",bottom:16,left:i.left[e],display:i.custom[e].isZoomed?"none":"","z-index":1})}t.registerCustomMeasure("wysiwyg.viewer.components.QuickActionBar",i),t.registerSAFEPatcher("wysiwyg.viewer.components.QuickActionBar",n)}),define("layout/specificComponents/touchMediaZoomLayout",["zepto","lodash","siteUtils","layout/util/layout"],function(e,t,i,n){function o(i,n,o){var r=e(o[i]);if(r.data("firstrender")){n.custom[i]={imageIds:[]};var a=t.toArray(r.find("img"));t.forEach(a,function(t,r){var a=i+"_image"+r;o[a]=t,n.custom[i].imageIds.push(a),n.custom[a]={imageData:e(t).data("imgdata"),scale:e(t).data("imgscale")}});var s=u.exec(i)[1];o[i+"imageContainer"]=r.find("#"+s+"imageContainer"),o[i+"info"]=r.find("#"+s+"info")}}function r(e,i,n,o,r){n.custom[e]&&(t.forEach(n.custom[e].imageIds,function(e){var t={pixelAspectRatio:r.mobile.getDevicePixelRatio(),browser:r.getBrowser(),staticMediaUrl:r.getStaticMediaUrl(),screenSize:{width:n.width.screen,height:n.height.screen}},o=n.custom[e],a=s.getImageApiData(o.imageData,t,o.scale);i.css(e,a.css.img),i.attr(e,{src:a.uri})}),i.css(e,{width:1.4*n.width.screen}),i.css(e+"imageContainer",{width:n.width.screen}),i.css(e+"info",{width:n.width.screen}))}function a(e,i,n,o,a){i.css(e,{top:0,position:"absolute",width:"100%",height:"100%"}),t.forEach(["imageZoomCompstage_LEFT","imageZoomCompstage_CENTER","imageZoomCompstage_RIGHT"],function(e){r(e,i,n,o,a)})}var s=i.touchMediaZoomUtils,u=/^imageZoomComp(.*)$/;n.registerCustomMeasure("wysiwyg.viewer.components.TouchMediaZoomItem",o),n.registerRequestToMeasureChildren("wysiwyg.viewer.components.TouchMediaZoomSlideshow",[{pathArray:["stage_LEFT"],type:"wysiwyg.viewer.components.TouchMediaZoomItem"},{pathArray:["stage_CENTER"],type:"wysiwyg.viewer.components.TouchMediaZoomItem"},{pathArray:["stage_RIGHT"],type:"wysiwyg.viewer.components.TouchMediaZoomItem"}]),n.registerSAFEPatcher("wysiwyg.viewer.components.TouchMediaZoomSlideshow",a)}),define("layout/specificComponents/svgPrimitiveLayout",["lodash"],function(e){function t(t,i,n,o){e.get(n.custom,[t+"svg","shouldPatch"])&&i.css(t+"svg",o)}function i(e,t,i){var n=t[e].getElementsByTagName("svg")[0];n&&(t[e+"svg"]=n,i.custom[e+"svg"]={shouldPatch:!0})}return{patchNodeSvg:t,measureNodeSvg:i}}),define("layout/specificComponents/viewerLayout",[],function(){return function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var i={};return t.m=e,t.c=i,t.p=".",t(0)}([function(e,t,i){var n,o;n=[],void 0!==(o=function(){"undefined"!=typeof window&&window.document&&window.santaBase&&!window.editorBase&&!document.querySelector('link[href$="viewer.css"]')&&i(1)}.apply(t,n))&&(e.exports=o)},function(e,t,i){var n=i(2);"string"==typeof n&&(n=[[e.id,n,""]]);i(4)(n,{});n.locals&&(e.exports=n.locals)},function(e,t,i){t=e.exports=i(3)(),
t.push([e.id,"html, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, font, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  outline: 0;\n  vertical-align: baseline;\n  background: transparent; }\n\nbody {\n  font-size: 10px;\n  font-family: Arial, Helvetica, sans-serif; }\n\ntextarea, input, select {\n  font-family: Helvetica, Arial, sans-serif;\n  box-sizing: border-box; }\n\nol, ul {\n  list-style: none; }\n\nblockquote, q {\n  quotes: none; }\n\n:focus {\n  outline: 0; }\n\nins {\n  text-decoration: none; }\n\ndel {\n  text-decoration: line-through; }\n\ntable {\n  border-collapse: collapse;\n  border-spacing: 0; }\n\na {\n  cursor: pointer;\n  text-decoration: none; }\n\nhtml, body {\n  height: 100%; }\n\nbody {\n  overflow-x: auto;\n  overflow-y: scroll; }\n\n.testStyles {\n  overflow-y: hidden; }\n\n.wixSiteProperties {\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  overflow: hidden; }\n\n.SITE_ROOT {\n  min-height: 100%;\n  position: relative;\n  margin: 0 auto; }\n\n.POPUPS_ROOT {\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  overflow-x: auto;\n  overflow-y: scroll;\n  position: fixed;\n  z-index: 99999; }\n  .POPUPS_ROOT.mobile {\n    z-index: 1005;\n    -webkit-overflow-scrolling: touch; }\n\n.POPUPS_WRAPPER {\n  position: relative;\n  overflow: hidden; }\n  .POPUPS_WRAPPER > div {\n    /* page */\n    margin: 0 auto; }\n\n.auto-generated-link {\n  color: inherit; }\n\n.warmup .hidden-on-warmup {\n  visibility: hidden; }\n\nhtml.device-phone body {\n  overflow-y: auto; }\n\nhtml.device-mobile-optimized.device-android {\n  margin-bottom: 1px; }\n\nhtml.device-mobile-optimized.blockSiteScrolling > body {\n  position: fixed;\n  width: 100%; }\n\nhtml.device-mobile-optimized.media-zoom-mode > body {\n  touch-action: manipulation; }\n  html.device-mobile-optimized.media-zoom-mode > body > #SITE_CONTAINER {\n    height: 100%;\n    overflow: hidden; }\n    html.device-mobile-optimized.media-zoom-mode > body > #SITE_CONTAINER > .noop {\n      height: 100%; }\n      html.device-mobile-optimized.media-zoom-mode > body > #SITE_CONTAINER > .noop > .siteAspectsContainer {\n        height: 100%;\n        z-index: 1005; }\n\n.siteAspectsContainer {\n  position: absolute;\n  top: 0;\n  margin: 0 auto;\n  left: 0;\n  right: 0; }\n\nbody.device-mobile-optimized {\n  overflow-x: hidden;\n  overflow-y: scroll; }\n  body.device-mobile-optimized.qa-mode {\n    overflow-y: auto; }\n  body.device-mobile-optimized #SITE_CONTAINER {\n    width: 320px;\n    overflow-x: visible;\n    margin: 0 auto;\n    position: relative; }\n  body.device-mobile-optimized > * {\n    max-width: 100% !important; }\n  body.device-mobile-optimized .SITE_ROOT {\n    overflow-x: hidden;\n    overflow-y: hidden; }\n\nbody.device-mobile-non-optimized #SITE_CONTAINER > :not(.mobile-non-optimized-overflow) .SITE_ROOT {\n  overflow-x: hidden;\n  overflow-y: auto; }\n\nbody.device-mobile-non-optimized.fullScreenMode {\n  background-color: #5f6360; }\n  body.device-mobile-non-optimized.fullScreenMode .SITE_ROOT,\n  body.device-mobile-non-optimized.fullScreenMode #SITE_BACKGROUND,\n  body.device-mobile-non-optimized.fullScreenMode #MOBILE_ACTIONS_MENU {\n    visibility: hidden; }\n\nbody.fullScreenMode {\n  overflow-x: hidden !important;\n  overflow-y: hidden !important; }\n  body.fullScreenMode.device-mobile-optimized #TINY_MENU {\n    opacity: 0;\n    pointer-events: none; }\n\nbody.fullScreenMode-scrollable.device-mobile-optimized {\n  overflow-x: hidden !important;\n  overflow-y: auto !important; }\n  body.fullScreenMode-scrollable.device-mobile-optimized .SITE_ROOT,\n  body.fullScreenMode-scrollable.device-mobile-optimized #masterPage {\n    overflow-x: hidden !important;\n    overflow-y: hidden !important; }\n  body.fullScreenMode-scrollable.device-mobile-optimized #masterPage,\n  body.fullScreenMode-scrollable.device-mobile-optimized #SITE_BACKGROUND {\n    height: auto !important; }\n\n.fullScreenOverlay {\n  z-index: 1005;\n  position: fixed;\n  left: 0;\n  top: -60px;\n  right: 0;\n  bottom: 0;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n          justify-content: center;\n  overflow-y: hidden; }\n  .fullScreenOverlay > .fullScreenOverlayContent {\n    margin: 0 auto;\n    position: absolute;\n    right: 0;\n    top: 60px;\n    left: 0;\n    bottom: 0;\n    overflow: hidden;\n    -webkit-transform: translateZ(0);\n            transform: translateZ(0); }\n\n.mobile-actions-menu-wrapper {\n  z-index: 1000; }\n\nbody[contenteditable] {\n  overflow-x: auto;\n  overflow-y: auto; }\n\n.bold {\n  font-weight: bold; }\n\n.italic {\n  font-style: italic; }\n\n.underline {\n  text-decoration: underline; }\n\n.lineThrough {\n  text-decoration: line-through; }\n\n.singleLineText {\n  white-space: nowrap;\n  text-overflow: ellipsis; }\n\n.alignLeft {\n  text-align: left; }\n\n.alignCenter {\n  text-align: center; }\n\n.alignRight {\n  text-align: right; }\n\n.alignJustify {\n  text-align: justify; }\n\nul.font_100, ol.font_100 {\n  color: #080808;\n  font-family: 'Arial, Helvetica, sans-serif', serif;\n  font-size: 10px;\n  font-style: normal;\n  font-variant: normal;\n  font-weight: normal;\n  margin: 0;\n  text-decoration: none;\n  line-height: normal;\n  letter-spacing: normal; }\n  ul.font_100 li, ol.font_100 li {\n    margin-bottom: 12px; }\n\nletter {\n  position: relative;\n  display: inline-block; }\n\nword {\n  display: inline-block;\n  white-space: nowrap; }\n\nword.space,\nletter.space {\n  display: inline; }\n\nol.wix-list-text-align, ul.wix-list-text-align {\n  list-style-position: inside; }\n  ol.wix-list-text-align p, ol.wix-list-text-align h1, ol.wix-list-text-align h2, ol.wix-list-text-align h3, ol.wix-list-text-align h4, ol.wix-list-text-align h5, ol.wix-list-text-align h6, ul.wix-list-text-align p, ul.wix-list-text-align h1, ul.wix-list-text-align h2, ul.wix-list-text-align h3, ul.wix-list-text-align h4, ul.wix-list-text-align h5, ul.wix-list-text-align h6 {\n    display: inline; }\n\n.wixapps-less-spacers-align.ltr {\n  text-align: left; }\n\n.wixapps-less-spacers-align.center {\n  text-align: center; }\n\n.wixapps-less-spacers-align.rtl {\n  text-align: right; }\n\n.wixapps-less-spacers-align > div,\n.wixapps-less-spacers-align > a {\n  display: inline-block !important; }\n\n.flex_display {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex; }\n\n.flex_vbox {\n  box-sizing: border-box;\n  padding-top: 0.01em;\n  padding-bottom: 0.01em; }\n\na.wixAppsLink img {\n  cursor: pointer; }\n\n.singleLine {\n  white-space: nowrap;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  word-wrap: normal; }\n\n[data-z-counter] {\n  z-index: 0; }\n\n[data-z-counter=\"0\"] {\n  z-index: auto; }\n\n.circle-preloader {\n  -webkit-animation: semi-rotate 1s 1ms linear infinite;\n          animation: semi-rotate 1s 1ms linear infinite;\n  height: 30px;\n  left: 50%;\n  margin-left: -15px;\n  margin-top: -15px;\n  overflow: hidden;\n  position: absolute;\n  top: 50%;\n  -webkit-transform-origin: 100% 50%;\n          transform-origin: 100% 50%;\n  width: 15px; }\n  .circle-preloader::before {\n    content: '';\n    top: 0;\n    left: 0;\n    right: -100%;\n    bottom: 0;\n    border: 3px solid currentColor;\n    border-color: currentColor transparent transparent currentColor;\n    border-radius: 50%;\n    position: absolute;\n    -webkit-transform: rotate(-45deg);\n            transform: rotate(-45deg);\n    -webkit-animation: inner-rotate 0.5s 1ms linear infinite alternate;\n            animation: inner-rotate 0.5s 1ms linear infinite alternate;\n    color: #7fccf7; }\n  .circle-preloader::after {\n    content: '';\n    top: 0;\n    left: 0;\n    right: -100%;\n    bottom: 0;\n    border: 3px solid currentColor;\n    border-color: currentColor transparent transparent currentColor;\n    border-radius: 50%;\n    position: absolute;\n    -webkit-transform: rotate(-45deg);\n            transform: rotate(-45deg);\n    -webkit-animation: inner-rotate 0.5s 1ms linear infinite alternate;\n            animation: inner-rotate 0.5s 1ms linear infinite alternate;\n    color: #3899ec;\n    opacity: 0; }\n  .circle-preloader.white::before {\n    color: #f0f0f0; }\n  .circle-preloader.white::after {\n    color: #dcdcdc; }\n\n@-webkit-keyframes inner-rotate {\n  to {\n    opacity: 1;\n    -webkit-transform: rotate(115deg);\n            transform: rotate(115deg); } }\n\n@keyframes inner-rotate {\n  to {\n    opacity: 1;\n    -webkit-transform: rotate(115deg);\n            transform: rotate(115deg); } }\n\n@-webkit-keyframes semi-rotate {\n  from {\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n    -webkit-transform: rotate(180deg);\n            transform: rotate(180deg); }\n  45% {\n    -webkit-transform: rotate(198deg);\n            transform: rotate(198deg); }\n  55% {\n    -webkit-transform: rotate(234deg);\n            transform: rotate(234deg); }\n  to {\n    -webkit-transform: rotate(540deg);\n            transform: rotate(540deg); } }\n\n@keyframes semi-rotate {\n  from {\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n    -webkit-transform: rotate(180deg);\n            transform: rotate(180deg); }\n  45% {\n    -webkit-transform: rotate(198deg);\n            transform: rotate(198deg); }\n  55% {\n    -webkit-transform: rotate(234deg);\n            transform: rotate(234deg); }\n  to {\n    -webkit-transform: rotate(540deg);\n            transform: rotate(540deg); } }\n\n.hidden-comp-ghost-mode {\n  opacity: 0.5; }\n\n.collapsed-comp-mode::after {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  content: '';\n  background: -webkit-repeating-linear-gradient(135deg, transparent, transparent 49%, #2b5672 40%, #2b5672 40%, transparent 51%);\n  background: repeating-linear-gradient(-45deg, transparent, transparent 49%, #2b5672 40%, #2b5672 40%, transparent 51%);\n  background-size: 6px 6px;\n  background-repeat: repeat; }\n\n.g-transparent-a:link, .g-transparent-a:visited {\n  border-color: transparent; }\n\n.transitioning-comp * {\n  transition: inherit !important;\n  -webkit-transition: inherit !important; }\n\n.selectionSharerContainer {\n  position: absolute;\n  background-color: #ffffff;\n  box-shadow: 0px 4px 10px 0px rgba(57, 86, 113, 0.24);\n  width: 142px;\n  height: 45px;\n  border-radius: 100px;\n  text-align: center; }\n  .selectionSharerContainer:after {\n    content: \"\";\n    position: absolute;\n    bottom: -10px;\n    left: 42%;\n    /*controls horizontal position */\n    border-width: 10px 10px 0;\n    /* vary these values to change the angle of the vertex */\n    border-style: solid;\n    border-color: #ffffff transparent;\n    /* reduce the damage in FF3.0 */\n    display: block;\n    width: 0; }\n  .selectionSharerContainer .selectionSharerOption {\n    display: inline-block;\n    cursor: pointer;\n    vertical-align: top;\n    padding: 13px 11px 11px 13px;\n    margin: 1px;\n    z-index: -1; }\n  .selectionSharerContainer .selectionSharerVerticalSeparator {\n    margin-top: 9px;\n    margin-bottom: 18px;\n    background-color: #eaf7ff;\n    height: 26px;\n    width: 1px;\n    display: inline-block; }\n/*# sourceMappingURL=viewer.css.map */",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var i=this[t];i[2]?e.push("@media "+i[2]+"{"+i[1]+"}"):e.push(i[1])}return e.join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(n[r]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&n[a[0]]||(i&&!a[2]?a[2]=i:i&&(a[2]="("+a[2]+") and ("+i+")"),e.push(a))}},e}},function(e,t,i){function n(e,t){for(var i=0;i<e.length;i++){var n=e[i],o=g[n.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](n.parts[r]);for(;r<n.parts.length;r++)o.parts.push(c(n.parts[r],t))}else{for(var a=[],r=0;r<n.parts.length;r++)a.push(c(n.parts[r],t));g[n.id]={id:n.id,refs:1,parts:a}}}}function o(e){for(var t=[],i={},n=0;n<e.length;n++){var o=e[n],r=o[0],a=o[1],s=o[2],u=o[3],c={css:a,media:s,sourceMap:u};i[r]?i[r].parts.push(c):t.push(i[r]={id:r,parts:[c]})}return t}function r(e,t){var i=f(),n=v[v.length-1];if("top"===e.insertAt)n?n.nextSibling?i.insertBefore(t,n.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),v.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");i.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=v.indexOf(e);t>=0&&v.splice(t,1)}function s(e){var t=document.createElement("style");return t.type="text/css",r(e,t),t}function u(e){var t=document.createElement("link");return t.rel="stylesheet",r(e,t),t}function c(e,t){var i,n,o;if(t.singleton){var r=w++;i=y||(y=s(t)),n=l.bind(null,i,r,!1),o=l.bind(null,i,r,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=u(t),n=h.bind(null,i),o=function(){a(i),i.href&&URL.revokeObjectURL(i.href)}):(i=s(t),n=d.bind(null,i),o=function(){a(i)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}function l(e,t,i,n){var o=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=C(t,o);else{var r=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(r,a[t]):e.appendChild(r)}}function d(e,t){var i=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}function h(e,t){var i=t.css,n=t.sourceMap;n&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var o=new Blob([i],{type:"text/css"}),r=e.href;e.href=URL.createObjectURL(o),r&&URL.revokeObjectURL(r)}var g={},p=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},m=p(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),f=p(function(){return document.head||document.getElementsByTagName("head")[0]}),y=null,w=0,v=[];e.exports=function(e,t){t=t||{},void 0===t.singleton&&(t.singleton=m()),void 0===t.insertAt&&(t.insertAt="bottom");var i=o(e);return n(i,t),function(e){for(var r=[],a=0;a<i.length;a++){var s=i[a],u=g[s.id];u.refs--,r.push(u)}if(e){n(o(e),t)}for(var a=0;a<r.length;a++){var u=r[a];if(0===u.refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete g[u.id]}}}};var C=function(){var e=[];return function(t,i){return e[t]=i,e.filter(Boolean).join("\n")}}()}])}),define("layout",["layout/util/layout","layout/specificComponents/wixHomepageMenuLayout","layout/specificComponents/fiveGridLineLayout","layout/specificComponents/domainSearchLayout","layout/specificComponents/registerToMeasureOnly","layout/specificComponents/registerToPureDomMeasure","layout/specificComponents/areaTooltipLayout","layout/specificComponents/menuLayout","layout/specificComponents/sliderGalleryLayout","layout/specificComponents/verticalMenuLayout","layout/specificComponents/loginButtonLayout","layout/specificComponents/dialogLayout","layout/specificComponents/siteBackgroundLayout","layout/specificComponents/wPhotoLayout","layout/specificComponents/documentMediaLayout","layout/specificComponents/containerAndScreenWidthLayout","layout/specificComponents/groupLayout","layout/specificComponents/wixappsLayout","layout/specificComponents/shapeLayout","layout/specificComponents/richtextLayout","layout/specificComponents/matrixGalleryLayout","layout/specificComponents/slideShowLayout","layout/specificComponents/anchorLayout","layout/specificComponents/tinyMenuLayout","layout/specificComponents/imageZoomLayout","layout/specificComponents/tpaGalleryLayout","layout/specificComponents/youTubeSubscribeButtonLayout","layout/specificComponents/wFacebookCommentLayout","layout/specificComponents/facebookLikeLayout","layout/specificComponents/formMixinLayout","layout/specificComponents/backOfficeTextLayout","layout/specificComponents/vkShareLayout","layout/specificComponents/adminLoginLayout","layout/specificComponents/homePageLoginLayout","layout/specificComponents/iTunesButtonLayout","layout/specificComponents/paypalLayout","layout/specificComponents/bgImageLayout","layout/specificComponents/wixSiteLayout","layout/specificComponents/buttonLayout","layout/wixappsLayout/proxyLayoutRegistrar","layout/wixappsLayout/proxyLayout/paginatedColumnGalleryProxyLayout","layout/wixappsLayout/proxyLayout/galleryProxyLayout","layout/wixappsLayout/proxyLayout/imageProxyLayout","layout/wixappsLayout/proxyLayout/buttonProxyLayout","layout/wixappsLayout/proxyLayout/mediaLabelProxyLayout","layout/wixappsLayout/proxyLayout/sliderGalleryProxyLayout","layout/specificComponents/imageButtonLayout","layout/specificComponents/mediaRichTextLayout","layout/specificComponents/backToTopButtonLayout","layout/specificComponents/appPartZoomLayout","layout/specificComponents/facebookShareLayout","layout/specificComponents/paginatedGridGalleryLayout","layout/specificComponents/PinterestFollowLayout","layout/specificComponents/videoLayout","layout/specificComponents/soundCloudLayout","layout/specificComponents/verticalLineLayout","layout/specificComponents/boxSlideShowLayout","layout/specificComponents/mediaContainerLayout","layout/specificComponents/mediaControlsLayout","layout/specificComponents/mediaOverlayControlsLayout","layout/specificComponents/verticalAnchorsMenuLayout","layout/specificComponents/columnsLayout","layout/specificComponents/popupContainerLayout","layout/specificComponents/comboBoxInputLayout","layout/specificComponents/textComponentsLayout","layout/specificComponents/radioButtonLayout","layout/specificComponents/datePickerLayout","layout/specificComponents/radioGroupLayout","layout/specificComponents/gridLayout","layout/specificComponents/fileUploaderLayout","layout/specificComponents/appControllerLayout","layout/specificComponents/linkBarLayout","layout/specificComponents/flashComponentLayout","layout/specificComponents/rssButtonLayout","layout/specificComponents/quickActionBarLayout","layout/specificComponents/touchMediaZoomLayout","layout/specificComponents/svgPrimitiveLayout","layout/specificComponents/viewerLayout"],function(e){return e});
//# sourceMappingURL=layout.min.js.map