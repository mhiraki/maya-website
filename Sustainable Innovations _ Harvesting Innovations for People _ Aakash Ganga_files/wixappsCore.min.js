"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};define("wixappsCore/core/proxyFactory",["lodash","react","utils"],function(e,t,i){function r(e,t){t.displayName=e+"Proxy",p[e]=t}function o(i,r){e.has(p,i)||(i="View");var n=l[i];if(n)return r?n.class:n.factory;var s=p[i];if(!s)throw"no such proxy definition for name: "+i;var a=t.createClass(s);return n=t.createFactory(a),l[i]={class:a,factory:n},o(i,r)}function n(e){delete l[e]}function s(e,t){if(!p.hasOwnProperty(e))return void i.log.error("Trying to extend component ["+e+"] but the component is not defined");var r=p[e];r.mixins=[t].concat(r.mixins||[])}function a(t){return e.has(p,t)}var p={},l={};i.sessionFreezer.freeze(l),i.sessionFreezer.freeze(p);var u=function(e){return{displayName:e,render:function(){return t.DOM.div(null,e)}}},c=["Label","ClippedParagraph","ClippedParagraph2","Date","DateEdit","TimeEdit","InlineText","InlineTextInput","TextInput","ErasableTextInput","NumberInput","NumericStepper","CheckBox","CheckBoxViewProxy","RichTextEditor","RichTextEditorInline","Price","EnumSelector","Image","Video","VideoSelector","VideoThumb","ImageSelector","ImageInput","VerticalList","FlowList","MultiColumn","VerticalListEditor","DraggableListItem","Box","VBox","HBox","Field","FieldBox","TextField","DataEditField","Stack","Css","InlineSpacer","HorizontalLine","VerticalLine","Switch","SwitchBox","OptionalArea","SuperFlow","Button","Button2","Table","Deck","TabMenu","Icon","StringArrayInput","Toggle","MusicPlayer","AudioInput","InlineSvg","Link","LinkSelector","OptionsList","SelectOptionsList","OptionsListInput","ComboBox","RadioGroup","CheckBoxGroup","TextArea","Area","Container","ZoomLink","AppLink","ZoomLayout","FixedRatioLayout","GoogleMap","LocationSelector","TagInput","DragAndDropVList","List2","PaginatedList","UnstyledLabel","TooltipIcon","Help","IFrame","ImageButton","TPAGallery","MediaRichTextEditorInline","MediaLabel","MediaThumb","Gallery","GridGallery","SliderGallery","ColumnGallery","PaginatedColumnGallery"];return e.forEach(c,function(e){r(e,u(e))}),{getProxyClass:o,register:r,invalidate:n,extend:s,isValidProxyName:a}}),define("wixappsCore/core/ViewContextMap",["lodash"],function(e){function t(t){return e.isString(t)?e.compact(t.split(/[\.\[\]]/)):t}function i(t){return e.initial(t.split("_")).join("_")}function r(e,t,i){return e?t&&this.contextMap[t]?t:e+"_"+String(i.index++):"0"}function o(t,r,o){for(var n=t;n;){if(e.has(this.contextMap[n][r],o))return this.contextMap[n][r];n=i(n)}}function n(t){this.contextMap={},this.onUpdateCallback=t||e.noop}function s(t,i,r){for(;t.length>1;)i=i[t.shift()];var o=t.shift(),n=i[o];return i[o]=r,!e.isEqual(n,r)}return n.prototype={resolvePath:function(r,o){var n=e.flattenDeep(e.map(t(o),t)),s=r,a=[];if(e.forEach(n,function(e){if("parent"===e){if(!(s=i(s)))throw"Error:: no parent context."}else"this"!==e&&a.push(e)}),!this.contextMap[s])return null;if(this.contextMap[s].scopePath.length&&e.every(this.contextMap[s].scopePath,e.isArray)&&a.length&&e.isNumber(a[0])){var p=a.shift();return this.contextMap[s].scopePath[p].concat(a)}return this.contextMap[s].scopePath.concat(a)},newContextForDataItem:function(t,i,o,n,s,a){var p=r.call(this,t,a,this.contextMap[t]);return this.contextMap[p]&&e.isEqual(this.contextMap[p].scopePath,i)||(this.contextMap[p]={vars:o||{},events:n||{},functionLibrary:s||{},scopePath:i,index:0},this.onUpdateCallback()),p},newContextForDataPath:function(t,i,r,o,n,s){var a=this.contextMap[t],p=e.isArray(i)?i:i.split(".");p=e.flattenDeep(e.map(p,function(t){return e.isString(t)?t.split("."):t})),p=e.without(p,"this");var l=a.scopePath.concat(p);return this.newContextForDataItem(t,l,r,o,n,s)},getVar:function(e,t){t=t.replace(/^\$/,"");var i=o.call(this,e,"vars",t);return i&&i[t]},setVar:function(t,i,r){var n=i.replace(/^\$/,"").split("."),a=e.head(n),p=o.call(this,t,"vars",a);if(p){s(n,p,r)&&this.onUpdateCallback()}},overrideContextVars:function(t,i){if(!this.hasContext(t))throw"Context does not exist";var r=this.contextMap[t].vars;e.some(i,function(t,i){return!e.isEqual(r[i],t)})&&(e.assign(r,i),this.onUpdateCallback())},getEvent:function(e,t){var i=o.call(this,e,"events",t);return i&&i[t]},getExpressionsFunctions:function(t){for(var r=t,o={};r;)e.defaults(o,this.contextMap[r].functionLibrary),r=i(r);return o},resetContext:function(){this.contextMap={},this.onUpdateCallback()},hasContext:function(t){return e.has(this.contextMap,t)}},n}),define("wixappsCore/core/viewsRenderer",["lodash","santaProps","wixappsCore/core/proxyFactory","wixappsCore/core/ViewContextMap","reactDOM","zepto"],function(e,t,i,r,o,n){function s(t){return!e.isEqual(t.partData,this.partData)||this.isChanged&&this.isChanged(t)}function a(){var t=this.getPartApi(),i={getPartData:t.getPartData,getPartDefinition:t.getAppPartDefinition,resolveImageData:this.resolveImageData,getNormalizedDataPath:this.getNormalizedDataPath,getDataByPath:this.getDataByPath,setDataByPath:this.setDataByPath,getDataByFullPath:this.getDataByFullPath,getViewDef:this.getViewDef,getLocalizationBundle:t.getLocalizationBundle,classSet:this.classSet,setVar:this.setVar,compProp:this.props.compProp,compId:this.props.id,packageName:this.props.packageName,rootId:this.props.rootId,rootNavigationInfo:this.props.rootNavigationInfo,isExperimentOpen:this.props.isExperimentOpen,isViewerMode:this.props.isViewerMode,metaSiteId:this.props.metaSiteId,siteId:this.props.siteId,descriptor:this.props.descriptor,getAppPartZoomUrl:this.props.getAppPartZoomUrl,urlFormat:this.props.urlFormat,getAppPageUrl:this.props.getAppPageUrl,isDebugMode:this.props.isDebugMode,allTheme:this.props.allTheme,reportEvent:t.reportEvent,serviceTopology:this.props.serviceTopology,globalImageQuality:this.props.globalImageQuality,getMeasures:this.props.getMeasures,linkRenderInfo:this.props.linkRenderInfo,fontsMap:this.props.fontsMap,registerReLayoutPending:this.props.registerReLayoutPending,getComponentProps:this.props.getComponentProps};return this.getViewProps?e.assign(i,this.getViewProps()):i}function p(){var e=o.findDOMNode(this),t=n(e).offset().top;this.props.animations.animate("BaseScroll",window,1,0,{y:t,ease:"Sine.easeInOut"})}return function(){return{propTypes:{animations:t.Types.animations.isRequired,compProp:t.Types.Component.compProp.isRequired,FunctionLibrary:t.Types.Wixapps.Core.FunctionLibrary.isRequired,packageName:t.Types.Wixapps.Core.packageName.isRequired,getDataByPath:t.Types.Wixapps.Core.Data.getDataByPath.isRequired,setDataByPath:t.Types.Wixapps.Core.Data.setDataByPath.isRequired,formatName:t.Types.Wixapps.Core.formatName.isRequired,descriptor:t.Types.Wixapps.Core.descriptor,compExtraData:t.Types.Wixapps.Core.compExtraData,rootNavigationInfo:t.Types.Component.rootNavigationInfo.isRequired,isViewerMode:t.Types.isViewerMode.isRequired,getMeasures:t.Types.Wixapps.__DangerousSantaTypes.getMeasures.isRequired,getComponentProps:t.Types.Wixapps.Core.getComponentProps.isRequired,getAppPartZoomUrl:t.Types.Wixapps.Core.getAppPartZoomUrl.isRequired,getAppPageUrl:t.Types.Wixapps.Core.getAppPageUrl.isRequired,serviceTopology:t.Types.ServiceTopology.serviceTopology.isRequired,metaSiteId:t.Types.RendererModel.metaSiteId.isRequired,siteId:t.Types.RendererModel.siteId.isRequired,urlFormat:t.Types.urlFormat.isRequired,isDebugMode:t.Types.isDebugMode.isRequired,allTheme:t.Types.Theme.all.isRequired,globalImageQuality:t.Types.Media.globalImageQuality.isRequired,fontsMap:t.Types.Fonts.fontsMap.isRequired,linkRenderInfo:t.Types.Link.linkRenderInfo.isRequired,registerReLayoutPending:t.Types.Layout.registerReLayoutPending.isRequired,isExperimentOpen:t.Types.isExperimentOpen.isRequired},componentWillMount:function(){this.isViewContextMapDirty=!1,this.viewContextMap=new r(this.handleViewContextMapUpdate),this.functionLibrary=new this.props.FunctionLibrary},componentDidMount:function(){this.isViewContextMapDirty=!1},handleViewContextMapUpdate:function(){this.isViewContextMapDirty=!0},getNormalizedDataPath:function(e,t){return null===e?t:this.viewContextMap.resolvePath(e,t)},getDataByPath:function(e,t){if(null===e)return this.getDataByFullPath(t);var i=this.getNormalizedDataPath(e,t);return this.props.getDataByPath(this.props.packageName,i)},getDataByFullPath:function(t){function i(t){return e.flattenDeep(e.map(t,function(t){return e.isString(t)?t.split("."):t}))}var r=[];return e.every(t,e.isArray)?r=e.map(t,function(t){var r=i(t);return e.without(r,"this")}):(r=i(t),r=e.without(r,"this")),this.props.getDataByPath(this.props.packageName,r)},setDataByPath:function(e,t,i){var r=this.getNormalizedDataPath(e,t);return this.props.setDataByPath(this.props.packageName,r,i)},setVar:function(e,t,i,r){this.viewContextMap.setVar(e,t,i),r||(this.registerReLayout(),this.forceUpdate())},componentWillUpdate:function(e,t){"content"===t.$displayMode&&s.call(this,e)&&(this.partData=e.partData,this.viewContextMap.resetContext())},componentDidUpdate:function(){this.isViewContextMapDirty=!1},renderView:function(t){var r={viewProps:a.call(this),functionLibrary:this.functionLibrary,viewContextMap:this.viewContextMap,viewName:this.getViewName(),formatName:this.props.formatName,parentId:this.props.id,id:"root",ref:"rootProxy",parentContextPath:null},o={viewName:r.viewName,partDirection:this.props.compProp.direction||"ltr",compWidth:e.get(this,"props.style.width"),compHeight:e.get(this,"props.style.height")};return e.omit(o,e.isUndefined),this.logic&&(r.logic=this.logic,this.logic.getViewVars&&(o=e.defaults(this.logic.getViewVars(this.props.compExtraData),o))),r.contextProps={path:this.props.partDataLocation,vars:{view:o,proxy:{}},events:{scrollToView:p.bind(this)},functionLibrary:{}},r.proxyLayout={direction:o.partDirection},t&&(r.proxyLayout.height="100%"),i.getProxyClass("View")(r)}}}}),define("wixappsCore/core/viewsCustomizer",["lodash","wixappsCore/core/proxyFactory"],function(e,t){function i(e,t){var i=[];return"vars"===t.fieldId?i.push(e.vars):r(e,t,0,i),i}function r(t,i,o,n){var s=t.id||t.data||o;"*"!==i.fieldId&&i.fieldId!==s||n.push(t),t.comp&&t.comp.items&&e.forEach(t.comp.items,function(e,t){r(e,i,t,n)}),t.comp&&t.comp.templates&&e.forEach(t.comp.templates,function(e){r(e,i,0,n)}),t.comp&&t.comp.cases&&e.forEach(t.comp.cases,function(t){e.isArray(t)?e.forEach(t,function(e){r(e,i,0,n)}):r(t,i,0,n)}),t.comp&&t.comp.columns&&"Table"===t.comp.name&&e.forEach(t.comp.columns,function(t){e.forEach(["item","header","footer"],function(e){void 0!==t[e]&&r(t[e],i,0,n)})})}function o(e,t){return!("*"!==t.forType&&e.forType!==t.forType||"*"!==t.view&&e.name!==t.view||"*"!==t.format&&(e.format||"")!==(t.format||""))}function n(i){var r=e(arguments).tail().flatten().value();return e.forEach(r,function(e){t.isValidProxyName(e.view)&&(e.view+="View"),o(i,e)&&this.applyCustomization(i,e)}.bind(this)),i}function s(t,r){var o=t.format||"",n=r.format||"";if("*"===n||n===o){var s=i(t,r);e.forEach(s,function(t){if(e.isPlainObject(t))for(var i=t,o=r.key.split("."),n=0;n<o.length;n++){var s=o[n];if(n===o.length-1){var a=r.value;/^\s*(\+|-)?\d+\s*$/.test(r.value)&&(a=parseInt(a,10)),void 0===a?delete i[s]:i[s]=a}else i[s]||(i[s]={}),i=i[s]}})}}return{customizeView:n,applyCustomization:s}}),define("wixappsCore/core/logicFactory",["lodash","utils"],function(e,t){function i(e,t){n[e]=t}function r(e){return n[e]}function o(i,r){if(!n.hasOwnProperty(i))return void t.log.error("Trying to extend logic for partId: ["+i+"] but the partId is not defined");e.assign(n[i].prototype,r)}var n={};return t.sessionFreezer.freeze(n),{register:i,getLogicClass:r,extend:o}}),define("wixappsCore/core/expressions/expressionLexer",["lodash"],function(e){function t(e){if(e.length){var t=i(e)||r(e)||o(e);return t?[t].concat(this.parseExpression(e.slice(t.length))):this.parseExpression(e.slice(1))}return[]}function i(t){var i=["'",'"'],r=function e(t,i){if(t.length){if("\\"===(n=t.charAt(0))&&t.length>1)return n+t.charAt(1)+e(t.slice(2),i);if(n!==i)return n+e(t.slice(1),i)}return""};if(n=t.charAt(0),e.includes(i,n))return'"'+r(t.slice(1),n)+'"'}function r(e){var t=function e(t){var i=t.charAt(0);return t.length&&i.match(/[\w\*\/\-\%\+\.\$\[\]\?_]/)?i+e(t.slice(1)):""},i=e.charAt(0);if(i.match(/[\w\*\/\-\%\+\$]/))return i+t(e.slice(1))}function o(e){if("("===(n=e.charAt(0))||")"===n)return n}var n;return{parseExpression:t}}),define("wixappsCore/core/expressions/expressionParser",["wixappsCore/core/expressions/expressionLexer"],function(e){function t(t){var o=e.parseExpression(t);return r(i(o,"("===o[0]?1:0))}function i(e,t){if(e.length){var r=o(e,t)||s(e,t)||p(e,t);if(r)return[r.node].concat(i(r.next,t))}return[]}function r(e){function t(e){return"function"===e.type}if(e.length>0&&e.every(t)){return[e.slice(1).reduce(function(e,t){return{type:t.type,content:t.content,params:[e].concat(r(t.params))}},e[0])]}return e}function o(e,t){var r=1===t?0:1,o=1===t?1:0;if("("===e[r]&&"string"==typeof e[o]){var s=n(e);return{next:e.slice(s.length+3),node:{type:"function",content:e[o],params:i(s,t)}}}}function n(e){return function e(t,i){if(!(t.length&&i>0))return[];var r=t[0],o=t.slice(1);switch(r){case"(":return[r].concat(e(o,i+1));case")":return[r].concat(e(o,i-1));default:return[r].concat(e(o,i))}}(e.slice(2),1).slice(0,-1)}function s(e){var t,i=e[0];if("true"===i?t=!0:"false"===i?t=!1:'"'===i.charAt(0)&&'"'===i.charAt(i.length-1)||"'"===i.charAt(0)&&"'"===i.charAt(i.length-1)?t=a(i.slice(1,i.length-1)):isNaN(parseFloat(i,10))?isNaN(parseInt(i,10))||(t=parseInt(i,10)):t=parseFloat(i,10),void 0!==t)return{next:e.slice(1),node:{type:"primitive",content:t}}}function a(e){return e=e.replace(/\\/g,"")}function p(e){return{next:e.slice(1),node:{type:"ref",content:e[0]}}}return{parseExpressionSource:t}}),define("wixappsCore/core/expressions/expression",["wixappsCore/core/expressions/expressionParser","lodash"],function(e,t){function i(e){return"object"===(void 0===e?"undefined":_typeof(e))&&t.has(e,"$expr")}function r(t,i,r){return s(t,e.parseExpressionSource(i)[0],i,r)}function o(e,i,r,o){var n=t.map(i.params,function(t){return s(e,t,r,o)}),a=o[i.content];if(!a)throw new Error("Expression: "+r+" | Cannot resolve function "+i.content+"()");return a.apply(o,n)}function n(e,t,i){var r=e(t.content);if(void 0===r)throw new Error("Expression: "+i+" | Cannot resolve symbol "+t.content);return r}function s(e,t,i,r){switch(t.type){case"primitive":return a(t.content);case"ref":return n(e,t,i,r);case"function":return o(e,t,i,r)}}function a(e){return t.isString(e)?/^\s*(\+|-)?\d+\s*$/.test(e)?parseInt(e,10):"true"===e||"false"!==e&&("null"===e?null:e):e}return{isExpression:i,evaluate:r,convertStringToPrimitive:a}}),define("wixappsCore/util/viewsUtils",["lodash","wixappsCore/core/expressions/expression"],function(e,t){function i(t,r){t.id=t.id||t.data||"def_"+r;var o=r+1;return t.comp&&t.comp.items&&e.forEach(t.comp.items,function(e){o=i(e,o)}),t.comp&&t.comp.templates&&e.forEach(t.comp.templates,function(e){o=i(e,o)}),t.comp&&t.comp.cases&&e.forEach(t.comp.cases,function(t){e.isArray(t)?e.forEach(t,function(e){o=i(e,o)}):o=i(t,o)}),t.comp&&t.comp.columns&&"Table"===t.comp.name&&e.forEach(t.comp.columns,function(t){e.forEach(["item","header","footer"],function(e){void 0!==t[e]&&(o=i(t[e],o))})}),o}function r(t,i){var o=i(t);if(o!==!1){var n=["items","cases","templates"];e.forEach(n,function(n){if(t.comp&&t.comp[n])return e.forEach(t.comp[n],function(t){return e.isArray(t)?e.forEach(t,function(e){return o=r(e,i)}):o=r(t,i),o}),o})}return o}function o(t,i,r){return e.compact([t,i,r]).join("|")}function n(t){if(e.isString(t)){var i=t.match(/[^\|]+\|([^\|]+).*/);return i?i[1]:null}}function s(e,i){return i.comp&&t.convertStringToPrimitive(i.comp[e])}function a(t,i,r,o){var n=e.find(t.views,function(t){var n=e.isArray(t.name)?t.name:[t.name],s=t.format||"";return t.forType===r&&s===o&&e.includes(n,i)});return!n&&o&&(n=e.find(t.views,function(t){var o=e.isArray(t.name)?t.name:[t.name],n=t.format||"";return t.forType===r&&""===n&&e.includes(o,i)})),n}return{fillViewDefMissingIDs:function(e){i(e,0)},sanitizeCompId:function(e){return e.replace(/[\$:]/g,"")},traverseViews:r,getViewId:o,getViewNameFromId:n,getCompProp:s,findViewInDescriptorByNameTypeAndFormat:a}}),define("wixappsCore/core/styleMap.json",[],function(){return{Area:{default:{skin:"wysiwyg.viewer.skins.area.AppleArea",style:"c1"},ecomCouponBox:{skin:"wysiwyg.viewer.skins.apps.DefaultBoxSkin",style:"ecom_cbx1"},ecomCartHeader:{skin:"wysiwyg.viewer.skins.apps.DefaultBoxSkin",style:"ecom_ch1"},ecomEmptyCartBG:{skin:"wysiwyg.viewer.skins.apps.DefaultBoxSkin",style:"ecom_ecbg1"}},Button:{default:{skin:"wysiwyg.viewer.skins.button.BasicButton",style:"b3"},ecomViewCart:{skin:"wysiwyg.viewer.skins.button.BasicButton",style:"ecom_vc1"},ecomCheckout:{skin:"wysiwyg.viewer.skins.button.DisabledLayerButton",style:"ecom_co1"},ecomAddToCart:{skin:"wysiwyg.viewer.skins.button.BasicButton",style:"ecom_atc1"},ecomRemoveFromCart:{skin:"wysiwyg.viewer.skins.button.FixedFontButton",style:"ecom_rfc1"},ecomApplyCoupon:{skin:"wysiwyg.viewer.skins.button.ApplyButtonEcom",style:"ecom_apl1"},ecomAddProduct:{skin:"wysiwyg.viewer.skins.button.AddProductButton",style:"ecom_ap1"}},Button2:{default:{skin:"wysiwyg.viewer.skins.button.BasicButton",style:"b3"},ecomViewCart:{skin:"wysiwyg.viewer.skins.button.BasicButton",style:"ecom_vc1"},ecomCheckout:{skin:"wysiwyg.viewer.skins.button.DisabledLayerButton",style:"ecom_co1"},ecomAddToCart:{skin:"wysiwyg.viewer.skins.button.BasicButton",style:"ecom_atc1"},ecomRemoveFromCart:{skin:"wysiwyg.viewer.skins.button.FixedFontButton",style:"ecom_rfc1"},ecomApplyCoupon:{skin:"wysiwyg.viewer.skins.button.ApplyButtonEcom",style:"ecom_apl1"},ecomAddProduct:{skin:"wysiwyg.viewer.skins.button.AddProductButton",style:"ecom_ap1"},ecomFeedbackContinueShopping:{skin:"wysiwyg.viewer.skins.button.EcomFeedbackContinueShopping",style:"ecom_fmcs1"},ecomFeedbackContinueShopping2:{skin:"wysiwyg.viewer.skins.button.EcomFeedbackContinueShopping2",style:"ecom_fmcs2"},ecomFeedbackCheckout:{skin:"wysiwyg.viewer.skins.button.EcomFeedbackCheckoutButton",style:"ecom_fmc1"}},ComboBox:{default:{skin:"wysiwyg.viewer.skins.input.ComboBoxInputSkinNoValidation",style:"wa_cb1"},ecomComboBox:{skin:"wixapps.integration.skins.ecommerce.inputs.ComboBoxInputSkin",style:""},ecomShippingComboBox:{skin:"wysiwyg.viewer.skins.appinputs.EcomComboBoxInputSkin",style:"ecom_scb1"},wixAppsGui:{skin:"wixapps.integration.skins.inputs.ComboBoxInputSkin",style:""}},TextArea:{default:{skin:"wysiwyg.viewer.skins.input.TextAreaInputSkin",style:"wa_tai1"},ecomTextArea:{skin:"wixapps.integration.skins.ecommerce.inputs.TextAreaInputSkin",style:""}},TextAreaInput:{default:{skin:"TextAreaDefaultSkin",style:"ta_input"}},TextInput:{default:{skin:"wysiwyg.viewer.skins.appinputs.AppsTextInputSkin",style:"wa_ti1"},ecomTextInput:{skin:"wysiwyg.viewer.skins.appinputs.EcomTextInputSkin",style:"ecom_ti1"}},ErasableTextInput:{default:{skin:"wysiwyg.viewer.skins.appinputs.EcomErasableTextInputSkin",style:"ecom_eti1"}},Gallery:{default:{skin:"wysiwyg.viewer.skins.paginatedgrid.PaginatedGridDefaultSkin",style:"pagg1"},productGallery:{skin:"wysiwyg.viewer.skins.paginatedgrid.PaginatedGridSimple",style:"pgg_cg0"},contentGallery:{skin:"wysiwyg.viewer.skins.paginatedgrid.PaginatedGridNoDetail",style:"pgg_cg1"},minipostGallery:{skin:"wysiwyg.viewer.skins.paginatedgrid.wixapps.PaginatedGridNoDetail",style:"pgg_cg2"},hoverGallery:{skin:"wysiwyg.viewer.skins.paginatedgrid.PaginatedGridNoBG",style:"pgg_cg3"},blogGallery:{skin:"wysiwyg.viewer.skins.paginatedgrid.PaginatedGridNoDetail",style:"pgg_cg4"}},Video:{default:{skin:"wysiwyg.viewer.skins.video.VideoDefault",style:"v2"},mediaLabel:{skin:"wysiwyg.viewer.skins.VideoSkin"}},Container:{default:{skin:"wysiwyg.viewer.skins.area.AppleArea",style:"c1"},ecomCouponBox:{skin:"wysiwyg.viewer.skins.apps.DefaultBoxSkin",style:"ecom_cbx1"},ecomCartHeader:{skin:"wysiwyg.viewer.skins.apps.DefaultBoxSkin",style:"ecom_ch1"},ecomEmptyCartBG:{skin:"wysiwyg.viewer.skins.apps.DefaultBoxSkin",style:"ecom_ecbg1"}},Image:{default:{skin:"wysiwyg.viewer.skins.photo.NoSkinPhoto",style:"wp1"}},VideoThumb:{default:{skin:"wysiwyg.viewer.skins.photo.NoSkinPhoto",style:"wp1"}},HorizontalLine:{default:{skin:"wysiwyg.viewer.skins.FiveGridLineSkin",style:"hl1"}},VerticalLine:{default:{skin:"wysiwyg.viewer.skins.VerticalLineSkin",style:"vl1"}},Table:{default:{skin:"wysiwyg.viewer.skins.table.TableComponentDefaultSkin",style:"tblc1"}},VerticalList:{default:{skin:"skins.core.InlineSkin",style:"vr1"},ecomOptionsList:{skin:"skins.core.InlineSkin"}},List2:{default:{skin:"skins.core.InlineSkin"}},PaginatedList:{default:{skin:"skins.core.InlineSkin"}},FlowList:{default:{skin:"skins.core.InlineSkin"}},Date:{default:{skin:"wysiwyg.viewer.skins.WRichTextClickableSkin"}},MediaLabel:{default:{skin:"wysiwyg.viewer.skins.WRichTextClickableSkin"}},Label:{default:{skin:"wysiwyg.viewer.skins.WRichTextClickableSkin"}},InlineText:{default:{skin:"skins.core.VerySimpleSkin"}},ClippedParagraph:{default:{skin:"wysiwyg.viewer.skins.WRichTextClickableSkin"}},ClippedParagraph2:{default:{skin:"wysiwyg.viewer.skins.WRichTextClickableSkin"}},Icon:{default:{skin:"wixapps.integration.skins.IconSkin"}},ImageButton:{default:{skin:"wixapps.integration.skins.ImageButtonSkin"}},ImageButtonWithText:{default:{skin:"wysiwyg.viewer.skins.IconLeftImageButtonWithText"}},Toggle:{default:{skin:"wixapps.integration.skins.ToggleSkin"}},SliderGallery:{default:{skin:"wysiwyg.viewer.skins.galleryselectableslider.SelectableSliderGalleryDefaultSkin"}},TouchMediaZoomSlideshow:{default:{skin:"wysiwyg.viewer.skins.TouchMediaZoomSlideshow"}},TouchMediaZoomItem:{default:{skin:"wysiwyg.viewer.skins.TouchMediaZoomItem"}},NumericStepper:{default:{skin:"wysiwyg.common.components.numericstepper.viewer.skins.NumericStepperSimpleSkin",style:"nums1"}},Pagination:{default:{skin:"skins.core.InlineSkin"}}}}),define("wixappsCore/core/styleData",["wixappsCore/core/styleMap.json"],function(e){function t(t){return e[t]&&e[t].default&&e[t].default.skin}function i(t,i,r,o,n){if(n&&o&&t[o])return{skin:n,styleId:o};if(n)return{skin:n};var s=e[i][r]||e[i].default;return o=o||s.style,o&&t[o]?{styleId:o,skin:t[o].skin}:{styleId:s.style,skin:s.skin}}return{getDefaultSkinName:t,getSkinAndStyle:i}}),define("wixappsCore/core/styleCollector",["lodash","skins","wixappsCore/util/viewsUtils","wixappsCore/core/styleData","wixappsCore/core/styleMap.json"],function(e,t,i,r,o){function n(t,i,r,o){t=e.isString(t)?t:null;var n,s=t&&r[t]&&p[r[t].skin],a=i&&p[i];(n=s?t:a?i:"")&&!o[n]&&(o[n]=i)}function s(t,o,s){function a(t){n(e.get(t,"comp.style"),e.get(t,"comp.skin")||t.comp&&r.getDefaultSkinName(t.comp.name),o,s)}i.traverseViews(t,a)}function a(t,i){e.forEach(o,function(r){e.forEach(r,function(e){n(e.style,e.skin,t,i)})})}var p=t.skins;return{collectViewStyles:s,addStyleIfNeeded:n,addDefaultStyles:a}}),define("wixappsCore/core/wixappsDataHandler",["lodash"],function(e){function t(e,t){return e?(e.wixapps=e.wixapps||{},e.wixapps[t]=e.wixapps[t]||{},e.wixapps[t]):null}function i(e,i){var r=t(e,i);return r.descriptor?r.descriptor:null}function r(t){return e.get(t,"categories",null)}function o(i){var r=t(i,"blog");return e.get(r,"tagNames",null)}function n(e){return r(t(e,"blog"))}function s(t,i){var r,o=n(t);return o&&(r=e.find(o.categoryById,{name:i})),r||null}function a(e,i,r){var o=t(e,i);return o[r]?o[r]:null}function p(e,i,r,o){t(e,i)[r]=o}function l(e,i,r){delete t(e,i)[r]}function u(e,i,r){return t(e,i)[r+"_extraData"]||null}function c(i,r,o){if(!e.isArray(o)||0===o.length)return[];if(e.every(o,e.isArray))return e.map(o,function(e){return c(i,r,e)});var n=e.clone(o),s=t(i,r);if(!s.items)return null;for(var a=s.items;n.length;){a=a[n.shift()]}return a}function h(i,r,o,n){for(var s=e.clone(o),a=t(i,r),p=a.items;s.length>1;){p=p[s.shift()]}p[s.shift()]=n}function d(e){return["wixapps",e]}function m(t,i,r,o){var n=f(i,r,o);e.merge(n,t)}function f(e,i,r){var o=t(e,i);return o.metadata=o.metadata||{},o.metadata[r]=o.metadata[r]||{},o.metadata[r]}function g(e,i,r){var o=t(e,i);o.metadata&&o.metadata[r]&&(o.metadata[r]={})}function y(e,i){var r=t(e,i);return r.metadata=r.metadata||{},r.metadata[i+"_metadata"]=r.metadata[i+"_metadata"]||{},r.metadata[i+"_metadata"]}function x(t,i,r){var o=y(i,r);e.merge(o,t)}return{getDescriptor:i,getDataByCompId:a,setDataForCompId:p,clearDataForCompId:l,getExtraDataByCompId:u,getDataByPath:c,setDataByPath:h,getPackageData:t,getSiteDataDestination:d,setCompMetadata:m,getCompMetadata:f,getPackageMetadata:y,setPackageMetadata:x,clearCompMetadata:g,getBlogCategoriesFromPackageData:r,getBlogTagNames:o,getBlogCategories:n,getBlogCategoryByName:s}}),define("wixappsCore/core/wixappsLogger",["lodash","utils"],function(e,t){function i(t,i,r){try{var n=e.defaults({},i,p);o.reportBI(t,n,r)}catch(e){}}function r(t,i,r){try{var n=e.defaults({},i,l);o.reportBI(t,n,r)}catch(e){}}var o=t.logger,n={LISTS_EVENT_SOURCE:60,Type:{ERROR:10,USER_ACTION:40},Category:{EDITOR:1,VIEWER:2,CORE:3,SERVER:4},issue:{GENERAL:0,PROXY:1,APP_LOGIC:2,DATA_SERVICE:3,DATA_ITEMS:4,CORE_WIRING:5,DATA_EDITING:6,APP_BUILDER:7,APP_REPO_SERVICE:8},Severity:{RECOVERABLE:10,WARNING:20,ERROR:30,FATAL:40}},s={GENERIC_ERROR:{errorCode:-2e4,desc:"WixApps unspecified error"},APP_PART2_FAILED_TO_LOAD:{errorCode:-20011,desc:"Failed to load app part",issue:n.issue.APP_BUILDER},DATA_SELECTOR_CONTAINS_NULL:{errorCode:-20013,desc:"A data selector returned from the server with a null id key.",issue:n.issue.APP_BUILDER},MISSING_PERMALINK:{errorCode:-22041,desc:"Site data is missing the permalink data item"},REQUEST_FAILED:{errorCode:-1,desc:"Unspecified error occurred, possibly a connection problem"}};Object.freeze(s),o.register("wixapps","error",s);var a={APP_BUILDER_PART_LOADED:{eventId:103,desc:"App builder - part loaded in published",params:{c2:"appPartName",g2:"userId"}},APP_PART2_FAILED_TO_LOAD_DATA_SELECTOR:{eventId:135,desc:"Failed to load data selector",params:{c1:"dataSelector"}},APP_PART2_FAILED_TO_LOAD_PART_DEFINITION:{eventId:136,desc:"Failed to load app part definition"},VIEW_DEFINITION_NOT_FOUND:{eventId:137,desc:"Failed to load view definition"},TAG_SELECTED_IN_VIEWER:{eventId:305,desc:"User selected a tag in the viewer."}};o.register("wixapps","event",a);var p={desc:s.GENERIC_ERROR.desc,errorCode:s.GENERIC_ERROR.errorCode,type:n.Type.ERROR,issue:n.issue.GENERAL,severity:n.Severity.ERROR,category:n.Category.VIEWER,src:n.LISTS_EVENT_SOURCE},l={type:n.Type.USER_ACTION,adapter:"lists",category:n.Category.VIEWER,src:n.LISTS_EVENT_SOURCE};return Object.freeze(p),Object.freeze(l),{events:a,errors:s,reportError:i,reportEvent:r}}),define("wixappsCore/core/styleTranslator",["lodash"],function(e){function t(e){return{WebkitBoxOrient:e,WebkitFlexDirection:s[e]||e,msFlexDirection:s[e]||e,flexDirection:s[e]||e}}function i(e,t){var i=1===String(e).split(" ").length;return"none"===e||"0"===e||0===e||""===e?"none":i&&"vertical"===t?e+" 1 auto":e}function r(e,t){var r=i(e,t);return{minWidth:0,WebkitFlex:r,msFlex:r,flex:r}}function o(e){return e.replace(/-([a-z])/gi,function(e,t){return t.toUpperCase()})}function n(t,i){return e.transform(t,function(t,r,n){var s=c[n];s?e.merge(t,s(r,i)):(t[o(n)]=r,t[o(n)]=r)},{})}var s={horizontal:"row",vertical:"column"},a={start:"flex-start",end:"flex-end"},p=e.invert(a);Object.freeze(p);var l={top:"start",middle:"center",bottom:"end",left:"start",right:"end"},u={start:"flex-start",end:"flex-end"},c={"flex-direction":t,"box-orient":t,"box-flex":r,flex:r,"align-items":function(e){return{WebkitAlignItems:a[e]||e,msFlexAlign:p[e]||e,"align-items":a[e]||e,"align-self":a[e]||e}},"box-align":function(e){return e=l[e]||e,{WebkitBoxAlign:a[e]||e,WebkitAlignItems:a[e]||e,MozBoxAlign:a[e]||e,msFlexAlign:e,alignItems:a[e]||e,boxAlign:a[e]||e}},"justify-content":function(e){return{justifyContent:u[e]||e,WebkitJustifyContent:u[e]||e,MozJustifyContent:u[e]||e,msFlexPack:e,msJustifyContent:u[e]||e}},"box-shadow":function(e){return{WebkitBoxShadow:e,MozBoxShadow:e,boxShadow:e}},"border-radius":function(e){return{WebkitBorderRadius:e,MozBorderRadius:e,borderRadius:e}}};return Object.freeze(c),{translate:n}}),define("wixappsCore/util/spacersCalculator",["lodash"],function(e){function t(t,r,o,n){o=o||"vertical",n=n||"ltr";var s={before:parseInt(r.spacerBefore||r.spacer,10),after:parseInt(r.spacerAfter||r.spacer,10)};return s.before&&(r[t+i[n][o].before]=s.before),s.after&&(r[t+i[n][o].after]=s.after),e.omit(r,["spacer","spacerBefore","spacerAfter"])}var i={rtl:{vertical:{before:"Top",after:"Bottom"},horizontal:{before:"Right",after:"Left"}},ltr:{vertical:{before:"Top",after:"Bottom"},horizontal:{before:"Left",after:"Right"}}};return{translateStaticSpacers:t.bind(null,"margin"),translateStaticSpacersXax:t.bind(null,"padding")}}),define("wixappsCore/core/wixappsConfiguration",[],function(){var e=!1;return{shouldApplyAutomationAttributes:function(){return e},applyAutomationAttributes:function(){e=!0}}}),define("wixappsCore/core/wixappsPlugins",["lodash","wixappsCore/core/wixappsConfiguration"],function(e,t){return{getAdditionalDomAttributes:function(i){var r={};return t.shouldApplyAutomationAttributes()&&(r=e.merge(r,{"data-vcview":i.props.viewName,"data-vcfield":i.getViewDefProp("id"),"data-vctype":i.props.forType,"data-proxy":i.constructor.displayName,"data-field-name":i.getViewDefProp("data")})),r}}}),define("wixappsCore/proxies/mixins/baseProxy",["lodash","react","wixappsCore/util/viewsUtils","wixappsCore/core/styleData","wixappsCore/core/expressions/expression","wixappsCore/core/styleTranslator","wixappsCore/util/spacersCalculator","utils","wixappsCore/core/wixappsPlugins"],function(e,t,i,r,o,n,s,a,p){function l(){return this.getCompProp("hidden")?null:this.renderProxy()}function u(e){var t=e.parentContextPath,i=e.contextProps;i&&(t=this.createContext(e.parentContextPath,i.path,i.vars,i.events,i.functionLibrary,e)),this.contextPath=t}function c(e){var t=this.getCompProp("cssClass")||"";return this.props.className&&(t+=" "+this.props.className),this.getProxyCustomCssClass&&(t+=" "+this.getProxyCustomCssClass()),t+=" "+b(e),t=t.trim()}function h(e){var t=this.getCompProp("hoverVar");this.props.viewProps.setVar(this.contextPath,t,e)}function d(){var t={};this.getCompProp("hoverVar")&&(t.onMouseEnter=h.bind(this,!0),t.onMouseLeave=h.bind(this,!1));var i=this.getCompProp("events");return e.transform(i,function(e,t,i){var r=null;if(void 0!==t.params&&void 0!==t.params.enabled&&void 0!==t.params.enabled.$expr&&(r=t.params.enabled.$expr),r){if(!o.evaluate(x.bind(this,this.contextPath),r,y.call(this,this.contextPath)))return}switch(a.stringUtils.startsWith(i,"dom:")&&(i="on"+i[4].toUpperCase()+i.substring(5),e[i]=this.handleViewEvent),i){case"click":e.onClick=this.handleViewEvent;break;case"mouseup":e.onMouseUp=this.handleViewEvent;break;case"mousedown":e.onMouseDown=this.handleViewEvent}}.bind(this),t)}function m(t){return e.isPlainObject(t)&&e.has(t,"_iid")}function f(t){return e.isPlainObject(t)&&t._type&&a.stringUtils.startsWith(t._type,"wix:Ref")}function g(e){return[e.collectionId,e.itemId]}function y(t){var i=this.props.viewContextMap.getExpressionsFunctions(t);return e.assign(this.props.functionLibrary,i)}function x(t,i){e.isUndefined(t)&&(t=this.contextPath);var r,n=i.split("."),s=n.shift();if("$"===e.head(s))if(r=this.props.viewContextMap.getVar(t,s),o.isExpression(r))r=o.evaluate(x.bind(this,t),r.$expr,y.call(this,t));else for(;n.length;)r=r[n.shift()];else r=this.getDataByPath(i);return o.convertStringToPrimitive(r)}function P(e){return a.stringUtils.startsWith(e,"$")}function w(t){t=t||this.props;var i=this.getViewDefProp("value",t.viewDef);if(!e.isUndefined(i))return i;var r=t.viewDef&&t.viewDef.data||"this"
;return o.isExpression(r)?o.evaluate(x.bind(this,this.contextPath),r.$expr,y.call(this,this.contextPath)):P(r)?this.getVar(r):this.getDataByPath(r,!0,t)}function v(t,r){return i.sanitizeCompId(e.compact([this.props.viewProps.compId,this.props.viewId,this.contextPath,t&&t.id,r]).join("_"))}function C(t,i){return(e.isArray(t)?e.map:e.mapValues)(t,function(t){var r=t;return o.isExpression(t)?r=o.evaluate(x.bind(this,i),t.$expr,y.call(this,i)):(e.isArray(t)||e.isPlainObject(t))&&(r=C.call(this,t,i)),o.convertStringToPrimitive(r)}.bind(this))}function b(e){return e&&e.display&&"box"===e.display?(delete e.display,"flex_display"):""}function T(t,i){var o={layout:t,componentType:i};if(this.useSkinInsteadOfStyles)return o.skin=this.getCompProp("skin")||r.getDefaultSkinName(this.getCompProp("name")),o;var n=r.getSkinAndStyle(this.props.viewProps.allTheme,this.getCompProp("name"),this.getCompProp("styleNS"),this.getCompProp("style"),this.getCompProp("skin"));return e.assign(n,o)}function D(t){return e.pickBy(t,function(e,t){return 0===t.indexOf("data-")})}function k(t,i){if(i[""]=e.merge({},i[""],d.call(this),p.getAdditionalDomAttributes(this)),!t)return i;e.assign(i[""],D(this.props));var r=t(i);return e.forEach(r,function(e){e&&e.style&&(e.style=n.translate(e.style,this.props.orientation))}.bind(this)),r}function I(e,t){t.params&&(e.params=C.call(this,t.params,this.contextPath))}return{statics:{getPropDefs:function(t){if(e.includes(["compProp","viewProp"],t)){var i={};return e.forOwn(this,function(e,r){e.type===t&&(i[r]=e)}),i}},hidden:{type:"compProp",defaultValue:!1},style:{type:"compProp",defaultValue:null},layout:{type:"viewProp",defaultValue:{}}},propTypes:{id:t.PropTypes.string.isRequired,viewProps:t.PropTypes.shape({getDataByPath:t.PropTypes.func.isRequired,getDataByFullPath:t.PropTypes.func.isRequired,setVar:t.PropTypes.func.isRequired,isDebugMode:t.PropTypes.bool.isRequired,allTheme:t.PropTypes.object.isRequired}),contextProps:t.PropTypes.shape({path:t.PropTypes.arrayOf(t.PropTypes.oneOfType([t.PropTypes.string,t.PropTypes.number,t.PropTypes.arrayOf(t.PropTypes.string)]).isRequired).isRequired,vars:t.PropTypes.object,events:t.PropTypes.object,functionLibrary:t.PropTypes.object}),viewName:t.PropTypes.string.isRequired,forType:t.PropTypes.string,formatName:t.PropTypes.string.isRequired,orientation:t.PropTypes.string,parentId:t.PropTypes.string.isRequired,viewId:t.PropTypes.string,parentContextPath:t.PropTypes.string,logicEvents:t.PropTypes.object,logic:t.PropTypes.object,functionLibrary:t.PropTypes.object.isRequired,viewContextMap:t.PropTypes.shape({getVar:t.PropTypes.func.isRequired,getEvent:t.PropTypes.func.isRequired})},getDataByPath:function(e,t,i){i=i||this.props;var r=i.viewProps.getDataByPath(this.contextPath,e);return t&&f(r)?i.viewProps.getDataByFullPath(g(r)):r},getVar:function(e){return this.props.viewContextMap.getVar(this.contextPath,e)},setVar:function(e,t,i){this.props.viewProps.setVar(this.contextPath,e,t,i)},getContextEvent:function(e){return this.props.viewContextMap.getEvent(this.contextPath,e)},getChildProxyProps:function(e,t,i){var r=null;return t&&(r={path:t,vars:i.vars||{},events:i.events||{},functionLibrary:i.functionLibrary||{}}),{ref:"child",viewName:this.props.viewName,forType:this.props.forType,formatName:this.props.formatName,orientation:this.props.orientation,viewDef:e,parentId:this.props.parentId,viewId:this.props.viewId,logicEvents:this.props.logicEvents,logic:this.props.logic,functionLibrary:this.props.functionLibrary,parentContextPath:this.contextPath,contextProps:r,viewContextMap:this.props.viewContextMap,viewProps:this.props.viewProps,id:v.call(this,e,"child")}},getChildCompProps:function(t,i){var r={id:v.call(this,this.props.viewDef,this.props.key),ref:"component"};if(!t)return r.style=this.getProxyStyle(),r.className=c.call(this,r.style),e.assign(r,d.call(this),p.getAdditionalDomAttributes(this),D(this.props));var o=this.getProxyStyle(),n=T.call(this,o,t),s=this.props.viewProps.getComponentProps(n,this.props.viewProps.rootId);delete s.style.position;var a=e.merge(s.style,o);return s.className=c.call(this,a),e.assign(s,r,{transformSkinProperties:k.bind(this,i),style:a,compProp:this.props.compProp})},getViewDefProp:function(e,t,i){t=t||this.props.viewDef||{},i=i||this.contextPath;var r=t[e],n=r;if(o.isExpression(r))n=o.evaluate(x.bind(this,i),r.$expr,y.call(this,i));else if("layout"===e||"css"===e||"stylesheet"===e)return C.call(this,r,i);return o.convertStringToPrimitive(n)},getCompProp:function(e,t,i){i=i||this.contextPath;var r=this.getViewDefProp("comp",t,i);if(r)return this.getViewDefProp(e,r,i)},getStyleDef:function(t,i){if(t)return e.merge({},this.getCompProp("css",t,i),this.getViewDefProp("layout",t,i));var r={};return this.getCustomStyle&&(r=this.getCustomStyle()),e.merge(r,this.getCompProp("css"),this.getViewDefProp("layout"),this.props.proxyLayout)},getProxyStyle:function(){var e=this.getStyleDef(),t=this.props.orientation||"vertical",i=this.props.viewProps.compProp&&this.props.viewProps.compProp.direction;return e.boxSizing="border-box",e=s.translateStaticSpacers(e,t,i),e=n.translate(e,this.props.orientation)},handleViewEvent:function(t,i){var r=this.getCompProp("events"),n=this.props.logic,s=r&&(r[t.type]||r["dom:"+t.type]||r["dom:"+t.type.toLowerCase()]);if(s){var a=e.isString(s)?s:s.event;a&&e.forEach(a.split(";"),function(r){var a=r.trim().match(/^set:([^=]+)=(.+)$/);if(a){var p=o.evaluate(x.bind(this,this.contextPath),a[2].trim(),y.call(this,this.contextPath)),l=a[1].trim();return void(P(l)?this.props.viewProps.setVar(this.contextPath,l,p):this.props.viewProps.setDataByPath(this.contextPath,l,p))}var u=this.getContextEvent(r);if(e.isFunction(u))return I.call(this,t,s),void u(t,i);if(!n)throw"Error:: Missing logic - cannot handle event ["+r+"]";if(!e.isFunction(n[r]))throw"Error:: Logic missing implementation for event ["+r+"]";I.call(this,t,s);var c=this.getViewDefProp("data")||"this";t.dataPath=this.props.viewProps.getNormalizedDataPath(this.contextPath,c),n[r](t,i)}.bind(this))}},createContext:function(t,i,r,o,n,s){s=s||this.props;var a=e.merge({},r.view,r.proxy,this.getViewDefProp("vars")),p=s.viewProps.getDataByPath(t,i);if(null===t||m(p)){var l=s.viewProps.getNormalizedDataPath(t,i);return s.viewContextMap.newContextForDataItem(t,l,a,o,n)}return f(p)?s.viewContextMap.newContextForDataItem(t,g(p),a,o,n):s.viewContextMap.newContextForDataPath(t,i,a,o,n)},getInitialState:function(){return u.call(this,this.props),this.proxyData=w.call(this),{}},componentWillUpdate:function(e){this.props.viewContextMap.hasContext(this.contextPath)||u.call(this,e);var t=e.contextProps;t&&t.vars&&t.vars.proxy&&this.props.viewContextMap.overrideContextVars(this.contextPath,t.vars.proxy),this.proxyData=w.call(this,e)},render:function(){if(this.props.viewProps.isDebugMode)return l.call(this);try{return l.call(this)}catch(e){return a.log.error("Cannot render proxy "+this.constructor.displayName+" with id: "+this.props.id,e),null}}}}),define("wixappsCore/proxies/mixins/inputProxy",["utils","wixappsCore/proxies/mixins/baseProxy"],function(e,t){function i(t){return e.stringUtils.startsWith(t,"$")}return{mixins:[t],setData:function(e,t){var r=this.getViewDefProp("data")||"this";t&&(r+="."+t),(i(r)?this.props.viewProps.setVar:this.props.viewProps.setDataByPath)(this.contextPath,r,e)}}}),define("wixappsCore/core/linksConverter",["lodash","utils"],function(e,t){function i(e,t){return e[t?t.replace("#",""):""]||t}function r(e,t){return{type:"AnchorLink",anchorName:e.anchorName,anchorDataId:e.anchorDataId,pageId:i(t,e.pageId)}}function o(e){return{type:"DocumentLink",docId:e.docId,name:e.docName}}function n(e){return{type:"ExternalLink",url:e.protocol?e.protocol+"://"+e.address:e.address,target:e.target}}function s(e,t){return{type:"PageLink",pageId:i(t,e.pageId)}}function a(e){return{type:"DynamicPageLink",routerId:e.routerId,innerRoute:e.innerRoute,anchorDataId:e.anchorDataId}}function p(e){return{type:"PhoneLink",phoneNumber:e.phoneNumber}}function l(e){return{type:"EmailLink",recipient:e.email,subject:e.subject}}function u(e,i){var r=e.href;if("WEBSITE"===e.linkType||h.test(r)){return n({address:r})}if(t.stringUtils.startsWith(r,"#!"))return s({pageId:r.substr(2)},i);if(t.stringUtils.startsWith(r,"mailto:")){var o=r.split("?"),a="";if(o.length>1){a=t.urlUtils.parseUrlParams(o[1]).subject||""}return l({subject:a,email:o[0].substr(7)})}}function c(t,i){if(!t)return null;var r=d[t._type];if(r){var o=r(t,i);if(!e.isUndefined(o))return e.assign(o,{id:t.linkId})}}var h=/(:\/\/)|(^\/\/)/,d={"wix:Link":u,"wix:DynamicPageLink":a,"wix:PageLink":s,"wix:ExternalLink":n,"wix:MailLink":l,"wix:PhoneLink":p,"wix:DocLink":o,"wix:AnchorLink":r};return Object.freeze(d),c}),define("wixappsCore/core/typesConverter",["lodash","wixappsCore/core/linksConverter"],function(e,t){function i(i,r){if(!r)return null;r=r.id||r;var o=t({_type:"wix:PageLink",pageId:r},i);return e.omit(o,"id")}return{richText:function(i,r,o,n){return{type:"StyledText",text:e.isString(i)?i:i.text,linkList:e.map(r,function(e){return t(e,o)}),innerCompsData:n}},image:function(t,i,r,o,n){t=i(t,r,o);var s={type:"Image",uri:t.src,title:t.title,width:parseInt(t.width,10),height:parseInt(t.height,10)};return e.isEmpty(n)||(s.quality=n),s},videoThumb:function(e,t,i){var r={src:e.imageSrc,title:"",width:480,height:360};return this.image(r,t,i)},table:function(t){return{type:"Table",columnsStyle:e.map(t,function(e,t){if(!e.item)throw"missing definition for item in column "+t;return e.item.styleData})}},video:function(e){return{type:"Video",videoId:e.videoId,videoType:e.videoType}},linkableButton:function(t,r,o){var n=t&&(t.linkId?o.getDataByQuery(t.linkId):i(r,t.pageId)),s=e.isString(t)?t:t&&t.label;return{type:"LinkableButton",label:e.unescape(s),link:n||null}},selectableList:function(t){return{type:"SelectableList",options:e.map(t.items,function(i){return{type:"SelectOption",value:i.value,text:e.isFunction(i.getText)?i.getText(t.selectedValue):i.text,disabled:i.enabled===!1,description:i.description}}),value:t.selectedValue}},text:function(t,i){var r={type:"TextInput",value:e.unescape(t)};return i&&(r.maxLength=i),r},numeric:function(t){return{type:"NumericStepper",value:e.unescape(t)}},icon:function(e,t,i,r){return e=t(e,i,r),{type:"Icon",url:e.src,width:e.width,height:e.height,title:e.title}},link:t,imageList:function(t,i,r,o,n){return{type:"ImageList",items:e.map(t.items,function(t){return e.merge(this.image(t,i,r,o),{description:t.description||"",link:this.link(t.link,n)})}.bind(this))}}}}),define("wixappsCore/util/videoThumbDataHandler",["lodash","utils"],function(e,t){function i(e){return"//img.youtube.com/vi/"+e+"/0.jpg"}function r(e){return"//vimeo.com/api/v2/video/"+e+".json"}function o(e){return e.item.imageSrc=i(e.item.videoId),null}function n(e){if(e.item.imageSrc)return null;var t=r(e.item.videoId);return{force:!0,destination:e.path,url:t,dataType:"jsonp",transformFunc:a,error:function(){s(e)}}}function s(e){e.item.imageSrc=h}function a(t,i){var r=t[0];return(e.isArray(i)?p(i,r.id):i).imageSrc=r.thumbnail_large,i}function p(t,i){return e.find(t,{videoId:i+""})}function l(e){return e.item.videoType?c[e.item.videoType].prepareVideoThumbUrl(e):s(e)}function u(i,r){return h||(h=t.media.getMediaUrl(r.serviceTopology,"video/not-found.png")),e.compact(e.map(i,l))}var c={YOUTUBE:{prepareVideoThumbUrl:o},VIMEO:{prepareVideoThumbUrl:n}};Object.freeze(c);var h="";return{handleVideoThumbUrls:u}}),define("wixappsCore/proxies/mixins/baseCompositeProxy",["react","lodash","wixappsCore/proxies/mixins/baseProxy","wixappsCore/core/proxyFactory","wixappsCore/core/styleTranslator"],function(e,t,i,r,o){function n(e){return t.includes(l,e)}function s(e,t){var i=this.getStyleDef(e,t);i.boxSizing="border-box";var r=this.getCompProp("size",e);if("*"===r)i["box-flex"]=1;else{i[p[this.getCompProp("name",e)]]=r}return o.translate(i,t.orientation)}function a(t,i){return this.getCompProp("hidden",t)?null:(i.style=s.call(this,t,i),e.DOM.div(i))}var p={HSpacer:"width",VSpacer:"min-height"},l=["HSpacer","VSpacer"];return{mixins:[i],renderChildProxy:function(e,t,i,o){o=o||this.getChildProxyProps(e),t=String(t||"0"),o.key=t,o.ref=t,o.refInParent=t,o.proxyLayout=i,this.getChildrenOrientation&&(o.orientation=this.getChildrenOrientation());var s=this.getCompProp("name",e);return n(s)?a.call(this,e,o):r.getProxyClass(s)(o)}}}),define("wixappsCore/util/localizer",["lodash","utils","coreUtils"],function(e,t,i){function r(t,i){return e.has(i,t)?i[t]:"["+t+"] - not found"}var o={macroPattern:new RegExp("^@[0-9a-zA-Z_\\-\\.]*@$"),thingyPattern:new RegExp("@","g")};return Object.freeze(o),{getLocalizationBundleForPackage:function(e,r,o){var n=i.siteDataUtils.getRequestModel(o,"cookie"),s=t.wixUserApi.getLanguage(n,o.currentUrl).toLowerCase(),a=e.getDescriptor(r);return a&&(a.lang[s]||a.lang.en)},localize:function(e,t){for(var i,n,s;null!==(i=o.macroPattern.exec(e));)i=i[0],n=i.replace(o.thingyPattern,""),s=r(n,t),e=e.replace(i,s);return e}}}),define("wixappsCore/util/styleMapping",["lodash"],function(e){function t(e){return r[e]}function i(t){return e.invert(r)[t]}var r={Title:"font_0",Menu:"font_1","Page title":"font_2","Heading XL":"font_3","Heading L":"font_4","Heading M":"font_5","Heading S":"font_6","Body L":"font_7","Body M":"font_8","Body S":"font_9","Body XS":"font_10"};return{styleToFontClass:t,fontClassToStyle:i}}),define("wixappsCore/core/expressions/functionLibrary",["lodash","utils","wixappsCore/util/styleMapping","experiment"],function(e,t,i,r){function o(){var t={};return function t(i,r,o){e.forEach(r,function(e,r){"function"==typeof e?i[o+r]=e:"object"===(void 0===e?"undefined":_typeof(e))&&t(i,e,r+".")})}(t,s,""),t}function n(e,t,i,r,o){this.isMobile=e,this.zoom=t,this.getColor=r,this.serviceTopology=i,this.experimentContext=o}var s={get:function(t,i){return e.get(t,i)},getFromLocalStorage:function(e){return window.localStorage.getItem(e)},parseFromJSON:function(e){return JSON.parse(e)||{}},getObjectMember:function(t,i){return e.get(t,i,!1)},and:function(){for(var e=0;e<arguments.length;e++)if(arguments[e]===!1)return!1;return!0},or:function(){for(var e=0;e<arguments.length;e++)if(arguments[e]===!0)return!0;return!1},if:function(e,t,i){return e?t:i},eq:function(e,t){return e===t},ne:function(e,t){return e!==t},not:function(e){return!e},"!":function(e){return!e},gt:function(e,t){return e>t},gte:function(e,t){return e>=t},lt:function(e,t){return e<t},lte:function(e,t){return e<=t},toString:function(e){return e.toString?e.toString():""+e},toJson:function(e){return JSON.stringify(e)},mod:function(e,t){return e%t},add:function(){for(var e=0,t=0;t<arguments.length;t++)e+=arguments[t];return e},mult:function(){for(var e=1,t=0;t<arguments.length;t++)e*=arguments[t];return e},sub:function(e,t){return e-t},div:function(e,t){return e/t},negate:function(e){return-e},match:function(e,t,i){return e===t?i:void 0},"true?":function(e,t){return Boolean(e)===!0?t:void 0},"false?":function(e,t){return Boolean(e)===!1?t:void 0},else:function(e,t){return void 0===e?t:e},map:function(){for(var e=1;e<arguments.length-1;e+=2)if(arguments[0]===arguments[e])return arguments[e+1];return arguments.length%2==0?arguments[arguments.length-1]:arguments[0]},Math:{floor:function(e){return Math.floor(e)},round:function(e){return Math.round(e)}},Array:{length:function(e){return e.length},isEmpty:function(e){return null===e||0===e.length},slice:function(e,t,i){return e.slice(t,i)},join:function(e,t){return e.join(t)},filter:function(e,t,i){return e.filter(function(e){return i.contains(e[t])})},itemAt:function(e,t){return e[t]},fromArgs:function(){return e.toArray(arguments)},includes:function(t,i){return e.includes(t,i)}},RichText:{isEmpty:function(e){return"<div></div>"===e.text}},String:{length:function(e){return String(e).length},isEmpty:function(e){return null===String(e)||0===String(e).length},charAt:function(e,t){return String(e).charAt(t)},charCodeAt:function(e,t){return String(e).charCodeAt(e,t)},concat:function(){return e.reduce(arguments,function(e,t){return e.concat(String(t))},"")},indexOf:function(e,t){return String(e).indexOf(t)},lastIndexOf:function(e,t){return String(e).lastIndexOf(t)},match:function(e,t){return String(e).match(new RegExp(t))},replace:function(e,t,i){return String(e).replace(t,i)},search:function(e,t){return String(e).search(new RegExp(t))},slice:function(e,t,i){return String(e).slice(t,i)},split:function(e,t){return String(e).split(t)},substr:function(e,t,i){return String(e).substr(t,i)},substring:function(e,t,i){return String(e).substring(t,i)},toLowerCase:function(e){return String(e).toLowerCase()},toUpperCase:function(e){return String(e).toUpperCase()},contains:function(e,t){return String(e).contains(t)},trim:function(e){return String(e).trim()},toInt:function(e){return parseInt(e,10)},toFloat:function(e){return parseFloat(e)}},Date:{createDate:function(e){return e?new Date(e):new Date},getBefore:function(e,t,i,r){var o=r?new Date(r):new Date;return o.setDate(o.getDate()-e),o.setMonth(o.getMonth()-t),o.setFullYear(o.getFullYear()-i),o},getAfter:function(e,t,i,r){var o=r?new Date(r):new Date;return o.setDate(o.getDate()-e),o.setMonth(o.getMonth()-t),o.setFullYear(o.getFullYear()-i),o}},Theme:{getColor:function(t){var i=this.getColor(t);return"#"!==i[0]?!e.includes(i,"rgb")&&e.includes(i,",")?"rgba("+i+")":"#"+i:i}},Styles:{fontToTextStyle:function(e){return i.fontClassToStyle("font_"+e)},calcFontSize:function(e){return 3*e+9}},Mobile:{zoom:function(){return this.isMobile?1/this.zoom:1}},experiment:function(e){return r.isOpen(e,this.experimentContext)},newBlogSocialIconSourceFor:function(e){return t.media.getMediaUrl(this.serviceTopology,"new-blog-social-icons/"+e+".svg")},invertAlignment:function(e){switch(e){case"left":return"right";case"right":return"left";default:return e}}};return n.prototype=o(),n.prototype.addFunctions=function(t){e.assign(n.prototype,t)},n}),define("wixappsCore/util/memoizedViewsUtils",["lodash","wixappsCore/util/viewsUtils"],function(e,t){function i(e,t,i,r){return[e.id,t,i,r].join("|")}return{findViewInDescriptorByNameTypeAndFormat:e.memoize(t.findViewInDescriptorByNameTypeAndFormat,i)}}),define("wixappsCore/util/richTextDefaultStyles",[],function(){function e(e){var t="#"===e.charAt(0);return{name:"span",attributes:[{name:t?"style":"class",value:t?"color:"+e+";":e}]}}function t(e){var t="#"===e.charAt(0);return{name:"span",attributes:[{name:t?"style":"class",value:t?"background-color:"+e+";":e}]}}function i(e){return{name:"strong",attributes:[{name:"style",value:e?"font-weight: bold;":"font-weight: normal;"}]}}function r(e){return{name:"em",attributes:[{name:"style",value:e?"font-style: italic;":"font-style: normal;"}]}}function o(e){return{name:"strike",attributes:[{name:"style",value:e?"text-decoration: line-through;":"text-decoration: none;"}]}}function n(e){return{name:"u",attributes:[{name:"style",value:e?"text-decoration: underline;":"text-decoration: none;"}]}}return{color:e,backgroundColor:t,bold:i,italic:r,lineThrough:o,underline:n}}),define("wixappsCore/util/richTextUtils",["lodash","utils","wixappsCore/util/richTextDefaultStyles","wixappsCore/util/styleMapping","fonts"],function(e,t,i,r,o){function n(e){return e.replace(/<a\b[^>]*>(.*?)<\/a>/gi,"$1")}function s(e){return r.styleToFontClass(e)}function a(t){var i=e.map(t,function(t){return e.includes(t.value,'"')?t.name+"='"+t.value+"'":t.name+'="'+t.value+'"'}).join(" ");return i.length?" "+i:i}function p(t){return e.map(t,function(e){return"<"+e.name+a(e.attributes)+">"}).join("")}function l(t){return e.map(t,function(e){return"</"+e.name+">"}).reverse().join("")}function u(t){return e(t).groupBy("name").map(function(t,i){return{name:i,attributes:e(t).map("attributes").flattenDeep().compact().groupBy("name").map(function(t,i){return{name:i,value:e.map(t,"value").join(" ")}}).value()}}).value()}function c(t,r,n,a){var p=e.reduce(r,function(e,t){return e[t.name]=t.value,e},{});p.class=s(n("style")||"Body M"),n("singleLine")&&(p.class+=" singleLine");var l=n("color");l&&("#"!==e.head(l)?p.class+=" "+l:(p.style=p.style||"",p.style="color:"+l+";"+p.style));var c=n("line-height");c&&(p.style=p.style||"",/line-height:/.test(p.style)||(p.style="line-height:"+c+"em;"+p.style));var h=n("fontFamily");h&&(p.style=p.style||"",/font-family:/.test(p.style)||(p.style="font-family:"+o.fontUtils.getFontFamilyWithFallbacks(h)+";"+p.style));var d=n("fontSize");d&&(p.style=p.style||"",/font-size:/.test(p.style)||(p.style="font-size:"+d+"px;"+p.style)),a&&(p.style=p.style||"",p.style=a+";"+p.style);var m=[{name:t||"p",attributes:e.reduce(p,function(e,t,i){return e.push({name:i,value:t}),e},[])}],f=["backgroundColor","bold","italic","lineThrough","underline"];return e.forEach(f,function(t){var r=n(t);e.isNil(r)||m.push(i[t](r))}),u(m)}function h(t){return"wix:RichText"===t._type&&e.get(t,"version",0)<2}function d(t,i){return"wix:RichText"===t._type&&"2.0"===i&&e.get(t,"version",0)>=2}function m(e){var i=[],r=[];return t.htmlParser(e,{start:function(e,t,o){var n=[{name:o||0!==i.length?e:"hatul",attributes:t}];o||i.push(l(n)),r.push(p(n))},end:function(){r.push(i.pop())},chars:function(e){0===i.length?(r.push("<hatul>"),r.push(e),r.push("</hatul>")):r.push(e)}}),r.join("")}function f(e,t,i,r,o){return y(e,t.text,i,h(t),d(t,r),o)}function g(e,t,i){return y(e,t,i,!1,!1)}function y(e,i,r,o,s,a){var u=e("disableLinks")?n(i):i,h=o?m(u):u,d=e("singleLine"),f=!1,g=[],y=[],x=!1;return t.htmlParser(h,{start:function(t,i,o){if(!f&&(!d||"img"!==t&&"br"!==t)){var n,u=0===g.length;n="hatul"===t?!u&&s?[{name:"span",attributes:[]}]:c(r,i,e,a):[{name:t,attributes:i}],o||g.push(l(n)),y.push(p(n))}},end:function(){f||(y.push(g.pop()),0===g.length&&d&&(x?f=!0:y=[]))},chars:function(e){f||0===g.length&&/^\s+$/.test(e)||(x=x||!/^(&nbsp;)+$/.test(e),y.push(e))}}),y.join("")}return{getDataWithDefaultStyleForRichText:f,getDataWithDefaultStyle:y,getDataWithDefaultStyleForString:g}}),define("wixappsCore/util/wixappsUrlParser",["lodash","utils","wixappsCore/core/wixappsLogger"],function(e,t,i){var r={"79f391eb-7dfc-4adf-be6e-64434c4838d9":{parse:function(t,i){var r=i.split("/"),o={};o.filter={},"Featured"===r[0]&&(o.filter.featured=!0,r.shift());for(var n=0;n<r.length;n+=2)switch(r[n]){case"Type":o.filter._type=r[n+1];break;case"Tag":case"tag":var s=decodeURIComponent(r[n+1]);e.includes(s,"-")?o.filter.tags={$in:[s,s.replace(/-/g," ")]}:o.filter.tags=s;break;case"Category":case"category":var a=decodeURIComponent(r[n+1]),p=a.replace(/-/g," ");o.categoryNames=JSON.stringify([a,p]);break;case"Page":case"page":o.page=r[n+1];break;case"Author":case"author":var l=decodeURIComponent(r[n+1]);e.includes(l,"-")?o.filter.author={$in:[l,l.replace(/-/g," ")]}:o.filter.author=l;break;case"Sort":o.sort=r[n+1];break;case"Date":case"date":var u=r[n+1];o.filter["date.iso"]={$regex:"^"+u}}return o}},"7326bfbb-4b10-4a8e-84c1-73f776051e10":{parse:function(e,t){var i={};return i.limit=1,i.filter={},i.filter.permalink={$in:[t,decodeURIComponent(t)]},i}}};return{getAppPageParams:function(e,t){var i=t||e.getExistingRootNavigationInfo(e.getPrimaryPageId()),o=e.getDataByQuery(i.pageId);if("AppPage"===o.type&&r[o.appPageId]){var n=i.pageAdditionalData||"";return r[o.appPageId].parse(e,n)}return null},getPageSubItemId:function(e,t){var i=e.getExistingRootNavigationInfo(e.getPrimaryPageId()),r=t||i;if(!r.pageAdditionalData)return null;var o=e.getDataByQuery(r.pageId),n=r.pageItemId&&e.getDataByQuery(r.pageItemId);if("AppPage"===o.type||n&&"PermaLink"===n.type){return r.pageAdditionalData.match(/(.+?)($|\/.*$)/i)[1]}return null},getAppPartZoomAdditionalDataPart:function(e,i,r,o){var n=encodeURIComponent(r.toLowerCase().replace(/[\s|\/]+/gi,"-"));return e.isUsingUrlFormat(t.siteConstants.URL_FORMATS.SLASH)?[i,o,n].join("/"):i+"/"+n},getAppPartZoomUrl:function(e,r,o,n){var s=e.getDataByQuery(r);if(!s)return i.reportError(e,i.errors.MISSING_PERMALINK),e.currentUrl.full;var a={pageItemId:r,pageAdditionalData:this.getAppPartZoomAdditionalDataPart(e,o,n,s.mutableSeoTitle)};return e.isUsingUrlFormat(t.siteConstants.URL_FORMATS.SLASH)||(a.title=s.mutableSeoTitle),t.wixUrlParser.getUrl(e,a)},getAppPageUrl:function(e,i,r,o){var n={pageId:i,title:o,pageAdditionalData:r};return t.wixUrlParser.getUrl(e,n)}}}),define("wixappsCore/util/typeNameResolver",["lodash"],function(e){function t(t){if(e.isUndefined(t))return"undefined";if(e.isNull(t))return"null";if(t._type)return t._type;if(e.isString(t))return"String";if(e.isNumber(t))return"Number";if(e.isBoolean(t))return"Boolean";if(e.isArray(t))return"Array";if(e.isPlainObject(t))return"wix:Object";throw"Error:: Unable to resolve typeName for dataItem [ "+JSON.stringify(t)+" ]"}return{getDataItemTypeName:t}}),define("wixappsCore/proxies/mixins/boxProxy",["lodash","wixappsCore/proxies/mixins/baseCompositeProxy"],function(e,t){function i(e,t){return{id:t,comp:{name:e,size:"*"}}}function r(e,t,r,o){t=t||"vertical";var n=e.layout||{};if("*"===n[u[r]]||"*"===n[u.both]){var s=l[t],a=e.id+"_spacer_"+r,p=i(s,a),c="spacer_"+r+"_"+o;return this.renderChildProxy(p,c)}return null}function o(e,t,i){return r.call(this,e,t,"before",i)}function n(e,t,i){return r.call(this,e,t,"after",i)}function s(t){return!("none"===t||"0"===t||0===t||""===t||null===t||e.isUndefined(t))}function a(t){return e.some(t,function(e){var t=this.getStyleDef(e);if("*"===t[u.before]||"*"===t[u.after]||"*"===t[u.both]||s(t["box-flex"])||s(t.flex)||e.comp&&"*"===e.comp.size)return!0}.bind(this))}function p(e,t,i){if("rtl"===t&&"horizontal"===i){e={start:"end",end:"start"}[e]||e}return e}var l={vertical:"VSpacer",horizontal:"HSpacer"},u={both:"spacer",before:"spacerBefore",after:"spacerAfter"};return{mixins:[t],getCustomStyle:function(){var e=this.getCompProp("items"),t=a.call(this,e),i=this.getCompProp("pack"),r=this.getCompProp("box-align"),o=this.getChildrenOrientation(),n="horizontal"===o,s=t||i||r||n,l={position:"relative",display:s?"box":"block","box-orient":o};return r&&(l["box-align"]=r),i&&(l["justify-content"]=p(i,this.getVar("partDirection"),o)),l},renderProxy:function(){var t=this.getCompProp("items"),i=this.getChildrenOrientation(),r=e.map(t,function(t,r){var s=o.call(this,t,i,r),a=this.renderChildProxy(t,r),p=n.call(this,t,i,r);return e.compact([s,a,p])}.bind(this));r=e.flattenDeep(r);var s=this.getComponentName&&this.getComponentName(),a=this.getChildCompProps(s,this.transformSkinProperties);"vertical"===i&&(a.className=a.className||"",a.className+=" flex_vbox"),this.getCustomProps&&(a=e.assign(a,this.getCustomProps()));var p=this.getCompProp("item-scope");p&&(a.itemScope=p);var l=this.getCompProp("item-type");return l&&(a.itemType=l),this.getReactClass()(a,r)}}}),define("wixappsCore/proxies/mixins/zoomProxy",["lodash","react","wixappsCore/proxies/mixins/boxProxy"],function(e,t,i){var r=t.createClass({displayName:"AnchorInPositionAbsoluteWithSiblings",onClick:function(e){e.target=this.refs.a},render:function(){var i=e.omit(this.props,["style","href"]);return i.onClick=this.onClick,i.style=e.merge({},this.props.style,{cursor:"pointer"}),t.DOM.div(i,t.DOM.a({ref:"a",href:this.props.href,"data-page-item-context":i.pathToItems,target:i.target,style:{position:"absolute",top:0,right:0,left:0,bottom:0}}),i.children)}}),o=t.createFactory(r);return{mixins:[i],getChildrenOrientation:function(){return this.getCompProp("orientation")||"vertical"},getReactClass:function(){return this.getCustomZoomReactClass?this.getCustomZoomReactClass():o}}}),define("wixappsCore/proxies/zoomLinkProxy",["react","lodash","wixappsCore/proxies/mixins/zoomProxy"],function(e,t,i){return{mixins:[i],propTypes:{viewProps:e.PropTypes.shape({getPartDefinition:e.PropTypes.func.isRequired,getPartData:e.PropTypes.func.isRequired,getNormalizedDataPath:e.PropTypes.func.isRequired,getAppPartZoomUrl:e.PropTypes.func.isRequired,descriptor:e.PropTypes.object.isRequired})},getCustomProps:function(){var e=this.props.viewProps.getPartDefinition(),i=t.find(this.props.viewProps.descriptor.parts,{id:e.zoomPartName[0]}),r=this.props.viewProps.getPartData(),o=i.zoomParams.urlIdPrefix+r.appInnerID,n={};return n.href=this.props.viewProps.getAppPartZoomUrl(o,this.proxyData._iid||this.proxyData.id,this.proxyData.title),n.pathToItems=this.props.viewProps.getNormalizedDataPath(this.contextPath,this.getCompProp("listExpression")).join("."),n}}}),define("wixappsCore/proxies/appLinkProxy",["lodash","react","santaProps","utils","wixappsCore/proxies/mixins/zoomProxy"],function(e,t,i,r,o){function n(t){if(!t)return{};var i=e.filter(t.split("/"),function(e,t){return t%2==0}),r=e.filter(t.split("/"),function(e,t){return t%2==1});return e.zipObject(i,r)}function s(t){return e.reduce(t,function(e,t,i){return e+"/"+i+"/"+t},"").substring(1)}function a(e){return e.pageUriSEO||e.title}function p(t,i,r,o){var n=e.template("<%= year %>/<%= month %>/<%= day %>/<%= title %>"),s=new Date(r.date.iso);return t(i,n({year:s.getFullYear(),month:s.getMonth()+1,day:s.getDate(),title:o}),"")}function l(e){return e&&"AppPage"===e.type&&"AppPage"===e.appPageType&&"7326bfbb-4b10-4a8e-84c1-73f776051e10"===e.appPageId}function u(e,t,i,o,n){return t===r.siteConstants.URL_FORMATS.SLASH?o.permalink?e(i.id,o.permalink):p(e,i.id,o,encodeURIComponent(n)):e(i.id,o._iid,n)}function c(e,t,i){y.updateCounter(t,i,1,e)}function h(t,i){t.viewProps.reportEvent(x.events.TAG_CLICKED,{site_id:t.viewProps.siteId});var r=e.unescape(i);c(t.viewProps.blogStoreId,"tag",r)}function d(t,i){t.viewProps.reportEvent(x.events.CATEGORY_CLICKED,{site_id:t.viewProps.siteId});var r=e.unescape(i);c(t.viewProps.blogStoreId,"category",r)}function m(e,t,i,r){e(x.events.SINGLE_POST_LINK_CLICKED,{post_id:r,site_id:i,msid:t})}function f(t){e.has(t,"Page")&&(t.page=t.Page,delete t.Page)}function g(t,i){if("samePage"===t){var r=this.props.viewProps.rootNavigationInfo.pageId;return e.find(i,{id:r})}return e.find(i,function(e){return e.appPageId&&e.appPageId===t})}var y=r.socialCounterDatabaseAPI,x=r.wixappsClassicsLogger,P={appPageLink:function(t,i,r){var o=e.unescape(r.title).replace(/(?![a-z0-9])(?!\s)[\x00-\x7F]/gi,"").replace(/\s+/g,"-"),n=l(i);return{href:n?u(t.viewProps.getAppPageUrl,t.viewProps.urlFormat,i,r,o):t.viewProps.getAppPageUrl(i.id,r._iid,o),onClick:n?m.bind(this,t.viewProps.reportEvent,t.viewProps.metaSiteId,t.viewProps.siteId,r._iid):void 0}},date:function(e,t,i){var r="date/"+i.value;return{href:e.viewProps.getAppPageUrl(t.id,r,a(t))}},tag:function(e,t,i){var r=i.key||i,o="tag/"+encodeURIComponent(r);return{href:e.viewProps.getAppPageUrl(t.id,o,a(t)),onClick:e.viewProps.isViewerMode?h.bind(this,e,r):void 0}},category:function e(t,i,r){var e=r,o="category/"+encodeURIComponent(e.name);return{href:t.viewProps.getAppPageUrl(i.id,o,a(i)),onClick:t.viewProps.isViewerMode?d.bind(this,t,e.name):void 0}},author:function(e,t,i){var r="author/"+encodeURIComponent(i.author.replace(/\s/g,"-"));return{href:e.viewProps.getAppPageUrl(t.id,r,a(t))}},prevPage:function(e,t){var i=e.viewProps.rootNavigationInfo.pageAdditionalData||"",r=n(i);return f(r),r.page&&Number(r.page)&&(r.page=Number(r.page)-1),0===Number(r.page)&&delete r.page,{href:e.viewProps.getAppPageUrl(t.id,s(r),a(t))}},nextPage:function(e,t){var i=e.viewProps.rootNavigationInfo.pageAdditionalData||"",r=n(i);return f(r),r.page&&Number(r.page)?r.page=Number(r.page)+1:r.page=1,{href:e.viewProps.getAppPageUrl(t.id,s(r),a(t))}},numberedPage:function(e,t,i){var r=e.viewProps.rootNavigationInfo.pageAdditionalData||"",o=n(r);return f(o),o.page=parseInt(i,10),0===Number(o.page)&&delete o.page,{href:e.viewProps.getAppPageUrl(t.id,s(o),a(t))}}};return{mixins:[o],propTypes:{viewProps:t.PropTypes.shape({linkRenderInfo:i.Types.Link.linkRenderInfo.isRequired,reportEvent:t.PropTypes.func.isRequired,metaSiteId:i.Types.RendererModel.metaSiteId.isRequired,siteId:i.Types.RendererModel.siteId.isRequired,blogStoreId:t.PropTypes.object,rootNavigationInfo:i.Types.Component.rootNavigationInfo.isRequired,
urlFormat:i.Types.urlFormat.isRequired,getAppPageUrl:t.PropTypes.func.isRequired,isViewerMode:t.PropTypes.bool.isRequired})},getCustomProps:function(){var e=this.getCompProp("linkType")||"appPageLink",t=this.getCompProp("pageId"),i=g.call(this,t,this.props.viewProps.linkRenderInfo.pagesDataItemsMap);return i&&e&&P[e]?P[e](this.props,i,this.proxyData):{}}}}),define("wixappsCore/proxies/nativeAppLinkProxy",["lodash","react","wixappsCore/proxies/appLinkProxy"],function(e,t,i){var r=t.createFactory(t.createClass({displayName:"FlexboxContainerAnchor",propTypes:{href:t.PropTypes.string.isRequired,pathToItems:t.PropTypes.string,target:t.PropTypes.string},render:function(){return t.DOM.div(e.omit(this.props,"href"),t.DOM.a({"data-page-item-context":this.props.pathToItems,href:this.props.href,ref:"a",style:{display:"flex",flexDirection:"column",height:"100%",width:"100%"},target:this.props.target},this.props.children))}}));return{mixins:[i],getCustomZoomReactClass:function(){return r}}}),define("wixappsCore/core/layoutBasedHelper",["lodash"],function(e){function t(t,i){var r=e.has(t,"width");return r=r||"vertical"===i,r=r||"horizontal"===i&&(e.has(t,"flex")||e.has(t,"box-flex"))}function i(t,i){var r=e.has(t,"height");return r=r||"horizontal"===i,r=r||"vertical"===i&&(e.has(t,"flex")||e.has(t,"box-flex"))}return{isLayoutBasedWidth:t,isLayoutBasedHeight:i}}),define("wixappsCore/proxies/areaProxy",["lodash","react","compUtils","wixappsCore/proxies/mixins/boxProxy","wixappsCore/core/layoutBasedHelper"],function(e,t,i,r,o){var n={display:"inherit","flex-direction":"inherit"};return{mixins:[r],propTypes:{orientation:t.PropTypes.string},getChildrenOrientation:function(){return this.getCompProp("orientation")||"vertical"},getComponentName:function(){return"wixapps.integration.components.Area"},getReactClass:function(){return i.compFactory.getCompClass(this.getComponentName(),!0)},transformSkinProperties:function(t){var i=this.getStyleDef();return o.isLayoutBasedHeight(i,this.props.orientation)&&(t.bg=t.bg||{},t.bg.style=e.merge({},t.bg.style,{height:"100%"})),t.inlineContent.style=e.merge({},t.inlineContent.style,n,{position:"relative",width:"100%"}),t}}}),define("wixappsCore/proxies/mixins/siteButtonProxy",["lodash","compUtils","wixappsCore/proxies/mixins/baseProxy","wixappsCore/core/typesConverter","wixappsCore/util/localizer"],function(e,t,i,r,o){var n="wysiwyg.viewer.components.SiteButton";return{mixins:[i],statics:{componentType:n},getCustomStyle:function(){var t={position:"relative"};return this.getAdditionalButtonStyle&&(t=e.merge(t,this.getAdditionalButtonStyle())),t},renderProxy:function(){var i=this.getChildCompProps(n,this.transformSkinProperties),s=r.linkableButton(this.proxyData,this.props.viewProps.linkRenderInfo.pagesDataItemsMap),a=this.getCompProp("label");return e.isUndefined(a)&&(a=s.label),s.label=a.toString()?o.localize(a,this.props.viewProps.getLocalizationBundle()):this.getDefaultLabel(),i.compData=s,i.linkRenderInfo=this.props.viewProps.linkRenderInfo,i.compProp={align:this.getCompProp("align")||"center",margin:this.getCompProp("margin")||0,padding:this.getCompProp("labelPadding")||""},i.shouldUseFlex=!1,i.noAutoLinkGeneration=!0,t.compFactory.getCompClass(n,!0)(i)}}}),define("wixappsCore/proxies/buttonProxy",["wixappsCore/proxies/mixins/siteButtonProxy","lodash"],function(e,t){return{mixins:[e],transformSkinProperties:function(e){var i={"data-proxy-name":"Button",onClick:this.handleViewEvent};return e[""]=t.merge({},e[""],i),e},getAdditionalButtonStyle:function(){var e={};return""===(this.getCompProp("label")||this.proxyData)&&(e.display="none"),e},getDefaultLabel:function(){return"Submit"}}}),define("wixappsCore/proxies/button2Proxy",["wixappsCore/proxies/mixins/siteButtonProxy","lodash"],function(e,t){return{mixins:[e],transformSkinProperties:function(e){var i=this.getProxyStyle(),r=i.height||this.getCompProp("height")||30,o={onClick:this.handleViewEvent,"data-proxy-name":"Button2",style:{height:r,maxWidth:i.width}};this.getCompProp("shouldNotExceedParentWidth")&&(o.style.width="100%",o["data-should-prevent-width-measurement"]=!0),e[""]=t.merge({},e[""],o);var n={overflow:"hidden"};return e.link.style=t.merge({},e.link.style,n),e},getDefaultLabel:function(){return""}}}),define("wixappsCore/proxies/mixins/textProxy",["lodash","wixappsCore/proxies/mixins/baseProxy","wixappsCore/core/typesConverter","wixappsCore/util/localizer","wixappsCore/util/richTextUtils","reactDOM"],function(e,t,i,r,o,n){function s(t,r,o){var n=e.find(r.links,{linkId:o});return n?i.link(n,t):null}var a=new RegExp(e.escape("<br/?>"),"gi");return{mixins:[t],statics:{prefix:{type:"compProp",defaultValue:""},postfix:{type:"compProp",defaultValue:""},disableLinks:{type:"compProp",defaultValue:!1},lineThrough:{type:"compProp",defaultValue:!1},underline:{type:"compProp",defaultValue:!1},singleLine:{type:"compProp",defaultValue:!1},color:{type:"compProp",defaultValue:null},backgroundColor:{type:"compProp",defaultValue:null},noWrap:{type:"compProp",defaultValue:!1},bold:{type:"compProp",defaultValue:!1},italic:{type:"compProp",defaultValue:!1},lineHeight:{type:"compProp",defaultValue:null},fontFamily:{type:"compProp",defaultValue:null},fontSize:{type:"compProp",defaultValue:null},showTooltip:{type:"compProp",defaultValue:!1}},useSkinInsteadOfStyles:!0,getInitialState:function(){return{showToolTip:!1}},componentDidMount:function(){var e=n.findDOMNode(this),t=!!(this.getCompProp("singleLine")&&this.getCompProp("showTooltip")&&e.scrollWidth>e.offsetWidth);t!==this.state.showToolTip&&this.setState({showToolTip:t})},createFormattedText:function(t,i){if("wix:RichText"===t._type||"wix:MediaRichText"===t._type){var n=this.props.viewProps.getPartDefinition().version;return o.getDataWithDefaultStyleForRichText(this.getCompProp,t,i,n)}if(e.isString(t)||(t=e.isNumber(t)?t.toString():""),this.props.viewProps.isExperimentOpen("sv_limitAuthorLength")){var s=this.getCompProp("max-chars");s&&(t=t.substring(0,s))}var p=this.props.viewProps.getLocalizationBundle(),l=r.localize(t,p),u=l.replace(a,e.unescape),c=e.compact(["<hatul>",this.getCompProp("prefix"),u,this.getCompProp("postfix"),"</hatul>"]).join("");return o.getDataWithDefaultStyleForString(this.getCompProp,c,i)},getDataByQuery:function(e){return s(this.props.viewProps.linkRenderInfo.pagesDataItemsMap,this.proxyData,e)},getRichTextChildCompProps:function(e,t){var i=this.getChildCompProps(e,t);return i.style=i.style||{},i.style.whiteSpace=this.getCompProp("noWrap")?"nowrap":"normal",this.state.showToolTip&&(i.title=(this.getCompProp("prefix")||""+this.proxyData+this.getCompProp("postfix")||"").replace(/\s+/gim," ").replace(/^\s*/,"").replace(/\s*$/,"")),i.noAutoLinkGeneration=!0,i}}}),define("wixappsCore/util/textClipper",["lodash","utils"],function(e,t){function i(t){return e.reduce(a,function(e,t){return e.replace(t,"*")},t).length}function r(e,t){for(var i=new RegExp("("+a.join("|")+")"),r="",o=0;o<t&&e.length>0;){var n=i.exec(e),s=n?n.index:e.length,p=e.substr(0,s);p=p.substr(0,t-o),o+=p.length,o<t&&n&&(p+=n[0],o+=1),e=e.substr(p.length),r+=p}return r}function o(e){return e.replace(new RegExp("(\\s|&nbsp;)+$"),"")}function n(e,t){var n=[],a=[],p=!1,l=0;return s(e,{start:function(e,t,i,r){p||(n.push(r),i||a.push("</"+e+">"))},chars:function(e){if(!p){var s=i(e);if(l+s<=t)l+=s,n.push(e);else{p=!0;var u=r(e,t-l);for(n.push(o(u)),n.push("...");a.length>0;)n.push(a.pop())}}},end:function(){p||n.push(a.pop())}}),n.join("")}var s=t.htmlParser,a=["&nbsp;","&lt;","&gt;","&amp;","&cent;","&pound;","&yen;","&euro;","&copy;","&reg;"];return{clipText:n}}),define("wixappsCore/proxies/clippedParagraphProxy",["lodash","react","santaProps","compUtils","wixappsCore/proxies/mixins/textProxy","wixappsCore/core/typesConverter","wixappsCore/util/textClipper","fonts"],function(e,t,i,r,o,n,s,a){function p(t){var i=parseFloat(t);return isNaN(i)&&e.includes(["normal","initial","inherit"],t)&&(i=1.2),i}function l(e){var t=this.getCompProp("minLines")||this.getCompProp("singleLine")&&1;if(!t)return 0;var i=a.fontUtils.getFontClassName(e),r=i&&this.props.viewProps.fontsMap[i.split("_")[1]],o=a.fontUtils.parseFontStr(r),n=1.25;return this.getCompProp("line-height")&&(n=p(this.getCompProp("line-height"))),parseInt(o.size,10)*n*t}return{mixins:[o],propsTypes:{viewProps:t.PropTypes.shape({linkRenderInfo:i.Types.Link.linkRenderInfo.isRequired,fontsMap:i.Types.Fonts.fontsMap.isRequired})},renderProxy:function(){var e=this.proxyData,t=this.createFormattedText(e),i=l.call(this,t),o=function(e){return e[""].style=e[""].style||{},e[""].style.overflow="hidden",i&&(e[""].style["min-height"]=i),e},a=this.getRichTextChildCompProps("wysiwyg.viewer.components.WRichText",o),p=this.getCompProp("max-chars")||150;return(this.getCompProp("remove-anchors")||!1)&&(t=t.replace(/(<a[^>]*>)/g,"").replace(/(<\/a>)/g,"")),t=s.clipText(t,p),a.compData=n.richText(t,e.links,this.props.viewProps.linkRenderInfo.pagesDataItemsMap),r.compFactory.getCompClass("wysiwyg.viewer.components.WRichText",!0)(a)}}}),define("wixappsCore/proxies/comboBoxProxy",["lodash","react","compUtils","wixappsCore/core/typesConverter","wixappsCore/proxies/mixins/inputProxy","wixappsCore/util/localizer"],function(e,t,i,r,o,n){function s(){return{placeholder:{text:n.localize(this.getCompProp("promptText"),this.props.viewProps.getLocalizationBundle()),value:-1},size:null}}return{mixins:[o],propTypes:{viewProps:t.PropTypes.shape({getLocalizationBundle:t.PropTypes.func.isRequired})},renderProxy:function(){var t=this.proxyData,o=this,a="wysiwyg.viewer.components.inputs.ComboBoxInput",p=this.getChildCompProps(a);return p.compProp=this.getCompProp("hasPrompt")&&!e.some(t.items,{value:t.selectedValue})?s.call(this):{},p.compData=r.selectableList(t),e.forEach(p.compData.options,function(e){e.text=n.localize(e.text,this.props.viewProps.getLocalizationBundle()),e.description=n.localize(e.description,this.props.viewProps.getLocalizationBundle())}.bind(this)),p.onSelectionChange=function(e,i){e.payload.listData=t;var r=e.payload.value||t.items[0].value;o.setData(r,"selectedValue"),o.handleViewEvent(e,i)},p.errorMessage=!t.valid,i.compFactory.getCompClass(a,!0)(p)}}}),define("wixappsCore/proxies/cssProxy",["lodash","react","wixappsCore/proxies/mixins/baseCompositeProxy"],function(e,t,i){return{mixins:[i],renderProxy:function(){var i=this.getCompProp("items"),r=e.map(i,function(e,t){return this.renderChildProxy(e,t)}.bind(this)),o=this.getChildCompProps();return t.DOM.div(o,r)}}}),define("wixappsCore/proxies/dateProxy",["react","santaProps","compUtils","wixappsCore/proxies/mixins/textProxy","wixappsCore/core/typesConverter"],function(e,t,i,r,o){var n="wysiwyg.viewer.components.WRichText",s=function(){var e=function(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e};return function(t,i,r){var o=s;if(1!==arguments.length||"[object String]"!==Object.prototype.toString.call(t)||/\d/.test(t)||(i=t,t=void 0),t=t?new Date(t):new Date,isNaN(t))throw"invalid date";i=String(o.masks[i]||i||o.masks.default),"UTC:"===i.slice(0,4)&&(i=i.slice(4),r=!0);var n=r?"getUTC":"get",a=t[n+"Date"](),p=t[n+"Day"](),l=t[n+"Month"](),u=t[n+"FullYear"](),c=t[n+"Hours"](),h=t[n+"Minutes"](),d=t[n+"Seconds"](),m=t[n+"Milliseconds"](),f=r?0:t.getTimezoneOffset(),g={d:a,dd:e(a),ddd:o.i18n.dayNames[p],dddd:o.i18n.dayNames[p+7],ddddd:o.i18n.dayNames[p].toUpperCase(),m:l+1,mm:e(l+1),mmm:o.i18n.monthNames[l],mmmm:o.i18n.monthNames[l+12],mmmmm:o.i18n.monthNames[l].toUpperCase(),yy:String(u).slice(2),yyyy:u,h:c%12||12,hh:e(c%12||12),H:c,HH:e(c),M:h,MM:e(h),s:d,ss:e(d),l:e(m,3),L:e(m>99?Math.round(m/10):m),t:c<12?"a":"p",tt:c<12?"am":"pm",T:c<12?"A":"P",TT:c<12?"AM":"PM",Z:r?"UTC":(String(t).match(/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[\-+]\d{4})?)\b/g)||[""]).pop().replace(/[^-+\dA-Z]/g,""),o:(f>0?"-":"+")+e(100*Math.floor(Math.abs(f)/60)+Math.abs(f)%60,4),S:["th","st","nd","rd"][a%10>3?0:(a%100-a%10!=10)*a%10]};return i.replace(/d{1,5}|m{1,5}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,function(e){return e in g?g[e]:e.slice(1,e.length-1)})}}();return s.masks={default:"mmmm dd, yyyy",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",eUshortDate:"d/m/yy",eUshortDate2:"d.m.yy"},s.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},Object.freeze(s),{mixins:[r],statics:{componentType:n,format:{type:"compProp",defaultValue:"mmmm dd, yyyy"}},propTypes:{viewProps:e.PropTypes.shape({linkRenderInfo:t.Types.Link.linkRenderInfo.isRequired})},getFormattedDateString:function(e){var t=this.getCompProp("format")||this.constructor.format.defaultValue,i=e.iso||e,r=new Date(i);return r.getTime()>=0?s(r,t):""},renderProxy:function(){var e=this.proxyData,t=this.createFormattedText(this.getFormattedDateString(e)),r=this.getRichTextChildCompProps(n);return r.compData=o.richText(t,e.links,this.props.viewProps.linkRenderInfo.pagesDataItemsMap),i.compFactory.getCompClass(n,!0)(r)}}}),define("wixappsCore/proxies/erasableTextInputProxy",["compUtils","wixappsCore/core/typesConverter","wixappsCore/proxies/mixins/inputProxy"],function(e,t,i){return{mixins:[i],renderProxy:function(){var i=this.proxyData,r="wysiwyg.viewer.components.inputs.ErasableTextInput",o=this.getChildCompProps(r);o.compData=t.text(i),o.compProp={label:this.getCompProp("label"),placeholder:this.getCompProp("placeholder")},o.message=this.getCompProp("message"),o.isValid=this.getCompProp("isValid");var n=this;return o.onChange=function(e,t){n.setData(e.target.value),e.type="inputChanged",n.handleViewEvent(e,t)},o.onErase=function(){n.setData("")},e.compFactory.getCompClass(r,!0)(o)}}}),define("wixappsCore/proxies/fixedRatioProxy",["react","wixappsCore/proxies/mixins/baseCompositeProxy","lodash"],function(e,t,i){function r(e,t){var r=function(t){return e[t]&&!(i.isString(e[t])&&"%"===e[t].slice(-1))},o={};if(r("width"))o.width=parseInt(e.width,10),o.height=Math.floor(o.width/t);else if(r("height"))o.height=parseInt(e.height,10),o.width=Math.floor(o.height*t);else{if(!r("box-flex")&&!r("boxFlex"))throw new Error("FixedRatioProxy's child proxy does not receive legal layout properties");o.position="absolute",o.height="100%",o.width="100%",o.top="0px",o.left="0px"}return o}function o(t,i){var r={1:"data:image/gif;base64,R0lGODlhAQABAIAAAP7//wAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==",1.77:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAJCAYAAAA7KqwyAAAAE0lEQVR42mP4TyFgGDVg1AAgAAC2ij3fb7PW1wAAAABJRU5ErkJggg=="},o={position:"relative",top:"0px",bottom:"0px",left:"0px",right:"0px",visibility:"hidden"};if("vertical"===t?o.minWidth="100%":o["min-height"]="100%",!r[i])throw"This ratio is not supported by the current map: "+i;return e.DOM.img({src:r[i],style:o})}function n(e){return{vertical:{width:"100%",minWidth:"100%",position:"relative"},horizontal:{height:"100%","min-height":"100%",position:"relative"}}[e]}return{mixins:[t],propTypes:{orientation:e.PropTypes.string},renderProxy:function(){var t=this.getCompProp("items"),s=parseFloat(this.getCompProp("aspectRatio"));if(1!==t.length)throw new Error("FixedRatioProxy can only contain one child");if(!s)throw new Error("FixedRatioProxy did not receive any aspect ratio");var a=t[0],p=this.getStyleDef(a);if(a.layout&&!a.layout["box-flex"]&&!a.layout.boxFlex)return i.merge(p,r(p,s)),this.renderChildProxy(a,0,p);var l=o(this.props.orientation,s),u=n(this.props.orientation);return e.DOM.div({style:i.merge(u,p)},l,this.renderChildProxy(a,0,r(p,s)))}}}),define("wixappsCore/proxies/mixins/templateBasedChildrenProxy",["lodash"],function(e){function t(t,i){return i?"first"===t&&e.has(i,"first")?i.first:"last"===t&&e.has(i,"last")?i.last:i.item:{}}function i(e,t){return 0===e?"first":e===t-1?"last":"middle"}return{getChildTemplateDefinition:function(e,r){var o=this.getCompProp("templates");return t(i(e,r),o)}}}),define("wixappsCore/proxies/galleryProxy",["lodash","react","compUtils","wixappsCore/proxies/mixins/templateBasedChildrenProxy","wixappsCore/proxies/mixins/baseCompositeProxy"],function(e,t,i,r,o){function n(e){return e[""]["data-proxy-name"]="GalleryProxy",e[""]["data-total-columns"]=this.getCompProp("columns"),e[""]["data-total-rows"]=this.getCompProp("rows"),e[""]["data-gap"]=this.getCompProp("gap"),e[""]["data-autoscale"]=this.getCompProp("autoscale"),e.itemsContainer.style.width=isNaN(e.itemsContainer.style.width)?"100%":e.itemsContainer.style.width,e.itemsContainer.style.height=isNaN(e.itemsContainer.style.height)?"100%":e.itemsContainer.style.height,e}function s(t,i){if(!e.isEqual(t.compData,i.compData))return!1;var r=["numCols","maxRows","margin"];return e.isEqual(e.pick(t.compProp,r),e.pick(i.compProp,r))}return{mixins:[o,r],propTypes:{viewProps:t.PropTypes.shape({getMeasures:t.PropTypes.func.isRequired})},componentDidMount:function(){this.forceUpdate()},createGalleryItem:function(t,i,r,o,n,s,a){var p=this.getCompProp("columns"),l=this.getCompProp("rows"),u=this.getCompProp("gap")||0,c={position:"absolute",width:"calc((100% - "+(p-1)*u+"px) / "+p+")",height:"calc((100% - "+(l-1)*u+"px) / "+l+")"};s&&(c=e.merge(c,s));var h={getComponentScopedClass:function(e){var t={};return t[e]=!0,a(t)}},d=this.getChildTemplateDefinition(r,n),m=this.getViewDefProp("data")||"this",f=e.indexOf(this.proxyData,i),g=this.getItemRef(t,o,r),y=this.getChildProxyProps(d,[m,f],{functionLibrary:h}),x={className:a({galleryDisplayer:!0}),"data-index":r};return y=e.assign(y,x),this.renderChildProxy(d,g,c,y)},getItemRef:function(e,t,i){return e+t+"#"+i},registerComponentReLayout:function(){this.refs.component.registerReLayout()},renderProxy:function(){var e="wysiwyg.viewer.components.PaginatedGridGallery",t=this.getChildCompProps(e,n.bind(this));t.createGalleryItem=this.createGalleryItem,t.onAnimationCompleteCallback=this.registerComponentReLayout,t.getItemRef=this.getItemRef,t.compData={items:this.proxyData},t.compProp={transition:this.getCompProp("transition"),autoplayInterval:this.getCompProp("autoplayInterval"),transDuration:this.getCompProp("transDuration")||1,numCols:this.getCompProp("columns"),maxRows:this.getCompProp("rows"),margin:this.getCompProp("gap"),autoplay:this.getCompProp("autoplay"),expandEnabled:this.getCompProp("expandEnabled"),showAutoplay:this.getCompProp("showAutoplay"),showNavigation:this.getCompProp("showNavigation")!==!1,showCounter:this.getCompProp("showCounter")!==!1},t.style.position="relative",t.key=this.getViewDefProp("id")+"_"+this.getCompProp("rows")+"_"+this.getCompProp("columns");var r=this.props.viewProps.getMeasures(t.id);return r.height&&this.refs.component&&s(t,this.prevProps)&&(t.style.width=r.width,t.style.height=r.height),this.prevProps=t,i.compFactory.getCompClass(e,!0)(t)}}}),define("wixappsCore/proxies/hBoxProxy",["react","wixappsCore/proxies/mixins/boxProxy"],function(e,t){return{mixins:[t],getChildrenOrientation:function(){return"horizontal"},getReactClass:function(){return e.DOM.div}}}),define("wixappsCore/proxies/horizontalLineProxy",["compUtils","wixappsCore/proxies/mixins/baseProxy","lodash"],function(e,t,i){function r(e){return e[""]=i.merge({},e[""],{style:{position:"relative"}}),e}var o="wysiwyg.viewer.components.FiveGridLine";return{mixins:[t],statics:{componentType:o},renderProxy:function(){var t=this.getChildCompProps(o,r);return e.compFactory.getCompClass(o,!0)(t)}}}),define("wixappsCore/proxies/iconProxy",["react","compUtils","wixappsCore/core/typesConverter","wixappsCore/proxies/mixins/baseProxy"],function(e,t,i,r){return{mixins:[r],propTypes:{viewProps:e.PropTypes.shape({serviceTopology:e.PropTypes.object.isRequired,resolveImageData:e.PropTypes.func.isRequired,packageName:e.PropTypes.string.isRequired})},renderProxy:function(){var e=this.proxyData,r=this.getChildCompProps("wixapps.integration.components.Icon");return r.compData=i.icon(e,this.props.viewProps.resolveImageData,this.props.viewProps.serviceTopology,this.props.viewProps.packageName),t.compFactory.getCompClass("wixapps.integration.components.Icon",!0)(r)}}}),define("wixappsCore/proxies/imageButtonProxy",["react","compUtils","wixappsCore/core/typesConverter","wixappsCore/proxies/mixins/baseProxy"],function(e,t,i,r){return{mixins:[r],propTypes:{viewProps:e.PropTypes.shape({serviceTopology:e.PropTypes.object.isRequired,resolveImageData:e.PropTypes.func.isRequired,packageName:e.PropTypes.string.isRequired})},renderProxy:function(){var e=this.proxyData,r="wixapps.integration.components.ImageButton",o=this.getChildCompProps(r);return o.compData=i.icon(e,this.props.viewProps.resolveImageData,this.props.viewProps.serviceTopology,this.props.viewProps.packageName),o.compProp={isSprite:this.getCompProp("isSprite"),spriteDirection:this.getCompProp("spriteDirection"),startPositionX:this.getCompProp("startPositionX"),startPositionY:this.getCompProp("startPositionY")},t.compFactory.getCompClass(r,!0)(o)}}}),define("wixappsCore/proxies/imageButtonWithTextProxy",["react","compUtils","lodash","wixappsCore/proxies/mixins/baseProxy"],function(e,t,i,r){return{mixins:[r],propTypes:{viewProps:e.PropTypes.shape({compProp:e.PropTypes.shape({direction:e.PropTypes.string.isRequired})})},componentDidMount:function(){if("unlike"===this.getCompProp("type")){var e=i.get(this.props,"viewProps.partData._iid");i.get(JSON.parse(window.localStorage.getItem("likedBlogPosts"))||{},e)&&this.setVar("$isPostLiked",!0)}},renderProxy:function(){var e="wysiwyg.viewer.components.ImageButtonWithText",r=i.merge({},this.getChildCompProps(e),{compData:{iconSource:this.getCompProp("iconSource"),label:this.getCompProp("label"),extraInfo:this.getCompProp("extraInfo"),type:this.getCompProp("type")},compProp:{direction:this.props.viewProps.compProp.direction,size:this.getCompProp("size")}});return t.compFactory.getCompClass(e,!0)(r)}}}),define("wixappsCore/proxies/mixins/baseImageProxy",["lodash","compUtils","wixappsCore/proxies/mixins/baseProxy","react"],function(e,t,i,r){function o(t,i,r){var o=e.pick(i,["width","height"]);return"fitWidth"===t&&e.isNumber(i.width)?o:"fitHeight"===t&&e.isNumber(i.height)?o:e.isNumber(i.height)&&e.isNumber(i.width)?o:{width:r.width||16,height:r.height||16}}var n={fitWidth:"fitWidthStrict",fitHeight:"fitHeightStrict"},s="wysiwyg.viewer.components.WPhoto";return{mixins:[i],statics:{componentType:s},getCustomStyle:function(){return{position:"relative"}},renderProxy:function(){var e=this.getCompProp("imageMode")||"fill",i=this.getCompData(),a=this.getChildCompProps(s);a.compData=i;var p=n[e]||e;a.compProp={displayMode:p};var l={"data-proxy-name":"Image","data-width":i.width,"data-height":i.height,"data-uri":i.uri,"data-display-mode":p,id:a.id+"_container",style:a.style,ref:"container",key:a.id};return a.style=o(p,a.style,this.props.viewProps.getMeasures(a.id),a.id),r.DOM.div(l,t.compFactory.getCompClass(s,!0)(a))}}}),define("wixappsCore/proxies/imageProxy",["react","wixappsCore/core/typesConverter","wixappsCore/proxies/mixins/baseImageProxy"],function(e,t,i){return{mixins:[i],propTypes:{viewProps:e.PropTypes.shape({resolveImageData:e.PropTypes.func.isRequired,serviceTopology:e.PropTypes.object.isRequired,packageName:e.PropTypes.string.isRequired,globalImageQuality:e.PropTypes.object})},getCompData:function(){return t.image(this.proxyData,this.props.viewProps.resolveImageData,this.props.viewProps.serviceTopology,this.props.viewProps.packageName,this.props.viewProps.globalImageQuality)}}}),define("wixappsCore/proxies/inlineSpacerProxy",["react","wixappsCore/proxies/mixins/baseProxy"],function(e,t){return{mixins:[t],getCustomStyle:function(){return{wordSpacing:this.getCompProp("size"),display:"inline"}},renderProxy:function(){var t=this.getChildCompProps();return e.DOM.div(t," ")}}}),define("wixappsCore/proxies/inlineTextProxy",["santaProps","compUtils","wixappsCore/proxies/mixins/textProxy","wixappsCore/core/typesConverter","react"],function(e,t,i,r,o){function n(e){return e[""].parentConst=o.DOM.span,e}return{mixins:[i],propsTypes:{viewProps:o.PropTypes.shape({linkRenderInfo:e.Types.Link.linkRenderInfo.isRequired})},renderProxy:function(){var e=this.proxyData,i=this.createFormattedText(e,"span"),o=this.getRichTextChildCompProps("wysiwyg.viewer.components.WRichText",n);return o.compData=r.richText(i,e.links,this.props.viewProps.linkRenderInfo.pagesDataItemsMap),t.compFactory.getCompClass("wysiwyg.viewer.components.WRichText",!0)(o)}}}),define("wixappsCore/proxies/labelProxy",["react","santaProps","compUtils","wixappsCore/proxies/mixins/textProxy","wixappsCore/core/typesConverter"],function(e,t,i,r,o){var n="wysiwyg.viewer.components.WRichText";return{mixins:[r],statics:{componentType:n},propsTypes:{viewProps:e.PropTypes.shape({linkRenderInfo:t.Types.Link.linkRenderInfo.isRequired})},renderProxy:function(){var e=this.proxyData,t=this.getCompProp("elementTag"),r=this.createFormattedText(e,t),s=this.getRichTextChildCompProps(n);return s.compData=o.richText(r,e.links,this.props.viewProps.linkRenderInfo.pagesDataItemsMap),i.compFactory.getCompClass(n,!0)(s)}}}),define("wixappsCore/proxies/linkProxy",["react","santaProps","utils","wixappsCore/core/typesConverter","wixappsCore/proxies/mixins/boxProxy"],function(e,t,i,r,o){return{mixins:[o],propsTypes:{viewProps:e.PropTypes.shape({linkRenderInfo:t.Types.Link.linkRenderInfo.isRequired,rootNavigationInfo:t.Types.Component.rootNavigationInfo.isRequired})},getChildrenOrientation:function(){return this.getCompProp("orientation")||"vertical"},getReactClass:function(){return e.DOM.a},getCustomProps:function(){var e=r.link(this.proxyData,this.props.viewProps.linkRenderInfo.pagesDataItemsMap),t=i.linkRenderer.renderLink(e,this.props.viewProps.linkRenderInfo,this.props.viewProps.rootNavigationInfo);return t.className="wixAppsLink",t}}}),define("wixappsCore/proxies/listProxy",["react","santaProps","lodash","compUtils","wixappsCore/proxies/mixins/templateBasedChildrenProxy","wixappsCore/proxies/mixins/baseCompositeProxy"],function(e,t,i,r,o,n){function s(e){a.call(this,e.params.page)}function a(e){this.setState({currentPage:e}),this.props.viewProps.registerReLayoutPending()}function p(){return 1===this.state.currentPage?u.call(this):this.state.currentPage-1}function l(){return this.state.currentPage===u.call(this)?1:this.state.currentPage+1}function u(){var e=this.proxyData.length,t=this.getCompProp("itemsPerPage");return Math.ceil(e/t)}return{mixins:[n,o],propsTypes:{viewDef:e.PropTypes.shape({id:e.PropTypes.string.isRequired}),childAdditionalStyle:e.PropTypes.object,additionalStyle:e.PropTypes.object,viewProps:e.PropTypes.shape({registerReLayoutPending:t.Types.Layout.registerReLayoutPending.isRequired})},getDefaultProps:function(){return{}},getInitialState:function(){return{currentPage:1}},prevPageClicked:function(){a.call(this,p.call(this))},nextPageClicked:function(){a.call(this,l.call(this))},renderProxy:function(){var e,t=this.proxyData,o=t.length,n=this.getCompProp("templates")?this.getCompProp("templates.vars"):{};this.getCompProp("hidePagination")||(e=this.getCompProp("itemsPerPage"));var a=0,p=o,l=1,u=this.state.currentPage;i.isUndefined(e)||(a=(u-1)*e,p=Math.min(a+e,o),l=Math.ceil(o/e));var c=t.slice(a,p),h=c.length,d=i.map(c,function(e,t){var r="middle";0===t&&h>1?r="first":t===h-1&&(r="last");var o={indexInParent:t,indexOneInParent:t+1,positionInParent:r,isOddIndexInParent:t%2==1,currentPage:u,maxPage:l,hasNext:u!==l,hasPrev:1!==u,hidePagination:this.getCompProp("hidePagination")};o=i.merge({},n,o);var p={prevPageClicked:this.prevPageClicked,nextPageClicked:this.nextPageClicked,numberedPageClicked:s.bind(this)},c=this.getViewDefProp("data")||"this",d=this.getChildTemplateDefinition(t,h),m={vars:{proxy:o},events:p},f=a+t,g=this.getChildProxyProps(d,[c,f],m);return g["data-isfirst"]=0===t,g["data-iseven"]=t%2==1,g["data-islast"]=t===h-1,g.proxyParentId=this.props.viewDef.id+"_"+f,this.renderChildProxy(d,f,this.props.childAdditionalStyle,g)}.bind(this)),m=this.getChildCompProps("wysiwyg.viewer.components.VerticalRepeater");return m.style=i.merge(m.style,this.props.additionalStyle),r.compFactory.getCompClass("wysiwyg.viewer.components.VerticalRepeater",!0)(m,d)}}}),define("wixappsCore/proxies/mediaLabelProxy",["react","santaProps","lodash","compUtils","wixappsCore/proxies/mixins/textProxy","wixappsCore/core/typesConverter"],function(e,t,i,r,o,n){function s(e){return e[""]=i.merge({},e[""],{"data-proxy-name":"MediaLabel"}),e}function a(e){if(e){if("wix:Image"===e._type){var t=this.props.viewProps.globalImageQuality;return n.image(e,this.props.viewProps.resolveImageData,this.props.viewProps.serviceTopology,this.props.viewProps.packageName,t)}if("wix:Video"===e._type)return n.video(e)}return null}return{mixins:[o],propsTypes:{viewProps:e.PropTypes.shape({linkRenderInfo:t.Types.Link.linkRenderInfo.isRequired,globalImageQuality:e.PropTypes.object,resolveImageData:e.PropTypes.func.isRequired,serviceTopology:e.PropTypes.object.isRequired,packageName:e.PropTypes.string.isRequired})},componentDidMount:function(){this.forceUpdate()},renderProxy:function(){var e=this.proxyData,t=this.createFormattedText(e),o=this.getRichTextChildCompProps("wysiwyg.viewer.components.MediaRichText",s),p=i.mapValues(e.refMap,a.bind(this));return o.compData=n.richText(t,e.links,this.props.viewProps.linkRenderInfo.pagesDataItemsMap,p),r.compFactory.getCompClass("wysiwyg.viewer.components.MediaRichText",!0)(o)}}}),define("wixappsCore/proxies/paginatedColumnGalleryProxy",["lodash","core","react","utils","wixappsCore/proxies/mixins/templateBasedChildrenProxy","wixappsCore/proxies/mixins/baseCompositeProxy"],function(e,t,i,r,o,n){var s=t.componentUtils.galleryPagingCalculations;return{mixins:[n,o],propTypes:{viewDef:i.PropTypes.object.isRequired},componentWillUpdate:function(e){var t=Math.ceil(this.proxyData.length/this.getItemsNumberPerPage(e));t!==this.getVar("maxPage")&&this.setVar("maxPage",t,!0)},componentWillMount:function(){var e=Math.ceil(this.proxyData.length/this.getItemsNumberPerPage(this.props));this.setVar("maxPage",e,!0)},getItemsNumberPerPage:function(t){var i=parseInt(this.getCompProp("itemsPerPage",t.viewDef),10);return(e.isNaN(i)||!e.isNaN(i)&&i>=this.proxyData.length)&&(i=this.proxyData.length),i},createChildProxy:function(t,o,n){var s=this.getViewDefProp("data")||"this",a=this.getChildTemplateDefinition(t,o),p=this.getChildProxyProps(a,[s,t],{});return i.DOM.div({key:t,style:e.assign({display:"inline-block",verticalAlign:"top",width:100/n+"%"},r.style.prefix({boxSizing:"border-box"}))},this.renderChildProxy(a,t,null,p))},getCurrentPositionInData:function(e,t){return e===this.proxyData.length?0:t*e},getCurrentPage:function(){var e=this.getVar("currentPage")||1;return e=parseInt(e,10)-1},renderProxy:function(){for(var e=this.getItemsNumberPerPage(this.props),t=this.getCurrentPage(),r=this.getCurrentPositionInData(e,t),o=this.getCompProp("columns")||3,n=[],a=s.getLastItemIndex(this.proxyData,r,e),p=r;p<=a;p++)n.push(this.createChildProxy(p,e,o));var l=this.getChildCompProps();return l["data-proxy-name"]="PaginatedColumnGalleryProxy",l["data-direction"]=this.getVar("partDirection")||"ltr",l["data-horizontal-gap"]=this.getCompProp("horizontalGap")||0,l["data-vertical-gap"]=this.getCompProp("verticalGap")||0,l["data-columns"]=o,i.DOM.div(l,n)}}}),define("wixappsCore/proxies/paginationProxy",["lodash","react","wixappsCore/proxies/mixins/baseCompositeProxy"],function(e,t,i){function r(){return{style:o.call(this)}}function o(){return{display:"inline-flex"}}function n(){return e.map(s.call(this),function(e,t){
var i=ue.call(this,e),r=xe(e,t),o=ge.call(this,e);return this.renderChildProxy(i,r,null,o)}.bind(this))}function s(){return[].concat(a.call(this),w.call(this),v.call(this))}function a(){return p.call(this).concat(f.call(this))}function p(){return l.call(this)?[u.call(this)]:[]}function l(){return!ne.call(this,1)}function u(){return B.call(this,{isFirst:!0,name:c.call(this),number:m.call(this)})}function c(){return"<"+(h.call(this)?" "+d.call(this):"")}function h(){return Boolean(d.call(this))}function d(){return this.getCompProp("nameForPrevious")}function m(){return se.call(this)-1}function f(){return g.call(this)?y.call(this):[]}function g(){return V.call(this,1)}function y(){return x.call(this).concat(N.call(this))}function x(){return ie.call(this)||!S.call(this)?[P.call(this)]:[]}function P(){return B.call(this,{number:1})}function w(){return e.map(U.call(this),function(e){return B.call(this,{isFirst:1===e&&!l.call(this),isDisabled:ne.call(this,e),number:e})}.bind(this))}function v(){return C.call(this).concat(I.call(this))}function C(){return b.call(this)?T.call(this):[]}function b(){return V.call(this,pe.call(this))}function T(){return[N.call(this)].concat(D.call(this))}function D(){return ie.call(this)||!l.call(this)?[k.call(this)]:[]}function k(){return B.call(this,{number:pe.call(this)})}function I(){return S.call(this)?[A.call(this)]:[]}function S(){return!ne.call(this,pe.call(this))}function A(){return B.call(this,{name:R.call(this),number:L.call(this)})}function R(){return(M.call(this)?E.call(this)+" ":"")+">"}function M(){return Boolean(E.call(this))}function E(){return this.getCompProp("nameForNext")}function L(){return se.call(this)+1}function N(){return B.call(this,{isDisabled:!0,isGap:!0,name:"..."})}function B(e){return{paginationItemDisabled:Boolean(e.isDisabled),paginationItemFirst:Boolean(e.isFirst),paginationItemGap:Boolean(e.isGap),paginationItemName:e.name?e.name:e.number.toString(),paginationItemValue:e.isDisabled?null:e.number}}function V(e){return!F.call(this,e)}function F(t){return e.includes(U.call(this),t)}function U(){return e.range(_.call(this),H.call(this)+1)}function _(){return O.call(this)||J.call(this)?1:q.call(this)}function O(){return z.call(this)<ee.call(this)}function z(){return q.call(this)-1}function q(){return Math.max(W.call(this),1)}function W(){return j.call(this)-te.call(this)}function j(){return Math.min(G.call(this),pe.call(this))}function G(){return se.call(this)+ie.call(this)}function H(){return $.call(this)||J.call(this)?pe.call(this):Q.call(this)}function $(){return Z.call(this)<ee.call(this)}function Z(){return pe.call(this)-Q.call(this)}function J(){return pe.call(this)<4}function Q(){return Math.min(Y.call(this),pe.call(this))}function Y(){return K.call(this)+te.call(this)}function K(){return Math.max(X.call(this),1)}function X(){return se.call(this)-ie.call(this)}function ee(){return ie.call(this)?3:2}function te(){return 2*ie.call(this)}function ie(){return re.call(this)?oe.call(this):1}function re(){return!e.isNaN(oe.call(this))}function oe(){return e.parseInt(this.getCompProp("numberOfSideItems"))}function ne(e){return e===se.call(this)}function se(){return ae.call(this)||1}function ae(){return e.parseInt(this.getCompProp("currentPageNumber"))}function pe(){return le.call(this)||1}function le(){return e.parseInt(this.getCompProp("totalNumberOfPages"))}function ue(e){return ce.call(this,fe.call(this,e))}function ce(e){return e?he.call(this):de.call(this)}function he(){return me.call(this,"item")}function de(){return me.call(this,"disabledItem")}function me(e){return this.getCompProp("templates")[e]}function fe(e){return!e.paginationItemDisabled}function ge(e){var t=ue.call(this,e),i=["this"],r=ye.call(this,e);return this.getChildProxyProps(t,i,r)}function ye(e){return{vars:{proxy:e}}}function xe(t,i){return e.template("${name}${availability}${position}")({name:t.paginationItemName,availability:!t.paginationItemDisabled,position:i})}return{mixins:[i],renderProxy:function(){return t.DOM.div(r.call(this),n.call(this))}}}),define("wixappsCore/proxies/sliderGalleryProxy",["lodash","react","compUtils","wixappsCore/core/typesConverter","wixappsCore/proxies/mixins/baseProxy"],function(e,t,i,r,o){function n(){return{showAutoplay:this.getCompProp("showAutoplay")||!1,loop:this.getCompProp("loop")||!1,showCounter:this.getCompProp("showCounter")||!1,expandEnabled:this.getCompProp("expandEnabled")||!1,galleryImageOnClickAction:this.getCompProp("galleryImageOnClickAction"),imageMode:this.getCompProp("imageMode"),maxSpeed:this.getCompProp("maxSpeed")||5,margin:this.getCompProp("margin"),aspectRatio:1.333}}function s(){return{items:e.map(this.proxyData,function(t){var i=e.clone(t);return this.props.viewProps.resolveImageData(i,this.props.viewProps.serviceTopology,this.props.viewProps.packageName)}.bind(this))}}return{mixins:[o],useSkinInsteadOfStyles:!0,propsTypes:{viewProps:t.PropTypes.shape({resolveImageData:t.PropTypes.func.isRequired,serviceTopology:t.PropTypes.object.isRequired,packageName:t.PropTypes.string.isRequired,globalImageQuality:t.PropTypes.object.isRequired,linkRenderInfo:t.PropTypes.object.isRequired})},renderProxy:function(){var o=s.call(this),a=n.call(this),p=e.merge(this.getChildCompProps("wysiwyg.viewer.components.SliderGallery"),{compData:r.imageList(o,this.props.viewProps.resolveImageData,this.props.viewProps.serviceTopology,this.props.viewProps.globalImageQuality,this.props.viewProps.linkRenderInfo.pagesDataItemsMap),compProp:a,onImageSelected:this.handleViewEvent,structure:this.props.structure}),l={"data-proxy-name":"SliderGallery","data-aspect-ratio":a.aspectRatio,"data-image-mode":a.imageMode,id:p.id+"_container",style:p.style,ref:"container"};return t.DOM.div(l,i.compFactory.getCompClass("wysiwyg.viewer.components.SliderGallery",!0)(p))}}}),define("wixappsCore/proxies/stackProxy",["lodash","react","wixappsCore/proxies/mixins/baseCompositeProxy"],function(e,t,i){return{mixins:[i],getCustomStyle:function(){return{position:"relative"}},renderProxy:function(){var i=this.getCompProp("items"),r=e.map(i,function(e,t){var i=this.getCompProp("layout",e),r=0===t&&"layout"!==this.getCompProp("stackType")?"static":"absolute",o={position:r,top:i.top||"0px",left:i.left||"0px"};return this.renderChildProxy(e,t,o)}.bind(this)),o=this.getChildCompProps();return o["data-proxy-name"]="Stack",t.DOM.div(o,r)}}}),define("wixappsCore/proxies/switchBoxProxy",["lodash","react","wixappsCore/proxies/mixins/baseCompositeProxy"],function(e,t,i){return{mixins:[i],propTypes:{viewDef:t.PropTypes.object.isRequired},renderProxy:function(){var t=this.getCompProp("cases"),i=e.has(t,this.proxyData)?this.proxyData:"default",r=t[i];if(!r||0===r.length)return null;var o=this.getCompProp("orientation")||"vertical",n=e.cloneDeep(e.omit(this.props.viewDef,["comp.cases"]));return delete n.data,delete n.name,delete n.forType,delete n.comp.cases,n.id=n.id+"_"+i,n.comp.name="vertical"===o?"VBox":"HBox",n.comp.items=r,this.renderChildProxy(n,n.id,this.getProxyStyle())}}}),define("wixappsCore/proxies/textAreaProxy",["compUtils","wixappsCore/core/typesConverter","wixappsCore/proxies/mixins/inputProxy"],function(e,t,i){return{mixins:[i],renderProxy:function(){var i="wixapps.integration.components.inputs.TextArea",r=this.getChildCompProps(i),o=this.proxyData,n=void 0===o.valid||o.valid;return r.compData=t.text(this.state.text,this.getCompProp("maxLength")),r.compProp={placeholder:this.getCompProp("placeholder"),label:this.getCompProp("label"),message:this.getCompProp("message")||!n,isPreset:this.getCompProp("isPreset"),onChange:this.updateText,onBlur:this.onBlur},e.compFactory.getCompClass(i,!0)(r)},getInitialState:function(){var e=this.proxyData;return{text:void 0!==e.text?e.text:e}},updateText:function(e){var t=e.target.value;this.setState({text:t})},onBlur:function(e,t){var i=e.target.value;e.type="inputChanged",e.payload={value:i};var r=void 0!==this.proxyData.text?"text":"this";this.setData(i,r),this.handleViewEvent(e,t)}}}),define("wixappsCore/proxies/textInputProxy",["compUtils","wixappsCore/core/typesConverter","wixappsCore/proxies/mixins/inputProxy"],function(e,t,i){return{mixins:[i],renderProxy:function(){var i=this.proxyData,r="wysiwyg.viewer.components.inputs.TextInput",o=this.getChildCompProps(r);o.compData=t.text(i),o.compProp={label:this.getCompProp("label"),placeholder:this.getCompProp("placeholder")},o.message=this.getCompProp("message"),o.isValid=this.getCompProp("isValid");var n=this;return o.onChange=function(e,t){n.setData(e.target.value),e.type="inputChanged",n.handleViewEvent(e,t)},e.compFactory.getCompClass(r,!0)(o)}}}),define("wixappsCore/proxies/toggleProxy",["compUtils","wixappsCore/proxies/mixins/baseCompositeProxy"],function(e,t){function i(){var e=this.getCompProp("templates");return[this.renderChildProxy(e.on,"on"),this.renderChildProxy(e.off,"off")]}return{mixins:[t],renderProxy:function(){var t=i.call(this),r=this.getChildCompProps("wixapps.integration.components.Toggle");return r.initialState=this.getCompProp("initialState")||"off",e.compFactory.getCompClass("wixapps.integration.components.Toggle",!0)(r,t)}}}),define("wixappsCore/proxies/vBoxProxy",["react","wixappsCore/proxies/mixins/boxProxy"],function(e,t){return{mixins:[t],getChildrenOrientation:function(){return"vertical"},getReactClass:function(){return e.DOM.div}}}),define("wixappsCore/proxies/flowListProxy",["wixappsCore/proxies/listProxy"],function(e){return{mixins:[e],getDefaultProps:function(){return{additionalStyle:{display:"block",whiteSpace:"normal"},childAdditionalStyle:{display:"inline-block",width:"auto"}}}}}),define("wixappsCore/proxies/videoProxy",["compUtils","wixappsCore/core/typesConverter","wixappsCore/proxies/mixins/baseProxy"],function(e,t,i){var r="wysiwyg.viewer.components.Video";return{mixins:[i],statics:{componentType:r},renderProxy:function(){var i=this.proxyData,o=this.getChildCompProps(r);return o.compData=t.video(i),o.compProp={showControls:this.getCompProp("showControls"),autoplay:this.getCompProp("autoplay"),loop:this.getCompProp("loop"),showinfo:this.getCompProp("showinfo"),lightTheme:this.getCompProp("lightTheme")},e.compFactory.getCompClass(r,!0)(o)}}}),define("wixappsCore/proxies/videoThumbProxy",["react","wixappsCore/core/typesConverter","wixappsCore/proxies/mixins/baseImageProxy"],function(e,t,i){return{mixins:[i],propTypes:{viewProps:e.PropTypes.shape({classSet:e.PropTypes.func.isRequired,resolveImageData:e.PropTypes.func.isRequired,serviceTopology:e.PropTypes.object.isRequired})},getProxyCustomCssClass:function(){return this.props.viewProps.classSet({videoIndicator:!0})},getCompData:function(){return t.videoThumb(this.proxyData,this.props.viewProps.resolveImageData,this.props.viewProps.serviceTopology)}}}),define("wixappsCore/core/stylesheetRenderer",["lodash"],function(e){function t(e){return/^#/.test(e)?e:"#"+e}function i(t){return"{"+e.map(t,function(e,t){return t+":"+e}).join(";")+"}"}function r(t,r,o){var n=t+" "+r+" ",s=[];return e.forOwn(o,function(t,r){e.forEach(r.split(/\s*,\s*/),function(e){var r=n+e+i(t);s.push(r)})}),s}function o(i,o,n){if(o=t(o),n=t(n),e.isEmpty(i))return null;if(!e.isArray(i))throw"stylesheetRenderer:: stylesheet definition must be an array";return e.flattenDeep(e.map(i,r.bind(null,o,n))).join("")}return{render:o}}),define("wixappsCore/util/wrappedProxyStyles",["lodash"],function(e){function t(t){return e.some(i,function(i){return e.includes(t,i)})}var i=["padding","margin","border","top","left","right","bottom","visibility"];return{getWrapperCssClass:function(t){return e.some(t,function(t,i){return e.includes(i,"flex")})?"flex_display":""},getProxyStyles:function(i){return e.mapValues(i,function(e,i){return t(i)?null:e})}}}),define("wixappsCore/proxies/viewProxy",["lodash","react","wixappsCore/util/viewsUtils","wixappsCore/proxies/mixins/baseProxy","wixappsCore/proxies/mixins/baseCompositeProxy","wixappsCore/core/stylesheetRenderer","wixappsCore/util/typeNameResolver","wixappsCore/util/wrappedProxyStyles"],function(e,t,i,r,o,n,s,a){function p(e,t,r){var o=this.getChildProxyProps(e);return o.viewDef=e,o.viewName=t,o.forType=r,o.viewId=i.sanitizeCompId(t+"_"+r+"_"+this.props.formatName),o.viewContainerId=i.sanitizeCompId(o.viewId+"_"+this.contextPath),o.parentContextPath=this.innerContextPath,o}function l(e,i,r){var o=n.render(e,i,r);return t.DOM.style({type:"text/css",key:i+"."+r,dangerouslySetInnerHTML:{__html:o||""}})}function u(t,i,r){var o=this.getChildCompProps();return o.id=t.viewContainerId,o.ref="viewWrapper",o.style=e.merge({},i,r),o.className+=" "+a.getWrapperCssClass(o.style),o}var c=t.createClass({displayName:"WixappsStyleSheet",mixins:[r],propTypes:{viewContainerId:t.PropTypes.string,viewProps:t.PropTypes.shape({getViewDef:t.PropTypes.func.isRequired,compId:t.PropTypes.string.isRequired})},renderProxy:function(){return l(this.getViewDefProp("stylesheet"),this.props.viewProps.compId,this.props.viewContainerId)}});return{mixins:[o],propTypes:{formatName:t.PropTypes.string.isRequired,viewName:t.PropTypes.string,viewContainerId:t.PropTypes.string,viewContextMap:t.PropTypes.shape({hasContext:t.PropTypes.func.isRequired}),viewProps:t.PropTypes.shape({getViewDef:t.PropTypes.func.isRequired,compId:t.PropTypes.string.isRequired})},renderProxy:function(){var i=this.getCompProp("name")||this.props.viewName,r=this.proxyData,o=s.getDataItemTypeName(r),n=this.props.viewProps.getViewDef(i,o,this.props.formatName);if(!n)throw"ViewProxy:: Cannot find view definition for viewName ["+i+"] typeName ["+o+"]format ["+this.props.formatName+"]";var l=this.getViewDefProp("data")||"this",h=e.merge({},this.getCompProp("vars"),this.getViewDefProp("vars",n));this.innerContextPath&&this.props.viewContextMap.hasContext(this.innerContextPath)||(this.innerContextPath=this.createContext(this.contextPath,[l],{view:h},{},{}));var d=p.call(this,n,i,o),m=this.getProxyStyle(),f=this.getStyleDef(n,this.innerContextPath),g=u.call(this,d,f,m),y=a.getProxyStyles(g.style);e.has(g.style,"height")&&(y.height=y.width="100%");var x=this.renderChildProxy(n,"child",y,d),P=p.call(this,n,i,o);P.key="stylesheet";var w=t.createElement(c,P);return t.DOM.div(g,w,x)}}}),define("wixappsCore/proxies/verticalLineProxy",["compUtils","wixappsCore/proxies/mixins/baseProxy"],function(e,t){return{mixins:[t],renderProxy:function(){var t=this.getChildCompProps("wysiwyg.viewer.components.VerticalLine");return e.compFactory.getCompClass("wysiwyg.viewer.components.VerticalLine",!0)(t)}}}),define("wixappsCore/core/wixappsCoreSantaTypes",["react","lodash","santaProps","coreUtils","wixappsCore/core/expressions/functionLibrary","wixappsCore/core/wixappsLogger","wixappsCore/util/localizer","wixappsCore/core/logicFactory","wixappsCore/util/wixappsUrlParser"],function(e,t,i,r,o,n,s,a,p){function l(e){return e.siteAPI.getSiteAspect("wixappsDataAspect")}function u(e,t){var i=m.Component.compData.fetch(e,t);return i.dataItemRef||i}function c(e){return t.memoize(e,function(e){return e.siteData})}var h=i.createSantaType,d=e.PropTypes,m=i.Types,f=r.siteDataUtils;"undefined"!=typeof WeakMap&&(t.memoize.Cache=WeakMap);var g=h(d.string,function(e,t){var i=u(e,t),r=e.siteData.getClientSpecMapEntry(i.appInnerID);return r&&(r.packageName||r.type)}),y=h(d.object,function(e,t){return l(e).getDescriptor(g.fetch(e,t))}),x=h(d.func,function(e){return function(t,i){return n.reportEvent(e.siteData,t,i)}}),P=h(d.func,function(e){return function(t,i){return n.reportError(e.siteData,t,i)}}),w=h(d.func,function(e){return e.siteAPI.setPageTitle}),v=h(d.object,function(e,t){var i=u(e,t);return e.siteData.getClientSpecMapEntry(i.appInnerID)}),C=h(d.object,function(e,t){var i=u(e,t);return l(e).getExtraDataByCompId(g.fetch(e,t),i.id)}),b=h(d.func,function(e){return l(e).getDataByPath}),T=h(d.func,function(e){return l(e).setDataByPath}),D=h(d.func,function(e){return l(e).setBatchedData}),k=h(d.string,function(e,t){return t.formatName||m.isMobileView.fetch(e,t)?"Mobile":""}),I=h(d.func,c(function(e,t){var r=e.siteData,n=m.isMobileView.fetch(e,t),s=r.mobile.getZoom();i.Types.Theme.colorsMap.fetch(e,t);var a=r.getColor,p={rendererModel:{runningExperiments:f.getRendererModel(r,"runningExperiments")}};return o.bind(null,n,s,r.serviceTopology,a,p)})),S=h(d.object,function(e,t){var i=l(e);return s.getLocalizationBundleForPackage(i,g.fetch(e,t),e.siteData)}),A=h(d.object,function(e,t){return l(e).getMetadata(g.fetch(e,t))||{}}),R=h(d.func,function(e,t){var i=u(e,t);return a.getLogicClass(i.appPartName)}),M=h(d.func,c(function(e){return p.getAppPageUrl.bind(p,e.siteData)})),E=h(d.func,c(function(e){return p.getAppPageParams.bind(p,e.siteData)})),L=h(d.func,c(function(e){return p.getAppPartZoomUrl.bind(p,e.siteData)})),N=h(d.func,c(function(e){return function(i){return t.transform(e.siteData.measureMap,function(e,t,r){t[i]&&(e[r]=t[i])},{})}})),B=h(d.func,c(function(e){return function(t,r){return i.componentPropsBuilder.getCompProps(t,e.siteAPI,r)}}));return{Wixapps:{__DangerousSantaTypes:{getMeasures:N,forceUpdate:h(d.func,function(e){return e.siteAPI.forceUpdate})},Core:{getComponentProps:B,localizationBundle:S,Data:{getDataByPath:b,setDataByPath:T,setBatchedData:D},getAppPageUrl:M,getAppPageParams:E,getAppPartZoomUrl:L,FunctionLibrary:I,formatName:k,compExtraData:C,appService:v,descriptor:y,packageName:g,reportEvent:x,reportError:P,setPageTitle:w,packageMetadata:A,Logic:R}}}}),define("wixappsCore/proxies/proxyMap",["wixappsCore/core/proxyFactory","wixappsCore/proxies/zoomLinkProxy","wixappsCore/proxies/appLinkProxy","wixappsCore/proxies/nativeAppLinkProxy","wixappsCore/proxies/areaProxy","wixappsCore/proxies/buttonProxy","wixappsCore/proxies/button2Proxy","wixappsCore/proxies/clippedParagraphProxy","wixappsCore/proxies/comboBoxProxy","wixappsCore/proxies/cssProxy","wixappsCore/proxies/dateProxy","wixappsCore/proxies/erasableTextInputProxy","wixappsCore/proxies/fixedRatioProxy","wixappsCore/proxies/galleryProxy","wixappsCore/proxies/hBoxProxy","wixappsCore/proxies/horizontalLineProxy","wixappsCore/proxies/iconProxy","wixappsCore/proxies/imageButtonProxy","wixappsCore/proxies/imageButtonWithTextProxy","wixappsCore/proxies/imageProxy","wixappsCore/proxies/inlineSpacerProxy","wixappsCore/proxies/inlineTextProxy","wixappsCore/proxies/labelProxy","wixappsCore/proxies/linkProxy","wixappsCore/proxies/listProxy","wixappsCore/proxies/mediaLabelProxy","wixappsCore/proxies/paginatedColumnGalleryProxy","wixappsCore/proxies/paginationProxy","wixappsCore/proxies/sliderGalleryProxy","wixappsCore/proxies/stackProxy","wixappsCore/proxies/switchBoxProxy","wixappsCore/proxies/textAreaProxy","wixappsCore/proxies/textInputProxy","wixappsCore/proxies/toggleProxy","wixappsCore/proxies/vBoxProxy","wixappsCore/proxies/flowListProxy","wixappsCore/proxies/videoProxy","wixappsCore/proxies/videoThumbProxy","wixappsCore/proxies/viewProxy","wixappsCore/proxies/verticalLineProxy","santaProps","wixappsCore/core/wixappsCoreSantaTypes"],function(e,t,i,r,o,n,s,a,p,l,u,c,h,d,m,f,g,y,x,P,w,v,C,b,T,D,k,I,S,A,R,M,E,L,N,B,V,F,U,_,O,z){O.extendTypes(z),e.register("ZoomLink",t),e.register("AppLink",i),e.register("NativeAppLink",r),e.register("Area",o),e.register("Container",o),e.register("Button2",s),e.register("Button",n),e.register("ClippedParagraph",a),e.register("ClippedParagraph2",a),e.register("ComboBox",p),e.register("Css",l),e.register("Date",u),e.register("ErasableTextInput",c),e.register("FixedRatioLayout",h),e.register("Gallery",d),e.register("HBox",m),e.register("HorizontalLine",f),e.register("Icon",g),e.register("ImageButton",y),e.register("ImageButtonWithText",x),e.register("Image",P),e.register("InlineSpacer",w),e.register("InlineText",v),e.register("Label",C),e.register("Link",b),e.register("MediaLabel",D),e.register("ColumnGallery",k),e.register("PaginatedColumnGallery",k),e.register("Pagination",I),e.register("SliderGallery",S),e.register("Stack",A),e.register("SwitchBox",R),e.register("TextArea",M),e.register("TextInput",E),e.register("Toggle",L),e.register("VBox",N),e.register("VerticalList",T),e.register("List2",T),e.register("PaginatedList",T),e.register("FlowList",B),e.register("Video",V),e.register("VideoThumb",F),e.register("View",U),e.register("VerticalLine",_)}),define("wixappsCore/core/wixappsDataAspect",["lodash","core","wixappsCore/core/wixappsDataHandler"],function(e,t,i){function r(t){this.aspectSiteApi=t,e.bindAll(this,e.keys(r.prototype))}var o=t.siteAspectsRegistry;r.prototype={getDescriptor:function(e){return i.getDescriptor(this.aspectSiteApi.getSiteData(),e)},getDataByCompId:function(e,t){return i.getDataByCompId(this.aspectSiteApi.getSiteData(),e,t)},getExtraDataByCompId:function(e,t){return i.getExtraDataByCompId(this.aspectSiteApi.getSiteData(),e,t)},getDataByPath:function(e,t){return i.getDataByPath(this.aspectSiteApi.getSiteData(),e,t)},setDataByPath:function(e,t,r){i.setDataByPath(this.aspectSiteApi.getSiteData(),e,t,r),this.aspectSiteApi.forceUpdate()},setBatchedData:function(t,r,o){if(0!==r.length){var n=this.aspectSiteApi.getSiteData();e.forEach(r,function(e){i.setDataByPath(n,t,e.path,e.value)}),o||this.aspectSiteApi.forceUpdate()}},getMetadata:function(e,t){return t?i.getCompMetadata(this.aspectSiteApi.getSiteData(),e,t):i.getPackageMetadata(this.aspectSiteApi.getSiteData(),e)},setMetadata:function(e,t,r){i.setPackageMetadata(e,this.aspectSiteApi.getSiteData(),t,r),this.aspectSiteApi.forceUpdate()}},o.registerSiteAspect("wixappsDataAspect",r)}),define("wixappsCore",["wixappsCore/core/viewsRenderer","wixappsCore/core/viewsCustomizer","wixappsCore/core/proxyFactory","wixappsCore/core/logicFactory","wixappsCore/core/styleCollector","wixappsCore/core/styleData","wixappsCore/core/ViewContextMap","wixappsCore/core/wixappsDataHandler","wixappsCore/core/wixappsLogger","wixappsCore/proxies/mixins/baseProxy","wixappsCore/proxies/mixins/inputProxy","wixappsCore/core/typesConverter","wixappsCore/util/videoThumbDataHandler","wixappsCore/proxies/mixins/baseCompositeProxy","wixappsCore/util/spacersCalculator","wixappsCore/core/wixappsConfiguration","wixappsCore/core/linksConverter","wixappsCore/util/localizer","wixappsCore/core/expressions/functionLibrary","wixappsCore/util/viewsUtils","wixappsCore/util/memoizedViewsUtils","wixappsCore/util/richTextUtils","wixappsCore/util/wixappsUrlParser","wixappsCore/util/typeNameResolver","wixappsCore/util/styleMapping","wixappsCore/core/expressions/expression","wixappsCore/proxies/proxyMap","wixappsCore/core/wixappsDataAspect"],function(e,t,i,r,o,n,s,a,p,l,u,c,h,d,m,f,g,y,x,P,w,v,C,b,T,D){return{viewsRenderer:e(),viewsCustomizer:t,proxyFactory:i,baseProxy:l,inputProxy:u,baseCompositeProxy:d,typesConverter:c,logicFactory:r,ViewContextMap:s,wixappsDataHandler:a,wixappsLogger:p,videoThumbDataHandler:h,styleCollector:o,spacersCalculator:m,wixappsConfiguration:f,linksConverter:g,localizer:y,FunctionLibrary:x,viewsUtils:P,memoizedViewsUtils:w,wixappsUrlParser:C,typeNameResolver:b,styleData:n,richTextUtils:v,convertStringToPrimitive:D.convertStringToPrimitive,styleMapping:T,expression:{evaluate:D.evaluate,isExpression:D.isExpression}}});
//# sourceMappingURL=wixappsCore.min.js.map