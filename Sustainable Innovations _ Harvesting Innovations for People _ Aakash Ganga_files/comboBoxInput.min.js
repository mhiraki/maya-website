"use strict";define("comboBoxInput",["lodash","react","core","santaProps","textCommon"],function(e,t,i,o,s){function a(e){return t.DOM.option({value:e.value,default:e.default,style:e.style,ref:e.ref||e.value,disabled:e.disabled,key:e.key},e.text)}function n(t,i,o,s){var n,l=!1,p=e.map(t,function(t,i){return l=l||t.value===o,a(e.assign({default:t.value===o,key:i},t))});return n=i.placeholder?e.assign({disabled:!0,default:!l,style:{display:"none"},className:s,ref:"placeholder",key:"placeholder-"+i.placeholder.value},i.placeholder,{value:""}):{default:!l,style:{display:"none"},className:s,text:"",value:"",ref:"placeholder",key:"noPlaceholder"},p.unshift(a(n)),p}function l(t){return e.get(t,["compProp","placeholder","value"])}function p(e){return e.compData.value||l(e)}function r(t,i){return t.value===e.get(i,"placeholder.value")}function c(e){return{$validity:e.errorMessage?"invalid":"valid"}}var u=i.compMixins,d=function(e){return i.compMixins.validatableMixin.getPublicState(e)};return{displayName:"ComboBoxInput",mixins:[u.skinBasedComp,u.runTimeCompData,s.textScaleMixin,i.compMixins.inputFocusMixin,i.compMixins.validatableMixin.validatable,i.compMixins.compStateMixin(d)],propTypes:{compData:o.Types.Component.compData.isRequired,compProp:o.Types.Component.compProp.isRequired,componentViewMode:o.Types.RenderFlags.componentViewMode,onSelectionChange:t.PropTypes.func,shouldResetComponent:o.Types.RenderFlags.shouldResetComponent,errorMessage:t.PropTypes.string},statics:{useSantaTypes:!0,behaviors:e.assign({},i.compMixins.inputFocusMixin.INPUT_FOCUS_BEHAVIORS,i.compMixins.validatableMixin.VALIDATABLE_BEHAVIORS)},focus:function(){this.refs.collection.focus()},blur:function(){this.refs.collection.blur()},getInitialState:function(){return e.assign(c(this.props),d(),{value:p(this.props),defaultValue:this.props.compData.value,placeholderValue:l(this.props)})},setCustomValidity:function(e){this.refs.collection.setCustomValidity(e)},componentWillReceiveProps:function(e){e.shouldResetComponent!==this.props.shouldResetComponent&&this.hideValidityIndication();var t=c(e),i=e.compData.value!==this.state.value,o=l(e)!==this.state.placeholderValue;(i||o||this.props.onSelectionChange)&&(t.value=p(e)),this.setState(t)},onChange:function(t,i){var o=t.target.value;this.updateData({value:o}),this.props.onSelectionChange?(t.type="selectionChanged",t.payload=e.find(this.props.compData.options,{value:o})||{},this.props.onSelectionChange(t,i)):this.setState({value:o}),this.handleAction("change",t)},onFocus:function(e){this.handleAction("focus",e)},onBlur:function(e){this.handleAction("blur",e)},getSkinProperties:function(){var t={"with-validation-indication":this.shouldShowValidityIndication()};t[this.props.compProp.textAlignment+"-direction"]=!0;var i={};i["padding"+e.capitalize(this.props.compProp.textAlignment)]=this.props.compProp.textPadding;var o=this.props.compData.options;return{"":{className:this.classSet(t),"data-disabled":!!this.props.compProp.isDisabled,"data-preview":e.isFunction(this.getComponentPreviewState)&&this.getComponentPreviewState()},collection:{defaultValue:-1,disabled:!!e.get(this.props,"compProp.isDisabled"),children:n(o,this.props.compProp,this.state.defaultValue,this.classSet({"placeholder-style":!0})),value:this.state.value,required:this.props.compProp.required,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,style:e.merge(i,this.getFontSize()),className:this.isPlaceholderSelected()?this.classSet({"placeholder-style":!0}):"","data-preview":e.isFunction(this.getComponentPreviewState)&&this.getComponentPreviewState()},errorMessage:{children:[this.props.errorMessage]}}},isPlaceholderSelected:function(){return r(this.state,this.props.compProp)}}});
//# sourceMappingURL=comboBoxInput.min.js.map